{"version":3,"sources":["services/ClientConfig.js","services/Socket.js","components/config/Config.js","components/misc/Header.js","components/weaponEditor/sub/LevelSelector.js","components/weaponEditor/sub/ChromaSelector.js","components/weaponEditor/sub/SkinGridItem.js","components/weaponEditor/sub/WeaponHeader.js","components/weaponEditor/sub/ActionsDrawer.js","components/weaponEditor/sub/WeightDialog.js","components/weaponEditor/WeaponEditor.js","components/collection/sub/WeaponCollectionItem.js","components/collection/sub/useWindowDimensions.js","components/collection/Collection.js","pages/CollectionHome.js","pages/BuddiesHome.js","components/onboarding/Stepper.js","components/onboarding/WelcomePage.js","components/onboarding/AccountPage.js","pages/Onboarding.js","components/misc/ConnectionFailed.js","components/misc/WebsocketHandshake.js","App.js","reportWebVitals.js","index.js"],"names":["Config","WEBSOCKET_URL","SOCKET_RETRY_THRESHOLD","WEIGHT_INTERVALS","Socket","this","socket","subscriptions","listening","a","Promise","resolve","reject","readyState","console","log","WebSocket","onerror","event","onopen","messageHandler","error","data","send","JSON","stringify","callback","subscribe","request","removable","type","undefined","existing","find","action","push","filter","length","onmessage","response","parse","Object","keys","forEach","subscribedEvent","unsubscribe","onclose","useStyles","makeStyles","theme","backdrop","display","alignItems","justifyContent","mainPaper","margin","width","height","minWidth","maxWidth","justifySelf","alignContent","flexWrap","overflow","props","classes","useTheme","Backdrop","open","className","style","zIndex","Paper","transform","appBar","flexGrow","flexDirection","backgroundColor","border","borderRadius","statusBar","alignSelf","marginRight","spacing","inGameIndicator","color","loading","animation","Header","React","useState","randomizing","setRandomizing","inGame","setInGame","useEffect","state","Slide","direction","in","variant","position","Toolbar","Typography","Grow","Tooltip","title","SportsEsports","actions","IconButton","edge","onClick","Autorenew","Shuffle","Settings","LevelSelector","equippedChromaIndex","maxLevel","levelData","toString","equippedLevelIndex","selectedLevel","setSelectedLevel","values","setter","ToggleButtonGroup","value","exclusive","onChange","newLevel","map","uuid","index","level_type","disabled","unlocked","arrow","ToggleButton","selected","favorite","shorthand_display_name","display_name","ChromaSelector","maxChroma","chromaData","selectedChromaIndex","setSelectedChroma","marginLeft","swatch_icon","alt","src","weaponPaper","transition","palette","primary","main","container","tierImage","bottom","objectFit","objectPosition","favoriteButton","right","Weapon","skinData","isMelee","weaponData","isFavorite","equipped","isEquipped","setIsEquipped","equip","warning","light","backgroundImage","display_icon","backgroundSize","backgroundRepeat","backgroundPosition","content_tier","left","header","marginTop","headerButton","WeaponHeader","equippedSkinData","inventoryWeaponData","saving","saveCallback","favoriteCallback","locked","isLocked","lockCallback","weightCallback","dev_name","Math","round","weight","total_weights","mountOnEnter","unmountOnExit","FitnessCenter","Lock","LockOpen","Favorite","FavoriteBorder","Close","equippedActions","padding","previewAction","previewActionIcon","ActionsDrawer","hasAlternateMedia","showingVideo","changeVideoState","changeVideoStateCallback","showingControls","changeControlsState","changeControlsStateCallback","levelFavorited","isFavoriteLevel","chromaFavorited","isFavoriteChroma","toggleFavoriteLevelCallback","toggleFavoriteChromaCallback","canFavoriteLevel","canFavoriteChroma","visible","outlinecolor","Zoom","Loyalty","LoyaltyOutlined","Palette","PaletteOutlined","StopOutlined","PlayArrowOutlined","Theaters","TheatersOutlined","content","WeightDialog","setWeight","startTotalMinusThis","totalWeights","total","setTotal","cancel","close","Dialog","fullWidth","onClose","DialogTitle","DialogContent","DialogContentText","marginBottom","Slider","valueLabelDisplay","step","marks","min","max","e","DialogActions","Button","masterGrid","boxShadow","outline","backgroundClip","paperOnTopContent","background","paddingBottom","top","mainSkinMedia","paperCustomizingContent","overflowY","levelSelectors","skinSelector","WeaponEditor","inventoryData","weaponUuid","skinsData","skins","initSkinData","initialSkinData","skin_uuid","setEquippedSkinData","levels","loadoutWeaponData","level_uuid","equippedLevelData","setEquippedLevelData","chromas","chroma_uuid","equippedChromaData","setEquippedChromaData","isFavoriteSkin","setIsFavoriteSkin","favoriteLevels","setFavoriteLevels","favoriteChromas","setFavoriteChromas","setCanFavoriteLevel","setCanFavoriteChroma","setIsFavoriteLevel","setIsFavoriteChroma","setIsLocked","changeOpenState","setSaving","hasUpgrades","setHasUpgrades","changeAlternateMediaState","weightDialogOpen","setWeightDialogOpen","equipSkin","skinUuid","highestLevelIndex","i","j","document","video_preview","favLevels","level","includes","refreshFavoritedLevels","favChromas","chroma","refreshFavoritedChromas","levelUuid","chromaUuid","oldSkinId","oldChromaId","oldLevelId","sameSkin","payload","success","then","setTimeout","closeEditor","maxHeight","overflowX","showChromaVideo","showLevelImage","controls","autoPlay","onEnded","getSkinMedia","levelUuidOverride","stateOverride","newState","currentlyFavoritedLevels","splice","indexOf","chromaUuidOverride","currentlyFavoritedChromas","Divider","Grid","item","xs","scaleOverrides","weaponContainerVideo","WebkitTransform","backfaceVisibility","bottomGradient","dataContainer","textContainer","buddyContainer","buddyImage","weaponLabelHolder","weaponLabel","textAlign","textOverflow","setUpdatingBuddy","updateSkinData","showSkinName","updateSkinNameVisibility","preloadedImage","setPreloadedImage","comparisonTarget","skin_image","Image","buddy_name","Fade","onMouseEnter","onMouseLeave","onMouseDown","weaponEditorCallback","useLargeWeaponImage","displayName","Collapse","skin_name","isSidearm","buddy_image","getWindowDimensions","window","innerWidth","innerHeight","root","collectionMainGridItem","collectionItem","grid","Collection","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","useWindowDimensions","smallWindow","setSmallWindow","setUseLargeWeaponImage","row","loadout","md","sidearm","sm","footer","CollectionHome","loaded","setLoaded","updateInventoryData","showWeaponEditor","setWeaponEditorState","setLoadout","weaponEditor","setWeaponEditor","inventoryCallback","putCallback","updateLoadout","updateInventory","Container","stepper","steps","OnboardingStepper","activeStep","Stepper","label","Step","StepLabel","headerText","WebkitBackgroundClip","WebkitTextFillColor","bodyText","list","paddingTop","listItem","buttonDiv","startButton","WelcomePage","pageStyle","List","dense","feature","ListItem","ListItemText","nextCallback","start","gameNotRunning","autodetectClient","accountDataList","buttons","nextButton","AccountPage","gameRunning","setGameRunning","enableGameStartButton","setEnableGameStartButton","ready","setReady","accountRetrieved","setaccountRetrieved","accountData","setAccountData","transitionDelay","ListItemAvatar","Avatar","Person","game_name","game_tag","Place","region","Public","shard","paper","pageContent","Onboarding","pages","nextStep","setActiveStep","default","retryButton","ConnectionFailed","retry","drawer","WebsocketHandshake","Box","CircularProgress","mainTheme","createTheme","secondary","typography","fontFamily","join","overrides","MuiCssBaseline","body","App","isLoading","setLoading","showLoad","setShowLoad","connected","setConnected","onboardingCompleted","setOnboardingCompleted","errorPage","setErrorPage","stopLoading","connectSocket","connect","catch","disconnect","getOnboardingState","ThemeProvider","CssBaseline","startupChecks","basename","exact","path","to","BuddiesHome","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d41b170c.chunk.js","sourcesContent":["const Config = {\r\n\r\n    WEBSOCKET_URL: \"ws://localhost:8765\",\r\n    SOCKET_RETRY_THRESHOLD: 5,\r\n\r\n    WEIGHT_INTERVALS: 10,\r\n\r\n}\r\n\r\nexport default Config","import React from 'react';\r\n\r\nimport Config from './ClientConfig';\r\n\r\nclass Socket {\r\n    constructor() {\r\n        this.socket = null\r\n        this.subscriptions = {}\r\n        this.listening = false\r\n    }\r\n\r\n    async connect() {\r\n        return new Promise((resolve, reject) => {\r\n            if (this.socket === null || (this.socket !== null && this.socket.readyState !== 1)) {\r\n                try {\r\n                    console.log(\"connecting\")\r\n                    this.socket = new WebSocket(Config.WEBSOCKET_URL);\r\n                    console.log(this.socket)\r\n                    this.socket.onerror = (event) => {\r\n                        console.log(event)\r\n\r\n                        socket = null\r\n                        return reject();\r\n                    }\r\n                    this.socket.onopen = (event) => {\r\n                        console.log(\"opened\")\r\n                        console.log(this.socket)\r\n                        this.messageHandler()\r\n                        return resolve();\r\n                    }\r\n                } catch (error) {\r\n                    console.log(\"rip\")\r\n                    this.socket = null;\r\n                    return reject();\r\n                }\r\n            } else {\r\n                return resolve();\r\n            }\r\n        })\r\n    }\r\n\r\n    async send(data) {\r\n        if (this.socket !== null) {\r\n            try {\r\n                // console.log(`sending request for ${data.request}`)\r\n                this.socket.send(JSON.stringify(data));\r\n            } catch {\r\n                console.log(\"you fucking moron this state should never occur\")\r\n            }\r\n        } else {\r\n\r\n        }\r\n    }\r\n\r\n    async request(data, callback) {\r\n        if (this.socket !== null) {\r\n            try {\r\n                // console.log(`sending request for ${data.request}`)\r\n                this.socket.send(JSON.stringify(data));\r\n            } catch {\r\n                console.log(\"you fucking moron this state should never occur\")\r\n                return false;\r\n            }\r\n\r\n            this.subscribe(data.request, callback, true)\r\n        } else {\r\n            return false\r\n        }\r\n    }\r\n\r\n    subscribe(event, callback, removable = false, type = \"message\") {\r\n        if (this.subscriptions[event] === undefined) {\r\n            this.subscriptions[event] = []\r\n        }\r\n        //check if the callback is already in the subscriptions for the event\r\n        const existing = this.subscriptions[event].find(action => action.callback === callback)\r\n        if(existing === undefined) {\r\n            this.subscriptions[event].push({\r\n                \"callback\": callback,\r\n                \"removable\": removable,\r\n                \"type\": type,\r\n            })\r\n        }\r\n        \r\n        console.log(this.subscriptions)\r\n    }\r\n    unsubscribe(event, callback) {\r\n        if (this.subscriptions[event] !== undefined) {\r\n            this.subscriptions[event] = this.subscriptions[event].filter(action => action.callback !== callback)\r\n        }\r\n        if (this.subscriptions[event].length === 0) {\r\n            delete this.subscriptions[event]\r\n        } \r\n    }\r\n\r\n    messageHandler() {\r\n        if (!this.listening) {\r\n            this.listening = true\r\n            this.socket.onmessage = async (event) => {\r\n                const response = JSON.parse(event.data);\r\n                Object.keys(this.subscriptions).forEach(subscribedEvent => {\r\n                    if (response.event === subscribedEvent) {\r\n                        for (const action of this.subscriptions[subscribedEvent]) {\r\n                            if (action.type === \"message\") {\r\n                                console.log(response)\r\n                                action.callback(response.data)\r\n                                if (action.removable) {\r\n                                    this.unsubscribe(subscribedEvent, action.callback)\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n            this.socket.onclose = async (event) => {\r\n                console.log(\"closed\")\r\n                for (const action of this.subscriptions[\"onclose\"]) {\r\n                    console.log(action)\r\n                    if (action.type === \"onclose\") {\r\n                        action.callback()\r\n                        if (action.removable) {\r\n                            this.unsubscribe(\"onclose\", action.callback)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nvar socket = new Socket()\r\nexport default socket","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Paper, Backdrop, CircularProgress, IconButton, Zoom, Grow } from '@material-ui/core'\r\n\r\n//icons \r\nimport { Theaters, TheatersOutlined, Palette, Loyalty, LoyaltyOutlined, PaletteOutlined, PlayArrowOutlined, StopOutlined } from '@material-ui/icons'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    backdrop: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n    mainPaper: {\r\n        margin: \"auto\",\r\n        width: \"40%\",\r\n        height: \"70vh\",\r\n        minWidth: \"400px\",\r\n        maxWidth: \"550px\",\r\n\r\n        display: \"flex\",\r\n        justifySelf: \"flex-start\",\r\n        justifyContent: \"center\",\r\n        alignContent: \"flex-start\",\r\n        flexWrap: \"wrap\",\r\n        overflow: \"auto\",\r\n    }\r\n\r\n}))\r\n\r\nfunction Config(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n\r\n    return (\r\n        <Backdrop open={false} className={classes.backdrop} style={{ zIndex: 4 }}>\r\n            <Paper className={classes.mainPaper}>\r\n                asdf\r\n            </Paper>\r\n        </Backdrop>\r\n    )\r\n}\r\n\r\nexport default Config;","import React, { useEffect } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Grid, Grow, Typography, Toolbar, IconButton, Slide, Paper, Tooltip } from '@material-ui/core'\r\n\r\n//icons\r\nimport { Settings, Shuffle, Autorenew, SportsEsports } from '@material-ui/icons';\r\n\r\nimport socket from \"../../services/Socket\";\r\nimport Config from \"../config/Config\"\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    \"@global\": {\r\n        \"@keyframes spin\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    appBar: {\r\n        flexGrow: 1,\r\n        margin: \"12px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        zIndex: 5,\r\n        backgroundColor: \"rgba(0, 0, 0, 0)\",\r\n        border: \"0px rgb(255,255,255) solid\",\r\n        borderRadius: \"15px\",\r\n    },\r\n\r\n    statusBar: {\r\n        alignSelf: \"center\",\r\n        justifySelf: \"center\",\r\n        display: \"flex\",\r\n        marginRight: theme.spacing(1),\r\n        flexGrow: 1,\r\n    },\r\n\r\n    inGameIndicator: {\r\n        alignSelf: \"center\",\r\n        color: \"#9de069\",\r\n    },\r\n\r\n    action: {\r\n        width: \"40px\",\r\n        height: \"40px\",\r\n        margin: theme.spacing(.25),\r\n    },\r\n\r\n    loading: {\r\n        animation: \"spin 4s linear infinite\",\r\n    },\r\n\r\n}));\r\n\r\n\r\nfunction Header(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [randomizing, setRandomizing] = React.useState(false);\r\n    const [inGame, setInGame] = React.useState(false);\r\n\r\n    useEffect(() => {\r\n        socket.subscribe(\"game_state\",(data) => {setInGame(data.state)})\r\n    }, [])\r\n\r\n    async function randomize() {\r\n        setRandomizing(true);\r\n        // setTimeout(() => {\r\n        //     setRandomizing(false);\r\n        // }, 3000);\r\n        function callback(response) {\r\n            setRandomizing(false);\r\n        }\r\n        \r\n        socket.request({ \"request\": \"randomize_skins\" }, callback);\r\n    }\r\n\r\n    // socket.onmessage = async (event) => {\r\n    //     const response = JSON.parse(event.data);\r\n    //     console.log(response)\r\n    //     if (response.event === \"game_state\") {\r\n    //         if (response.data.state === true) {\r\n    //             setInGame(true);\r\n    //         } else {\r\n    //             setInGame(false);\r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Config />\r\n            <Slide direction=\"down\" in>\r\n                <Paper variant=\"outlined\" className={classes.appBar} position=\"static\">\r\n                    <Toolbar>\r\n\r\n                        <Typography variant=\"h6\" style={{ flexGrow: 0, marginRight: theme.spacing(2) }}>\r\n                            a creative title\r\n                        </Typography>\r\n\r\n                        <div className={classes.statusBar}>\r\n                            <Grow in={inGame}>\r\n                                <Tooltip title=\"In game\">\r\n                                    <SportsEsports className={classes.inGameIndicator} />\r\n                                </Tooltip>\r\n                            </Grow>\r\n\r\n                        </div>\r\n\r\n                        <div className={classes.actions}>\r\n\r\n                            {/* shuffle */}\r\n                            <IconButton\r\n                                aria-label=\"randomize\"\r\n                                aria-controls=\"menu-appbar\"\r\n                                aria-haspopup=\"true\"\r\n                                edge=\"end\"\r\n                                onClick={randomizing ? null : randomize}\r\n                                color=\"inherit\"\r\n                                className={classes.action}\r\n                            >\r\n                                {randomizing ? <Autorenew className={classes.loading} /> : <Shuffle />}\r\n                            </IconButton>\r\n\r\n                            {/* settings/account */}\r\n                            <IconButton\r\n                                aria-label=\"account button lol\"\r\n                                aria-controls=\"menu-appbar\"\r\n                                aria-haspopup=\"true\"\r\n                                edge=\"end\"\r\n                                // onClick={}\r\n                                color=\"inherit\"\r\n                                className={classes.action}\r\n                            >\r\n                                <Settings />\r\n                            </IconButton>\r\n\r\n                            {/* add a menu here for settings and stuff */}\r\n                        </div>\r\n                    </Toolbar>\r\n                </Paper>\r\n            </Slide>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Header","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Tooltip, Container, Typography, Toolbar, IconButton, Slide, AppBar } from '@material-ui/core';\r\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n\r\n}));\r\n\r\n\r\nfunction LevelSelector(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const equippedChromaIndex = props.equippedChromaIndex;\r\n    const maxLevel = Object.keys(props.levelData).length.toString();\r\n\r\n    const [selectedLevel, setSelectedLevel] = useState(props.equippedLevelIndex.toString());\r\n\r\n    function handleLevelChange(event, newLevel) {\r\n        if (newLevel !== null) {\r\n            setSelectedLevel(newLevel);\r\n            var levelData = Object.values(props.levelData)[newLevel - 1]\r\n            props.setter(levelData)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (equippedChromaIndex !== 1 && selectedLevel !== maxLevel) {\r\n            setSelectedLevel(maxLevel);\r\n            var levelData = Object.values(props.levelData)[maxLevel - 1]\r\n            props.setter(levelData)\r\n        }\r\n    }, [equippedChromaIndex])\r\n\r\n    useEffect(() => {\r\n        setSelectedLevel(props.equippedLevelIndex.toString())\r\n    }, [props.equippedLevelIndex])\r\n\r\n    if (maxLevel !== \"1\"){\r\n        return (\r\n            <div style={{ width: \"50%\", display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-start\", height: \"45px\", }}>\r\n\r\n                <ToggleButtonGroup\r\n                    value={selectedLevel}\r\n                    exclusive\r\n                    onChange={handleLevelChange}\r\n                    aria-label=\"chroma level\"\r\n                    style={{ width: \"90%\", height: \"95%\" }}\r\n                >\r\n                    {Object.keys(props.levelData).map(uuid => {\r\n                        var data = props.levelData[uuid]\r\n                        var index = data.index.toString();\r\n                        return (\r\n                            <Tooltip key={data.display_name} title={data.level_type} disabled={!data.unlocked || (!(equippedChromaIndex === 1 && index !== 1) && index !== maxLevel)} arrow>\r\n                                <ToggleButton selected={selectedLevel === index} value={index} aria-label={data.index} style={{ border: (data.favorite ? `1px #996D2D solid` : null) }}>\r\n                                    {data.shorthand_display_name}\r\n                                </ToggleButton>\r\n                            </Tooltip>\r\n                        )\r\n                    })}\r\n\r\n                </ToggleButtonGroup>\r\n\r\n            </div>\r\n        )\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\nexport default LevelSelector","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Tooltip, Container, Typography, Toolbar, IconButton, Slide, AppBar } from '@material-ui/core';\r\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n}));\r\n\r\n\r\nfunction ChromaSelector(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    const equippedLevelIndex = props.equippedLevelIndex;\r\n    const maxChroma = Object.keys(props.chromaData).length.toString();\r\n    const maxLevel = Object.keys(props.levelData).length.toString();\r\n\r\n    const [selectedChromaIndex, setSelectedChroma] = useState(props.equippedChromaIndex.toString())\r\n\r\n    function handleChromaChange(event, newLevel) {\r\n        if (newLevel !== null) {\r\n            setSelectedChroma(newLevel);\r\n            var chromaData = Object.values(props.chromaData)[newLevel - 1]\r\n            props.setter(chromaData)\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        setSelectedChroma(props.equippedChromaIndex.toString())\r\n    }, [props.equippedChromaIndex])\r\n\r\n    if (maxChroma !== \"1\"){\r\n        return (\r\n            <div style={{ flexGrow: 1, width: \"50%\", display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-end\", height: \"45px\", }}>\r\n                <ToggleButtonGroup\r\n                    value={selectedChromaIndex}\r\n                    exclusive\r\n                    onChange={handleChromaChange}\r\n                    aria-label=\"skin level\"\r\n                    style={{ width: \"90%\", height: \"95%\", justifyContent: \"flex-end\", marginLeft: 0 }}\r\n                >\r\n    \r\n                    {Object.keys(props.chromaData).map(uuid => {\r\n                        var data = props.chromaData[uuid]\r\n                        var index = data.index.toString()\r\n                        if (data.swatch_icon !== null) {\r\n                            return (\r\n                                <Tooltip key={data.display_name} title={data.unlocked ? data.display_name : `${data.display_name} (Locked)`} disabled={!data.unlocked} arrow>\r\n                                    <ToggleButton selected={selectedChromaIndex === index} value={index} aria-label={data.index} style={{ border: (data.favorite ? `1px #996D2D solid` : null) }}>\r\n                                        <img alt={data.display_name} src={data.swatch_icon} style={{ width: \"25px\", height: \"auto\", filter: !data.unlocked ? \"grayscale(90%)\" : \"\" }} />\r\n                                    </ToggleButton>\r\n                                </Tooltip>\r\n                            )\r\n                        } else {\r\n                            return null\r\n                        }\r\n                    })}\r\n                </ToggleButtonGroup>\r\n            </div>\r\n        )\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\nexport default ChromaSelector;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Paper, Typography, Box, CircularProgress } from '@material-ui/core'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    weaponPaper: {\r\n        width: \"100%\",\r\n        height: \"75px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        transition: \"0.1s ease-out !important\",\r\n        \"&:hover\": {\r\n            border: `1px ${theme.palette.primary.main} solid`,\r\n        },\r\n    },\r\n\r\n    container: {\r\n        width: \"93%\",\r\n        height: \"90%\",\r\n        display: \"flex\",\r\n    },\r\n\r\n    tierImage: {\r\n        height: \"25px\",\r\n        alignSelf: \"flex-end\",\r\n        margin: \"3px 3px\",\r\n        position: \"relative\",\r\n        bottom: \"-2px\",\r\n        objectFit: \"contain\",\r\n        objectPosition: \"left center\",\r\n    },\r\n\r\n    favoriteButton: {\r\n        alignSelf: \"flex-end\",\r\n        right: \"2px\",\r\n        height: \"25px\",\r\n        objectPosition: \"center center\"\r\n    }\r\n\r\n}));\r\n\r\nfunction Weapon(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const skinData = props.skinData;\r\n    const weaponData = props.weaponData;\r\n    const isMelee = weaponData.uuid === \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\"\r\n\r\n    const isFavorite = props.skinData.favorite\r\n\r\n    const [isEquipped, setIsEquipped] = useState(skinData.uuid === props.equipped.uuid);\r\n\r\n    function equip() {\r\n        props.equip(skinData.uuid);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (props.equipped.uuid === skinData.uuid) {\r\n            setIsEquipped(true);\r\n        } else {\r\n            setIsEquipped(false);\r\n        }\r\n    }, [props.equipped]);\r\n\r\n    return (\r\n        <Paper\r\n            variant=\"outlined\"\r\n            className={classes.weaponPaper}\r\n            onClick={equip}\r\n            style={{\r\n                border: (isFavorite ? `1px ${theme.palette.warning.light} solid` : (isEquipped ? `1px ${theme.palette.primary.light} solid` : null)),\r\n            }}\r\n        >\r\n            <div className={classes.container} style={{\r\n                backgroundImage: `url(${skinData.display_icon})`,\r\n                backgroundSize: !isMelee ? \"contain\" : \"auto 87%\",\r\n                backgroundRepeat: \"no-repeat\",\r\n                backgroundPosition: \"50% 50%\",\r\n\r\n                flexDirection: isMelee ? \"column\" : \"row\",\r\n                justifyContent: isMelee ? \"flex-end\" : null,\r\n            }}>\r\n\r\n                {/* <Box position=\"relative\" display=\"inline-flex\">\r\n                    <CircularProgress variant=\"determinate\" value={100} />\r\n                    <Box\r\n                        top={0}\r\n                        left={0}\r\n                        bottom={0}\r\n                        right={0}\r\n                        position=\"absolute\"\r\n                        display=\"flex\"\r\n                        alignItems=\"center\"\r\n                        justifyContent=\"center\"\r\n                    >\r\n                        <Typography variant=\"caption\" component=\"div\" color=\"textSecondary\">{`${Math.round(\r\n                            props.value,\r\n                        )}%`}</Typography>\r\n                        <img component=\"div\" src={skinData.content_tier.display_icon} alt=\"tier\" style={{ height: \"100%\", objectFit: \"contain\", }} />\r\n                    </Box>\r\n                </Box> */}\r\n\r\n                <img alt={skinData.content_tier.display_name} src={skinData.content_tier.display_icon} className={classes.tierImage} style={{ left: !isMelee ? \"-6px\" : \"6px\" }} />\r\n\r\n            </div>\r\n        </Paper>\r\n    )\r\n\r\n}\r\n\r\nexport default Weapon;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Typography, Tooltip, IconButton, Grow } from '@material-ui/core'\r\n\r\n//icons\r\nimport { Close, Autorenew, LockOpen, Lock, Favorite, FavoriteBorder, FitnessCenter, } from '@material-ui/icons'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \"@global\": {\r\n        \"@keyframes spin\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    header: {\r\n        width: \"auto\",\r\n        display: \"flex\",\r\n        marginTop: \"15px\",\r\n        flexWrap: \"wrap\",\r\n        flexDirection: \"row-reverse\"\r\n    },\r\n\r\n    headerButton: {\r\n        marginLeft: theme.spacing(.25),\r\n    },\r\n\r\n    loading: {\r\n        animation: \"spin 4s linear infinite\",\r\n    }\r\n\r\n}))\r\n\r\nfunction WeaponHeader(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const equippedSkinData = props.equippedSkinData;\r\n    const inventoryWeaponData = props.inventoryWeaponData;\r\n\r\n    const saving = props.saving;\r\n    const saveCallback = props.saveCallback;\r\n\r\n    const favorite = props.isFavorite\r\n    const favoriteCallback = props.favoriteCallback;\r\n    \r\n    const locked = props.isLocked\r\n    const lockCallback = props.lockCallback;\r\n\r\n    const weightCallback = props.weightCallback;\r\n\r\n    return (\r\n        <div className={classes.header}>\r\n            <div style={{ display: \"flex\", \"order\": 2, flexGrow: 1 }}>\r\n                <div style={{ width: \"auto\", alignSelf: \"center\" }}>\r\n                    {equippedSkinData.content_tier.dev_name !== \"Standard\" ? \r\n                    <img alt={equippedSkinData.content_tier.dev_name} src={equippedSkinData.content_tier.display_icon} style={{ width: \"auto\", height: \"40px\", justifySelf: \"center\", marginRight: \"10px\" }} />\r\n                    : null}\r\n                </div>\r\n\r\n                <div>\r\n                    <Typography variant=\"h5\">\r\n                        {equippedSkinData.display_name}\r\n                    </Typography>\r\n                    <Typography variant=\"overline\">\r\n                        {equippedSkinData.content_tier.dev_name !== \"Battlepass\" ? equippedSkinData.content_tier.dev_name : \"Unlockable\"} {inventoryWeaponData.display_name} {equippedSkinData.favorite ? `// ${Math.round((equippedSkinData.weight/inventoryWeaponData.total_weights)*100)}% CHANCE` : null}\r\n                    </Typography>\r\n                </div>\r\n            </div>\r\n\r\n            <div style={{ flexGrow: 1, display: \"flex\", justifyContent: \"flex-end\" }}>\r\n\r\n                <Grow in={favorite} mountOnEnter unmountOnExit>\r\n                    <Tooltip title=\"Set randomizer weight\" className={classes.headerButton}>\r\n                        <IconButton onClick={() => {weightCallback(true)}} style={{ height: \"40px\", width: \"40px\" }}>\r\n                            <FitnessCenter />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                </Grow>\r\n\r\n                <Tooltip title={locked ? \"Unlock weapon from randomization\" : \"Lock weapon from randomization\"} className={classes.headerButton}>\r\n                    <IconButton onClick={lockCallback} style={{ height: \"40px\", width: \"40px\" }}>\r\n                        {locked ? <Lock /> : <LockOpen />}\r\n                    </IconButton>\r\n                </Tooltip>\r\n\r\n\r\n                <Tooltip title={favorite ? \"Remove skin from favorites\" : \"Add skin to favorites\"} className={classes.headerButton}>\r\n                    <IconButton onClick={favoriteCallback} style={{ height: \"40px\", width: \"40px\" }}>\r\n                        {favorite ? <Favorite /> : <FavoriteBorder />}\r\n                    </IconButton>\r\n                </Tooltip>\r\n\r\n\r\n                <Tooltip title=\"Save\" className={classes.headerButton}>\r\n                    <IconButton onClick={saveCallback} style={{ height: \"40px\", width: \"40px\" }}>\r\n                        {saving ? <Autorenew className={classes.loading} /> : <Close />}\r\n                    </IconButton>\r\n                </Tooltip>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WeaponHeader;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Paper, Tooltip, CircularProgress, IconButton, Zoom, Grow } from '@material-ui/core'\r\n\r\n//icons \r\nimport { Theaters, TheatersOutlined, Palette, Loyalty, LoyaltyOutlined, PaletteOutlined, PlayArrowOutlined, StopOutlined } from '@material-ui/icons'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    equippedActions: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        marginTop: \"10px\",\r\n        marginLeft: \"10px\",\r\n        padding: \"2px\",\r\n        transition: \"all .2s ease !important\",\r\n    },\r\n\r\n    previewAction: {\r\n        height: \"35px\",\r\n        width: \"35px\",\r\n        alignSelf: \"center\",\r\n        margin: theme.spacing(.25),\r\n        transition: \"all .2s ease !important\",\r\n    },\r\n\r\n    previewActionIcon: {\r\n        width: \"20px\",\r\n        height: \"20px\",\r\n    },\r\n\r\n}))\r\n\r\nfunction ActionsDrawer(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const hasAlternateMedia = props.hasAlternateMedia\r\n    const showingVideo = props.showingVideo\r\n    const changeVideoState = props.changeVideoStateCallback\r\n\r\n    const showingControls = props.showingControls \r\n    const changeControlsState = props.changeControlsStateCallback\r\n\r\n    const levelFavorited = props.isFavoriteLevel\r\n    const chromaFavorited = props.isFavoriteChroma\r\n    const toggleFavoriteLevelCallback = props.toggleFavoriteLevelCallback\r\n    const toggleFavoriteChromaCallback = props.toggleFavoriteChromaCallback\r\n    const canFavoriteLevel = props.canFavoriteLevel\r\n    const canFavoriteChroma = props.canFavoriteChroma\r\n\r\n    const visible = (hasAlternateMedia || canFavoriteLevel || canFavoriteChroma)\r\n\r\n    return (\r\n        <>\r\n            <Grow in={visible} mountOnEnter unmountOnExit>\r\n                <Paper variant=\"outlined\" outlinecolor=\"secondary\" className={classes.equippedActions}>\r\n\r\n                    <Zoom in={canFavoriteLevel} mountOnEnter unmountOnExit>\r\n                        <Tooltip title={levelFavorited ? \"Remove level from favorites\" : \"Add level to favorites\"}>\r\n                            <IconButton onClick={() => {toggleFavoriteLevelCallback()}} aria-label=\"favorite level\" className={classes.previewAction}>\r\n                                {levelFavorited ? <Loyalty className={classes.previewActionIcon} /> : <LoyaltyOutlined className={classes.previewActionIcon} />}\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </Zoom>\r\n\r\n                    <Zoom in={canFavoriteChroma} mountOnEnter unmountOnExit>\r\n                        <Tooltip title={chromaFavorited ? \"Remove chroma from favorites\" : \"Add chroma to favorites\"}>\r\n                            <IconButton onClick={() => {toggleFavoriteChromaCallback()}} aria-label=\"favorite chroma\" className={classes.previewAction}>\r\n                                {chromaFavorited ? <Palette className={classes.previewActionIcon} /> : <PaletteOutlined className={classes.previewActionIcon} />}\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </Zoom>\r\n\r\n                    <Zoom in={hasAlternateMedia} mountOnEnter unmountOnExit>\r\n                        <Tooltip title={showingVideo ? \"Stop video preview\" : \"Play video preview\"}>\r\n                            <IconButton onClick={() => { changeVideoState(!showingVideo) }} aria-label=\"preview\" className={classes.previewAction}>\r\n                                {showingVideo ? <StopOutlined className={classes.previewActionIcon} /> : <PlayArrowOutlined className={classes.previewActionIcon} />}\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </Zoom>\r\n\r\n                    <Zoom in={showingVideo} mountOnEnter unmountOnExit>\r\n                        <Tooltip title={showingControls ? \"Hide video controls\" : \"Show video controls\"}>\r\n                            <IconButton onClick={() => { changeControlsState(!showingControls) }} aria-label=\"preview\" className={classes.previewAction}>\r\n                                {showingControls ? <Theaters className={classes.previewActionIcon} /> : <TheatersOutlined className={classes.previewActionIcon} />}\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </Zoom>\r\n\r\n                </Paper>\r\n            </Grow>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ActionsDrawer;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button, Slider  } from '@material-ui/core'\r\n\r\n\r\nimport Config from '../../../services/ClientConfig';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \"@global\": {\r\n        \"@keyframes spin\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    content: {\r\n       margin: \"0px 10px 0px 10px\"\r\n    }\r\n\r\n}))\r\n\r\nfunction WeightDialog(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [weight, setWeight] = useState(0);\r\n\r\n    const startTotalMinusThis = props.totalWeights - props.weight\r\n    const [total, setTotal] = useState(startTotalMinusThis); \r\n\r\n    useEffect(() => {\r\n        if(props.open){\r\n            setWeight(props.weight)\r\n            setTotal(startTotalMinusThis + weight);\r\n        }\r\n    },[props.open])\r\n\r\n    useEffect(() => {\r\n        setTotal(startTotalMinusThis + weight);\r\n    }, [weight])\r\n\r\n    useEffect(() => {\r\n        setWeight(props.weight)\r\n    }, [props.weight])\r\n\r\n    function cancel(){\r\n        props.close(false)\r\n        setWeight(props.weight)\r\n    }\r\n\r\n    function save(){\r\n        props.saveCallback(weight, total)\r\n    }\r\n\r\n    return (\r\n        <Dialog open={props.open} fullWidth maxWidth=\"xs\" onClose={cancel}>\r\n            <DialogTitle>Randomizer Weight</DialogTitle>\r\n            <DialogContent className={classes.content}>\r\n                <DialogContentText style={{marginBottom: \"20px\", }}>\r\n                    Weights are relative, so there is a <strong>{Math.round((weight/total)*100)}%</strong> chance this skin will be selected.\r\n                </DialogContentText>\r\n                <Slider\r\n                    valueLabelDisplay=\"auto\"\r\n                    step={1}\r\n                    marks\r\n                    min={1}\r\n                    max={Config.WEIGHT_INTERVALS}\r\n                    value={weight}\r\n                    onChange={(e, value) => setWeight(value)}\r\n                />\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button color=\"primary\" onClick={cancel}>\r\n                    Cancel\r\n                </Button>\r\n                <Button color=\"primary\" onClick={save}>\r\n                    Save\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default WeightDialog;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Grow, Backdrop, Paper, Grid, Typography, Divider, IconButton, Tooltip, CircularProgress } from '@material-ui/core';\r\n\r\nimport LevelSelector from './sub/LevelSelector.js';\r\nimport ChromaSelector from './sub/ChromaSelector.js';\r\nimport Weapon from './sub/SkinGridItem.js';\r\nimport WeaponHeader from './sub/WeaponHeader.js';\r\nimport ActionsDrawer from './sub/ActionsDrawer.js';\r\nimport WeightDialog from './sub/WeightDialog.js'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    backdrop: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n    masterGrid: {\r\n        display: \"flex\",\r\n        margin: \"auto\",\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n    },\r\n\r\n    mainPaper: {\r\n        margin: \"auto\",\r\n        width: \"50%\",\r\n        height: \"90vh\",\r\n        minWidth: \"500px\",\r\n        maxWidth: \"800px\",\r\n\r\n        display: \"flex\",\r\n        justifySelf: \"flex-start\",\r\n        justifyContent: \"center\",\r\n        alignContent: \"flex-start\",\r\n        flexWrap: \"wrap\",\r\n        overflow: \"auto\",\r\n        \"&::-webkit-scrollbar\": {\r\n            width: 4,\r\n        },\r\n        \"&::-webkit-scrollbar-track\": {\r\n            boxShadow: `inset 0 0 6px rgba(0, 0, 0, 0.3)`,\r\n        },\r\n        \"&::-webkit-scrollbar-thumb\": {\r\n            backgroundColor: \"darkgrey\",\r\n            outline: `1px solid slategrey`,\r\n            backgroundClip: \"padding-box\",\r\n        },\r\n    },\r\n\r\n\r\n    // stuff like skin name, weapon name, skin image\r\n    paperOnTopContent: {\r\n        width: \"92%\",\r\n        background: \"#424242\",\r\n        paddingBottom: \"10px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        position: \"sticky\",\r\n        top: 0,\r\n        zIndex: 4,\r\n    },\r\n\r\n    mainSkinMedia: {\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        alignContent: \"center\",\r\n        justifyContent: \"center\",\r\n        marginTop: \"10px\",\r\n        transition: \"all .2s ease\",\r\n    },\r\n\r\n    //container for subcomponents\r\n    paperCustomizingContent: {\r\n        width: \"92%\",\r\n        height: \"auto\",\r\n        marginTop: \"5px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        overflowY: \"auto\",\r\n        alignItems: \"stretch\",\r\n        top: 0,\r\n    },\r\n\r\n    levelSelectors: {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        width: \"100%\",\r\n        flexGrow: 1,\r\n        marginBottom: \"15px\",\r\n        transition: \"all .2s ease\",\r\n    },\r\n\r\n    skinSelector: {\r\n        marginBottom: \"15px\",\r\n        marginTop: \"15px\",\r\n        padding: \"2px 2px\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n\r\n\r\n}));\r\n\r\n\r\nfunction WeaponEditor(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const inventoryWeaponData = props.inventoryData[props.weaponUuid]\r\n    const skinsData = inventoryWeaponData.skins\r\n    const initSkinData = props.initialSkinData\r\n\r\n    //skin data states\r\n    const [equippedSkinData, setEquippedSkinData] = useState(skinsData[initSkinData.skin_uuid]);\r\n    const [equippedLevelData, setEquippedLevelData] = useState(skinsData[initSkinData.skin_uuid].levels[props.loadoutWeaponData.level_uuid])\r\n    const [equippedChromaData, setEquippedChromaData] = useState(skinsData[initSkinData.skin_uuid].chromas[props.loadoutWeaponData.chroma_uuid])\r\n\r\n    //favorites states\r\n    const [isFavoriteSkin, setIsFavoriteSkin] = useState(skinsData[initSkinData.skin_uuid].favorite)\r\n    const [favoriteLevels, setFavoriteLevels] = useState();\r\n    const [favoriteChromas, setFavoriteChromas] = useState();\r\n\r\n    const [canFavoriteLevel, setCanFavoriteLevel] = useState(true)\r\n    const [canFavoriteChroma, setCanFavoriteChroma] = useState(true)\r\n\r\n    const [isFavoriteLevel, setIsFavoriteLevel] = useState(false);\r\n    const [isFavoriteChroma, setIsFavoriteChroma] = useState(false);\r\n\r\n    //locked states\r\n    const [isLocked, setIsLocked] = useState(inventoryWeaponData.locked);\r\n\r\n    //modal states\r\n    const [open, changeOpenState] = useState(true);\r\n    const [saving, setSaving] = useState(false);\r\n    const [hasUpgrades, setHasUpgrades] = useState(false);\r\n\r\n    //video states\r\n    const [showingVideo, changeVideoState] = useState(false);\r\n    const [hasAlternateMedia, changeAlternateMediaState] = useState(false);\r\n    const [showingControls, changeControlsState] = useState(false);\r\n\r\n    //weight modal states\r\n    const [weightDialogOpen, setWeightDialogOpen] = useState(false);\r\n\r\n\r\n    //effect listeners\r\n    useEffect(() => {\r\n        if (open) {\r\n            document.title = `VSM // ${inventoryWeaponData.display_name}`\r\n        }\r\n    }, [open])\r\n\r\n    // things that should update whenever skin, level, or chroma changes\r\n    useEffect(() => {\r\n        refresh();\r\n    }, [equippedSkinData, equippedLevelData, equippedChromaData])\r\n\r\n    // on initial open, update level/chroma selectors\r\n    useEffect(() => {\r\n        equipSkin(initSkinData.skin_uuid);\r\n        setEquippedLevelData(skinsData[initSkinData.skin_uuid].levels[props.loadoutWeaponData.level_uuid])\r\n        setEquippedChromaData(skinsData[initSkinData.skin_uuid].chromas[props.loadoutWeaponData.chroma_uuid])\r\n    }, [])\r\n\r\n\r\n    // functions\r\n    function refresh() {\r\n        updateAlternateMedia();\r\n        refreshFavorited();\r\n        refreshFavoritedLevels();\r\n        refreshFavoritedChromas();\r\n    }\r\n\r\n    function save() {\r\n        //update if there were changes to favorites and stuff\r\n        setSaving(true);\r\n        var data = {\r\n            weaponUuid: props.weaponUuid,\r\n            skinUuid: equippedSkinData[\"uuid\"],\r\n            levelUuid: equippedLevelData[\"uuid\"],\r\n            chromaUuid: equippedChromaData[\"uuid\"],\r\n            inventoryData: inventoryWeaponData,\r\n            skinsData: skinsData,\r\n        }\r\n        var oldSkinId = initSkinData.skin_uuid\r\n        var oldChromaId = initSkinData.chroma_uuid\r\n        var oldLevelId = initSkinData.level_uuid\r\n        var sameSkin = equippedLevelData[\"uuid\"] === oldLevelId && equippedChromaData[\"uuid\"] === oldChromaId && equippedSkinData[\"uuid\"] === oldSkinId;\r\n\r\n        var payload = JSON.stringify(data);\r\n        var success = false;\r\n        props.saveCallback(payload, sameSkin)\r\n            .then(() => {\r\n                success = true;\r\n                changeOpenState(false);\r\n                setTimeout(() => {\r\n                    props.closeEditor();\r\n                }, 100)\r\n            });\r\n        setTimeout(() => {\r\n            if (!success) {\r\n                changeOpenState(false);\r\n                setTimeout(() => {\r\n                    props.closeEditor();\r\n                }, 100)\r\n            }\r\n        }, 3000);\r\n    }\r\n\r\n    function equipSkin(skinUuid) {\r\n        var skinData = skinsData[skinUuid];\r\n        var highestLevelIndex = 0;\r\n        var highestChromaIndex = 0;\r\n\r\n        for (var i = 0; i < Object.keys(skinData.levels).length; i++) {\r\n            if (skinData.levels[Object.keys(skinData.levels)[i]].unlocked === true) {\r\n                highestLevelIndex = skinData.levels[Object.keys(skinData.levels)[i]].index;\r\n            }\r\n        }\r\n        for (var j = 0; j < Object.keys(skinData.chromas).length; j++) {\r\n            if (skinData.chromas[Object.keys(skinData.chromas)[j]].unlocked === true) {\r\n                highestChromaIndex = skinData.chromas[Object.keys(skinData.chromas)[j]].index;\r\n            }\r\n        }\r\n\r\n        if (Object.keys(skinData.levels).length === 1 && Object.keys(skinData.chromas).length === 1) {\r\n            setHasUpgrades(false);\r\n        } else {\r\n            setHasUpgrades(true);\r\n        }\r\n\r\n        setEquippedSkinData(skinData);\r\n        setEquippedLevelData(skinData.levels[Object.keys(skinData.levels)[highestLevelIndex - 1]]);\r\n        setEquippedChromaData(skinData.chromas[Object.keys(skinData.chromas)[0]]);\r\n        changeVideoState(false);\r\n        changeControlsState(false);\r\n    }\r\n\r\n    // lock a weapon's skin so it can't be changed by randomizer\r\n    function toggleLock() {\r\n        setIsLocked(!inventoryWeaponData.locked);\r\n        inventoryWeaponData.locked = !inventoryWeaponData.locked;\r\n    }\r\n\r\n    //favorites system\r\n    //if a chroma is favorited, level 4 must also be favorited\r\n    //if a level is favorited, chroma 1 must also be favorited\r\n    function toggleFavoritedSkin() {\r\n        skinsData[equippedSkinData.uuid].favorite = !isFavoriteSkin;\r\n        if(!isFavoriteSkin) {\r\n            inventoryWeaponData.total_weights += equippedSkinData.weight;\r\n        } else {\r\n            inventoryWeaponData.total_weights -= equippedSkinData.weight;\r\n        }\r\n        setIsFavoriteSkin(!isFavoriteSkin);\r\n    }\r\n\r\n    function toggleFavoritedLevel(levelUuidOverride = null, stateOverride = null) {\r\n\r\n        var levelUuid\r\n        if (levelUuidOverride === null) {\r\n            levelUuid = equippedLevelData.uuid;\r\n        } else {\r\n            levelUuid = levelUuidOverride;\r\n        }\r\n\r\n        var currentlyFavoritedLevels = favoriteLevels;\r\n\r\n        var newState\r\n        if (stateOverride === null) {\r\n            newState = !currentlyFavoritedLevels.includes(equippedLevelData.uuid)\r\n        } else {\r\n            newState = stateOverride;\r\n        }\r\n\r\n        if (newState && !currentlyFavoritedLevels.includes(levelUuid)) {\r\n            currentlyFavoritedLevels.push(levelUuid);\r\n        } else if (!newState && currentlyFavoritedLevels.includes(levelUuid)) {\r\n            currentlyFavoritedLevels.splice(currentlyFavoritedLevels.indexOf(levelUuid), 1);\r\n        }\r\n\r\n        setIsFavoriteLevel(newState);\r\n        setFavoriteLevels(currentlyFavoritedLevels);\r\n        skinsData[equippedSkinData.uuid].levels[equippedLevelData.uuid].favorite = newState;\r\n    }\r\n\r\n    function toggleFavoritedChroma(chromaUuidOverride = null, stateOverride = null) {\r\n        var chromaUuid\r\n        if (chromaUuidOverride === null) {\r\n            chromaUuid = equippedChromaData.uuid;\r\n            console.log(chromaUuid)\r\n        } else {\r\n            chromaUuid = chromaUuidOverride;\r\n        }\r\n\r\n        var currentlyFavoritedChromas = favoriteChromas;\r\n\r\n        var newState\r\n        if (stateOverride === null) {\r\n            newState = !currentlyFavoritedChromas.includes(equippedChromaData.uuid)\r\n        } else {\r\n            newState = stateOverride\r\n        }\r\n\r\n        if (newState && !currentlyFavoritedChromas.includes(chromaUuid)) {\r\n            currentlyFavoritedChromas.push(chromaUuid);\r\n        } else if (!newState && currentlyFavoritedChromas.includes(chromaUuid)) {\r\n            currentlyFavoritedChromas.splice(currentlyFavoritedChromas.indexOf(chromaUuid), 1);\r\n        }\r\n\r\n        setIsFavoriteChroma(newState);\r\n        setFavoriteChromas(currentlyFavoritedChromas);\r\n        skinsData[equippedSkinData.uuid].chromas[chromaUuid].favorite = newState;\r\n    }\r\n\r\n\r\n    //getters\r\n    function refreshFavorited() {\r\n        setIsFavoriteSkin(equippedSkinData.favorite);\r\n    }\r\n\r\n    function refreshFavoritedLevels() {\r\n        var levels = equippedSkinData.levels;\r\n        var favLevels = [];\r\n        for (const level_uuid of Object.keys(levels)) {\r\n            var level = levels[level_uuid];\r\n            if (level.favorite) {\r\n                favLevels.push(level.uuid);\r\n            }\r\n        }\r\n        setFavoriteLevels(favLevels);\r\n\r\n        if (favLevels.includes(equippedLevelData.uuid)) {\r\n            setIsFavoriteLevel(true);\r\n        } else {\r\n            setIsFavoriteLevel(false);\r\n        }\r\n\r\n        // cant favorite stuff with only one level\r\n        if (Object.keys(levels).length === 1) {\r\n            setCanFavoriteLevel(false);\r\n        } else {\r\n            setCanFavoriteLevel(true);\r\n        }\r\n\r\n    }\r\n\r\n    function refreshFavoritedChromas() {\r\n        var chromas = equippedSkinData.chromas;\r\n        var favChromas = [];\r\n        for (const chroma_uuid of Object.keys(chromas)) {\r\n            var chroma = chromas[chroma_uuid];\r\n            if (chroma.favorite) {\r\n                favChromas.push(chroma.uuid);\r\n            }\r\n        }\r\n        setFavoriteChromas(favChromas)\r\n\r\n        if (favChromas.includes(equippedChromaData.uuid)) {\r\n            setIsFavoriteChroma(true);\r\n        } else {\r\n            setIsFavoriteChroma(false);\r\n        }\r\n\r\n        if (Object.keys(chromas).length === 1) {\r\n            setCanFavoriteChroma(false);\r\n        } else {\r\n            setCanFavoriteChroma(true);\r\n        }\r\n    }\r\n\r\n    //skin media stuff\r\n    function updateAlternateMedia() {\r\n        changeAlternateMediaState(equippedChromaData.video_preview !== null || equippedLevelData.video_preview !== null)\r\n    }\r\n\r\n    function getSkinMedia() {\r\n        var showChromaVideo = false;\r\n        var showLevelImage = false;\r\n        if (equippedChromaData.video_preview !== null) {\r\n            showChromaVideo = true;\r\n        }\r\n        if (equippedChromaData.index === 1 && equippedLevelData.display_icon !== null && !(equippedSkinData.display_name.includes(\"Standard\"))) {\r\n            showLevelImage = true;\r\n        }\r\n        if (!showingVideo) {\r\n            return (\r\n                <Grow in>\r\n                    <img alt={equippedChromaData.display_name} src={showLevelImage ? equippedLevelData.display_icon : equippedChromaData.display_icon} style={{ maxWidth: \"90%\", maxHeight: \"85%\", objectFit: \"contain\", alignSelf: \"center\", overflow: \"hidden\" }} />\r\n                </Grow>\r\n            )\r\n        } else if (showingVideo && equippedLevelData.video_preview !== null) {\r\n            return (\r\n                <Grow in>\r\n                    <video src={showChromaVideo ? equippedChromaData.video_preview : equippedLevelData.video_preview} type=\"video/mp4\" controls={showingControls} autoPlay onEnded={() => { changeVideoState(false) }} style={{ width: \"auto\", height: \"100%\", overflow: \"hidden\", objectFit: \"contain\", flexGrow: 1, alignSelf: \"center\" }} />\r\n                </Grow>\r\n            )\r\n        } else {\r\n            changeVideoState(false);\r\n        }\r\n\r\n    }\r\n\r\n    function saveWeight(weight, total) {\r\n        setWeightDialogOpen(false);\r\n        equippedSkinData.weight = weight;\r\n        inventoryWeaponData.total_weights = total;\r\n        console.log(weight);\r\n    }\r\n\r\n\r\n    if (inventoryWeaponData == null && initSkinData == null) {\r\n\r\n        return (\r\n            null// TODO: THIS SHOULD RETURN SOME SORT OF ERROR\r\n        )\r\n\r\n    } else {\r\n\r\n        return (\r\n            <Backdrop open={open} className={classes.backdrop} style={{ zIndex: 4 }}>\r\n                <WeightDialog \r\n                    open={weightDialogOpen} \r\n                    close={setWeightDialogOpen} \r\n                    saveCallback={saveWeight} \r\n                    weight={equippedSkinData.weight}\r\n                    totalWeights={inventoryWeaponData.total_weights}\r\n                />\r\n                {/* <Grid container className={classes.masterGrid} direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\r\n                        <Grid item xl={4} lg={5} md={7} sm={11} xs={12} style={{ display: \"flex\", marginTop: \"10px\" }}> */}\r\n\r\n                <Paper className={classes.mainPaper} variant=\"outlined\">\r\n                    <div className={classes.paperOnTopContent}>\r\n\r\n                        <WeaponHeader\r\n                            equippedSkinData={equippedSkinData}\r\n                            inventoryWeaponData={inventoryWeaponData}\r\n                            saving={saving}\r\n                            saveCallback={save}\r\n                            isFavorite={isFavoriteSkin}\r\n                            favoriteCallback={toggleFavoritedSkin}\r\n                            isLocked={isLocked}\r\n                            lockCallback={toggleLock}\r\n                            weightCallback={setWeightDialogOpen}\r\n                        />\r\n\r\n                        <div style={{ width: \"100%\", display: \"flex\", flexDirection: \"row\" }}>\r\n\r\n                            <Paper variant=\"outlined\" outlinecolor=\"secondary\" className={classes.mainSkinMedia} style={{ height: (showingVideo ? \"35vh\" : \"125px\"), maxHeight: \"350px\", maxWidth: \"100%\", overflowX: \"hidden\" }}>\r\n                                {getSkinMedia()}\r\n                            </Paper>\r\n\r\n                            <ActionsDrawer\r\n                                hasAlternateMedia={hasAlternateMedia}\r\n                                showingVideo={showingVideo}\r\n                                changeVideoStateCallback={changeVideoState}\r\n                                showingControls={showingControls}\r\n                                changeControlsStateCallback={changeControlsState}\r\n                                toggleFavoriteLevelCallback={toggleFavoritedLevel}\r\n                                isFavoriteLevel={isFavoriteLevel}\r\n                                toggleFavoriteChromaCallback={toggleFavoritedChroma}\r\n                                isFavoriteChroma={isFavoriteChroma}\r\n                                canFavoriteLevel={canFavoriteLevel}\r\n                                canFavoriteChroma={canFavoriteChroma}\r\n                            />\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={classes.paperCustomizingContent}>\r\n\r\n                        <div className={classes.levelSelectors} style={{ height: (hasUpgrades ? \"45px\" : \"0px\") }}>\r\n                            <LevelSelector levelData={equippedSkinData.levels} equippedLevelIndex={equippedLevelData.index} equippedChromaIndex={equippedChromaData.index} setter={setEquippedLevelData} />\r\n                            <ChromaSelector levelData={equippedSkinData.levels} chromaData={equippedSkinData.chromas} equippedLevelIndex={equippedLevelData.index} equippedChromaIndex={equippedChromaData.index} setter={setEquippedChromaData} />\r\n                        </div>\r\n\r\n                        {hasUpgrades ? <Divider variant=\"middle\" /> : null}\r\n\r\n                        <div className={classes.skinSelector}>\r\n                            <Grid style={{ width: \"100%\", height: \"100%\", justifySelf: \"center\" }} container justifyContent=\"flex-start\" direction=\"row\" alignItems=\"center\" spacing={1}>\r\n\r\n                                {Object.keys(skinsData).map(uuid => {\r\n                                    var data = skinsData[uuid];\r\n                                    return (\r\n                                        <Grid item key={data.display_name} xs={4}>\r\n                                            <Weapon skinData={data} weaponData={inventoryWeaponData} equip={equipSkin} equipped={equippedSkinData} />\r\n                                        </Grid>\r\n                                    )\r\n                                })}\r\n                            </Grid>\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n\r\n\r\n                </Paper>\r\n                {/* </Grid>\r\n                    </Grid> */}\r\n            </Backdrop>\r\n        )\r\n    }\r\n}\r\n\r\nexport default WeaponEditor","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Grid, Grow, Typography, Paper, Fade, Collapse } from '@material-ui/core'\r\n\r\nconst stockImageSize = \"250px\";\r\nconst scaleOverrides = {\r\n    //fisrt num = base width, second num == number to add for larger width\r\n    \"29a0cfab-485b-f5d5-779a-b59f85e204a8\": [\"100px\", \"20px\"], //classic\r\n    \"42da8ccc-40d5-affc-beec-15aa47b42eda\": [\"130px\", \"30px\"], //shorty\r\n    \"44d4e95c-4157-0037-81b2-17841bf2e8e3\": [\"100px\", \"10px\"], //frenzy\r\n    \"1baa85b4-4c70-1284-64bb-6481dfc3bb4e\": [\"140px\", \"35px\"], //ghost\r\n    \"e336c6b8-418d-9340-d77f-7a9e4cfe0702\": [\"140px\", \"20px\"], //sheriff\r\n\r\n    \"f7e1b454-4ad4-1063-ec0a-159e56b58941\": [\"195px\", \"20px\"], //stinger\r\n    \"462080d1-4035-2937-7c09-27aa2a5c27a7\": [\"200px\", \"20px\"], //spectre\r\n\r\n    \"910be174-449b-c412-ab22-d0873436b21b\": [\"240px\", \"40px\"], //bucky\r\n    \"ec845bf4-4f79-ddda-a3da-0db3774b2794\": [\"240px\", \"30px\"], //judge\r\n\r\n    \"ae3de142-4d85-2547-dd26-4e90bed35cf7\": [\"240px\", \"20px\"], //bulldog\r\n    \"4ade7faa-4cf1-8376-95ef-39884480959b\": [\"240px\", \"60px\"], //guardian\r\n    \"ee8e8d15-496b-07ac-e5f6-8fae5d4c7b1a\": [\"250px\", \"30px\"], //phantom\r\n    \"9c82e19d-4575-0200-1a81-3eacf00cf872\": [\"240px\", \"30px\"], //vandal\r\n\r\n    \"c4883e50-4494-202c-3ec3-6b8a9284f00b\": [\"250px\", \"70px\"], //marshal\r\n    \"a03b24d3-4319-996d-0f8c-94bbfba1dfc7\": [\"240px\", \"100px\"], //operator\r\n\r\n    \"55d8a0f4-4274-ca67-fe2c-06ab45efdf58\": [\"260px\", \"80px\"], //ares\r\n    \"63e6c2b6-4a8e-869c-3d4c-e38355226584\": [\"270px\", \"40px\"], //odin\r\n\r\n    \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\": [\"auto\", \"20px\"], //melee\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    weaponContainerVideo: {\r\n        position: \"absolute\",\r\n        objectFit: \"cover\",\r\n        width: \"auto\",\r\n        height: \"auto\",\r\n    },\r\n\r\n    weaponPaper: {\r\n        flexDirection: \"row\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        backgroundPosition: \"center\",\r\n        backgroundRepeat: \"no-repeat\",\r\n        background: \"transparent\",\r\n        WebkitTransform: \"translate3d(0,0,0)\", //trying to force hardware accel\r\n        backfaceVisibility: \"hidden\",\r\n        zIndex: -1,\r\n        transition: \".5s ease !important\",\r\n        \"&:hover\": {\r\n            border: `1px ${theme.palette.primary.main} solid`\r\n        },\r\n    },\r\n\r\n    bottomGradient: {\r\n        //background: \"linear-gradient(to bottom, rgba(0,0,0,0) 60%,rgba(255,255,255,.15) 100%)\",\r\n        zIndex: 0,\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n    },\r\n\r\n    dataContainer: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        display: \"flex\",\r\n        position: \"relative\",\r\n        top: \"-100%\"\r\n    },\r\n\r\n    textContainer: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        alignSelf: \"flex-start\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        backgroundPosition: \"center\",\r\n        overflow: \"visible\",\r\n        zIndex: 1,\r\n    },\r\n\r\n    buddyContainer: {\r\n        display: \"flex\",\r\n        maxWidth: \"50px\",\r\n        height: \"100%\",\r\n        position: \"relative\",\r\n        right: 0,\r\n        bottom: 7,\r\n    },\r\n\r\n    buddyImage: {\r\n        width: \"100%\",\r\n        height: \"auto\",\r\n        objectFit: \"contain\",\r\n        alignSelf: \"flex-end\",\r\n    },\r\n\r\n    weaponLabelHolder: {\r\n        display: \"flex\",\r\n        width: \"80%\",\r\n        height: \"50%\",\r\n        position: \"relative\",\r\n        alignSelf: \"flex-start\",\r\n        left: 12,\r\n        bottom: -22,\r\n    },\r\n\r\n    weaponLabel: {\r\n        textAlign: \"left\",\r\n        width: \"100%\",\r\n        flexGrow: 1,\r\n        height: \"auto\",\r\n        alignSelf: \"flex-end\",\r\n        textOverflow: \"ellipsis\"\r\n    },\r\n\r\n}));\r\n\r\n\r\nfunction Weapon(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    var db = false;\r\n    const [isUpdating, setUpdate] = useState(true);\r\n    const [isUpdatingBuddy, setUpdatingBuddy] = useState(false);\r\n    const [skinData, updateSkinData] = useState({});\r\n    const [showSkinName, updateSkinNameVisibility] = useState(false);\r\n\r\n    const [preloadedImage, setPreloadedImage] = useState(\"\");\r\n\r\n    const favorite = props.data !== undefined ? props.data.favorite : \"\";\r\n    const locked = props.data !== undefined ? props.data.locked : \"\";\r\n\r\n    useEffect(() => {\r\n        if (props.data !== undefined) {\r\n            var comparisonTarget = skinData !== null ? skinData.skin_image : \"\"\r\n            if (db === false && props.data.skin_image !== comparisonTarget) {\r\n                \r\n                setPreloadedImage(props.data.skin_image)\r\n                const img = new Image();\r\n                img.src = preloadedImage;\r\n\r\n                setTimeout(() => { \r\n                    updateSkinData(props.data);\r\n                },50)\r\n                \r\n            }\r\n\r\n            //update buddy\r\n            if (props.data.buddy_name !== skinData.buddy_name) {\r\n                setTimeout(() => {\r\n                    setUpdatingBuddy(true);\r\n                    setTimeout(() => {\r\n                        updateSkinData(props.data);\r\n                        setTimeout(() => {\r\n                            setUpdatingBuddy(false);\r\n                        }, randomTimer());\r\n                    }, randomTimer());\r\n                }, randomTimer());\r\n            }\r\n        }\r\n    }, [props.data]);\r\n\r\n    function onHover() {\r\n        updateSkinNameVisibility(true);\r\n    };\r\n\r\n    function offHover() {\r\n        updateSkinNameVisibility(false);\r\n    };\r\n\r\n    function select() {\r\n        props.weaponEditorCallback(props.uuid);\r\n    }\r\n\r\n    function randomTimer() {\r\n        return 150\r\n    }\r\n\r\n    return (\r\n        <Fade in>\r\n            <Paper\r\n                className={classes.weaponPaper}\r\n                variant=\"outlined\"\r\n                onMouseEnter={onHover}\r\n                onMouseLeave={offHover}\r\n                onMouseDown={select}\r\n                style={{\r\n                    //backgroundPosition: props.uuid === \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\" ? \"50% 35%\" : (!props.useLargeWeaponImage ? \"50% 40%\" : \"50% 50%\"), \r\n                    backgroundPosition: !props.useLargeWeaponImage ? \"50% 40%\" : \"50% 50%\",\r\n                    backgroundImage: skinData !== {} ? `url(${skinData.skin_image})` : `url(\"https://media.valorant-api.com/weapons/${props.uuid}/displayicon.png\")`,\r\n                    backgroundSize: props.uuid !== \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\" ? (!props.useLargeWeaponImage ? `${props.uuid in scaleOverrides ? scaleOverrides[props.uuid][0] : stockImageSize} auto` : `calc(${scaleOverrides[props.uuid][0]} + ${scaleOverrides[props.uuid][1]}) auto`) : \"auto 80%\",\r\n                }}\r\n            >\r\n                <div className={classes.bottomGradient} />\r\n\r\n                <div className={classes.dataContainer}>\r\n                    <div className={classes.textContainer}>\r\n                        <div className={classes.weaponLabelHolder}>\r\n                            <Typography className={classes.weaponLabel} variant=\"overline\">{locked ? \" \" : null}{props.displayName}</Typography>\r\n                        </div>\r\n                        <div style={{ width: \"80%\", alignSelf: \"flex-start\", position: \"relative\", left: 12 }}>\r\n                            <Collapse in={showSkinName}>\r\n                                <Typography className={classes.weaponLabel} variant=\"body2\" style={{ marginTop: \"14px\", marginBottom: \"5px\" }}>{favorite ? \" \" : null}{skinData.skin_name}</Typography>\r\n                            </Collapse>\r\n                        </div>\r\n                    </div>\r\n                    <Grow in>\r\n                        <div className={classes.buddyContainer} style={{ width: props.isSidearm ? \"20%\" : \"14%\" }}>\r\n                            {props.uuid !== \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\" ?\r\n                                <img alt={skinData.buddy_name} className={classes.buddyImage} src={skinData.buddy_image !== \"\" ? skinData.buddy_image : null} />\r\n                                : <img alt=\"\" src=\"\" />\r\n                            }\r\n                        </div>\r\n                    </Grow>\r\n                </div>\r\n            </Paper>\r\n        </Fade>\r\n    )\r\n\r\n}\r\n\r\nexport default Weapon","import { useState, useEffect } from 'react';\r\n\r\nfunction getWindowDimensions() {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return {\r\n    width,\r\n    height\r\n  };\r\n}\r\n\r\nexport default function useWindowDimensions() {\r\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowDimensions(getWindowDimensions());\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return windowDimensions;\r\n}","import { React, useState, useRef, useEffect } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport Weapon from './sub/WeaponCollectionItem.js'\r\nimport { Grid, Container, Typography } from '@material-ui/core';\r\n\r\nimport useWindowDimensions from './sub/useWindowDimensions.js';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: \"flex\",\r\n        margin: \"auto\",\r\n        width: \"100%\",\r\n        alignSelf: \"center\",\r\n    },\r\n\r\n    collectionMainGridItem: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    collectionItem: {\r\n        height: \"115px\",\r\n    },\r\n}));\r\n\r\n\r\nconst grid = [\r\n    [\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": true,\r\n            \"uuid\": \"29a0cfab-485b-f5d5-779a-b59f85e204a8\",\r\n            \"displayName\": \"Classic\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"f7e1b454-4ad4-1063-ec0a-159e56b58941\",\r\n            \"displayName\": \"Stinger\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"ae3de142-4d85-2547-dd26-4e90bed35cf7\",\r\n            \"displayName\": \"Bulldog\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"c4883e50-4494-202c-3ec3-6b8a9284f00b\",\r\n            \"displayName\": \"Marshal\",\r\n        },\r\n    ],\r\n    [\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": true,\r\n            \"uuid\": \"42da8ccc-40d5-affc-beec-15aa47b42eda\",\r\n            \"displayName\": \"Shorty\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"462080d1-4035-2937-7c09-27aa2a5c27a7\",\r\n            \"displayName\": \"Spectre\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"4ade7faa-4cf1-8376-95ef-39884480959b\",\r\n            \"displayName\": \"Guardian\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"a03b24d3-4319-996d-0f8c-94bbfba1dfc7\",\r\n            \"displayName\": \"Operator\",\r\n        },\r\n    ],\r\n    [\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": true,\r\n            \"uuid\": \"44d4e95c-4157-0037-81b2-17841bf2e8e3\",\r\n            \"displayName\": \"Frenzy\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"910be174-449b-c412-ab22-d0873436b21b\",\r\n            \"displayName\": \"Bucky\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"ee8e8d15-496b-07ac-e5f6-8fae5d4c7b1a\",\r\n            \"displayName\": \"Phantom\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"55d8a0f4-4274-ca67-fe2c-06ab45efdf58\",\r\n            \"displayName\": \"Ares\",\r\n        },\r\n    ],\r\n    [\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": true,\r\n            \"uuid\": \"1baa85b4-4c70-1284-64bb-6481dfc3bb4e\",\r\n            \"displayName\": \"Ghost\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"ec845bf4-4f79-ddda-a3da-0db3774b2794\",\r\n            \"displayName\": \"Judge\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"9c82e19d-4575-0200-1a81-3eacf00cf872\",\r\n            \"displayName\": \"Vandal\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"63e6c2b6-4a8e-869c-3d4c-e38355226584\",\r\n            \"displayName\": \"Odin\",\r\n        },\r\n    ],\r\n    [\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": true,\r\n            \"uuid\": \"e336c6b8-418d-9340-d77f-7a9e4cfe0702\",\r\n            \"displayName\": \"Sheriff\",\r\n        },\r\n        {\r\n            \"type\": \"placeholder\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\",\r\n            \"displayName\": \"Melee\",\r\n        },\r\n    ],\r\n]\r\n\r\nfunction getWindowDimensions() {\r\n    const { innerWidth: width, innerHeight: height } = window;\r\n    return {\r\n        width,\r\n        height\r\n    };\r\n}\r\n\r\nfunction Collection(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    const { height, width } = useWindowDimensions();\r\n    \r\n    const [smallWindow, setSmallWindow] = useState(false);\r\n    const [useLargeWeaponImage, setUseLargeWeaponImage] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setSmallWindow(width < 960);\r\n        setUseLargeWeaponImage(width < 960 || width > 1300);\r\n    }, [width])\r\n\r\n    return (\r\n        <Grid className={classes.root} container justifyContent=\"center\" direction=\"row\" alignItems=\"center\" spacing={2}>\r\n            {grid.map(row => {\r\n                if (props.loadout !== null) {\r\n                    return (\r\n                        row.map(data => {\r\n                            if (data.type === \"weapon\") {\r\n                                return <Grid className={classes.collectionItem} item key={data.uuid} md={data.sidearm === true ? 2 : 3} sm={12} xs={12}><Weapon data={props.loadout[data.uuid]} uuid={data.uuid} displayName={data.displayName} useLargeWeaponImage={useLargeWeaponImage} weaponEditorCallback={props.weaponEditorCallback} isSidearm={data.sidearm} /></Grid>\r\n                            }\r\n                            else {\r\n                                return (!smallWindow ? <Grid key=\"placeholder\" className={classes.collectionItem} item md={6} sm={false} xs={false} /> : <br />);\r\n                            }\r\n                        })\r\n                    )\r\n                }\r\n            })}\r\n        </Grid>\r\n    )\r\n}\r\n\r\n\r\nexport default Collection;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport Header from '../components/misc/Header.js'\r\nimport WeaponEditor from '../components/weaponEditor/WeaponEditor.js'\r\nimport Collection from '../components/collection/Collection.js'\r\n\r\nimport socket from \"../services/Socket\";\r\n\r\nimport { Grid, Container, Typography } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    footer: {\r\n        height: \"25vh\"\r\n    },\r\n\r\n    root: {\r\n        height: \"80vh\",\r\n        margin: \"auto\",\r\n        display: \"flex\",\r\n        padding: 0,\r\n        flexGrow: 1,\r\n    },\r\n}));\r\n\r\n\r\nfunction CollectionHome(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [loaded, setLoaded] = useState(false);\r\n    const [selectedUuid, changeSelectedUuid] = useState(\"\");\r\n    const [inventoryData, updateInventoryData] = useState({});\r\n    const [showWeaponEditor, setWeaponEditorState] = useState(false);\r\n    const [loadout, setLoadout] = useState({});\r\n    const [weaponEditor, setWeaponEditor] = useState();\r\n\r\n    useEffect(() => {\r\n        if (!loaded) {\r\n            load();\r\n            setLoaded(true);\r\n        }\r\n\r\n        function updatedLoadoutCallback(response) {\r\n            console.log(response);\r\n            setLoadout(response.loadout)\r\n        }\r\n        socket.subscribe(\"loadout_updated\", updatedLoadoutCallback)\r\n        //setInterval(() => updateInventory(), 5000); //might consider making this a manual refresh\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!showWeaponEditor) {\r\n            document.title = \"VSM // Collection\"\r\n        }\r\n    }, [showWeaponEditor])\r\n\r\n    function load() {\r\n        setTimeout(() => {\r\n            updateLoadout().then(() => {\r\n                updateInventory()\r\n            });\r\n        }, 300)\r\n\r\n        //setInterval(() => updateLoadout(), 5000);\r\n    }\r\n\r\n    //obligatory \"i hate async\" comment\r\n    async function updateInventory() {\r\n        function callback(response) {\r\n            updateInventoryData(response.skins);\r\n        }\r\n        socket.request({ \"request\": \"fetch_inventory\" }, callback)\r\n    }\r\n\r\n    async function updateLoadout() {\r\n        function callback(response) {\r\n            setLoadout(response);\r\n        }\r\n        socket.request({ \"request\": \"fetch_loadout\" }, callback)\r\n    }\r\n\r\n    function modificationMenu(uuid) {\r\n        setWeaponEditorState(true);\r\n        setWeaponEditor(<WeaponEditor weaponUuid={uuid} initialSkinData={loadout[uuid]} inventoryData={inventoryData} loadoutWeaponData={loadout[uuid]} saveCallback={saveCallback} closeEditor={closeEditor} />)\r\n    };\r\n\r\n    async function saveCallback(payload, sameSkin) {\r\n\r\n        function inventoryCallback(response) {\r\n            updateInventoryData(response);\r\n        }\r\n\r\n        function putCallback(response) {\r\n            setLoadout(response);\r\n        }\r\n\r\n        socket.request({ \"request\": \"update_inventory\", \"args\": { \"payload\": payload } }, inventoryCallback);\r\n        if (!sameSkin) {\r\n            socket.request({ \"request\": \"put_weapon\", \"args\": { \"payload\": payload } }, putCallback);\r\n        }\r\n\r\n    }\r\n\r\n    function closeEditor() {\r\n        setWeaponEditorState(false);\r\n        setWeaponEditor(null);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header setLoadout={setLoadout} />\r\n            <Container maxWidth={false} className={classes.root}>\r\n                {weaponEditor}\r\n                <Collection weaponEditorCallback={modificationMenu} loadout={loadout} setLoadout={setLoadout} />\r\n            </Container>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default CollectionHome","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport Header from '../components/misc/Header.js'\r\n\r\nimport { socket } from \"../services/Socket\"; \r\n\r\nimport { Grid, Container, Typography } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    footer: {\r\n        height: \"25vh\"\r\n    },\r\n\r\n    root: {\r\n        height: \"80vh\",\r\n        margin: \"auto\",\r\n        display: \"flex\",\r\n        padding: 0,\r\n        flexGrow: 1,\r\n    },\r\n}));\r\n\r\n\r\nfunction CollectionHome(props) {\r\n    \r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n        </>\r\n    ) \r\n}\r\n\r\n\r\nexport default CollectionHome","\r\n\r\nimport {React, useEffect, useState} from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Step, Stepper, StepLabel, Typography, Toolbar, IconButton, Container, Paper } from '@material-ui/core'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({    \r\n    stepper: {\r\n        \r\n    }\r\n}));\r\n\r\nconst steps = [\r\n    \"Hello!\",\r\n    \"VALORANT Account\",\r\n    \"Settings\",\r\n]\r\n\r\n\r\nfunction OnboardingStepper(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const activeStep = props.activeStep;\r\n\r\n\r\n    return (\r\n        <Stepper activeStep={activeStep} className={classes.stepper}>\r\n            {steps.map((label, index) => {\r\n                return (\r\n                    <Step key={label}>\r\n                        <StepLabel>{label}</StepLabel>\r\n                    </Step>\r\n                );\r\n            })}\r\n        </Stepper>\r\n    )\r\n}\r\n\r\nexport default OnboardingStepper ","\r\n\r\nimport { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { List, ListItem, ListItemText, Typography, Divider, Button, Container, Paper } from '@material-ui/core'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    headerText: {\r\n        justifySelf: \"center\",\r\n        textAlign: \"center\",\r\n        background: \"linear-gradient(90deg, rgba(255,190,190,1) 0%, rgba(250,117,129,1) 50%, rgba(255,190,190,1) 100%)\",\r\n        WebkitBackgroundClip: \"text\",\r\n        WebkitTextFillColor: \"transparent\",\r\n    },\r\n\r\n    bodyText: {\r\n        marginTop: \"3px\",\r\n        justifySelf: \"center\",\r\n        textAlign: \"center\",\r\n    },\r\n\r\n    list: {\r\n        width: \"400px\",\r\n        justifySelf: \"center\",\r\n        alignSelf: \"center\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        paddingTop: \"0px\",\r\n    },\r\n\r\n    listItem: {\r\n        justifySelf: \"center\",\r\n        textAlign: \"center\",\r\n        padding: \"2px\", \r\n    },\r\n\r\n    buttonDiv: {\r\n        display: \"flex\",\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        marginTop: \"5px\",\r\n        justifyContent: \"flex-end\",\r\n    },\r\n\r\n    startButton: {\r\n        width: \"100%\",\r\n        height: \"37px\",\r\n        alignSelf: \"center\",\r\n        marginBottom: \"15px\",\r\n    }\r\n}));\r\n\r\n\r\nfunction WelcomePage(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const features = [\r\n        \"improved skin selection\",\r\n        \"favorites system\",\r\n        \"skin randomizer\",\r\n        \"automatic randomization\",\r\n    ]\r\n\r\n    const style = props.pageStyle\r\n\r\n    return (\r\n        <div style={style}>\r\n            <Typography variant=\"h3\" className={classes.headerText}>\r\n                <strong>VSM</strong>\r\n            </Typography>\r\n            <Typography variant=\"body1\" className={classes.bodyText}>\r\n                VALORANT inventory management, expanded\r\n            </Typography>\r\n\r\n            <Divider variant=\"middle\" style={{ margin: \"10px\", }} />\r\n\r\n            <List className={classes.list} dense>\r\n                {features.map((feature) => (\r\n                    <ListItem key={feature} className={classes.listItem}>\r\n                        <ListItemText\r\n                            primary={feature}\r\n                        />\r\n                    </ListItem>\r\n                ))} \r\n            </List>\r\n\r\n            <div className={classes.buttonDiv}>\r\n                <Button variant=\"outlined\" color=\"primary\" onClick={props.nextCallback} className={classes.startButton}>\r\n                    Get Started\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WelcomePage","\r\n\r\nimport { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { List, ListItem, ListItemText, ListItemAvatar, Avatar, Typography, Collapse, Button, Grow, Fade, Paper } from '@material-ui/core'\r\n\r\nimport { Place, Public, Person, Autorenew } from '@material-ui/icons';\r\n\r\nimport socket from \"../../services/Socket\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    \"@global\": {\r\n        \"@keyframes spin\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    start: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n    },\r\n\r\n    gameNotRunning: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n    },\r\n\r\n    autodetectClient: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n    },\r\n\r\n    accountDataList: {\r\n        flexGrow: 0,\r\n        marginBottom: \"5px\",\r\n    },\r\n\r\n    loading: {\r\n        animation: \"spin 4s linear infinite\",\r\n    },\r\n\r\n    buttons: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        justifyContent: \"flex-end\",\r\n    },\r\n\r\n    nextButton: {\r\n        width: \"100%\",\r\n        height: \"37px\",\r\n        marginBottom: \"15px\",\r\n    }\r\n\r\n}));\r\n\r\n\r\nfunction AccountPage(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const style = props.pageStyle\r\n\r\n    const [gameRunning, setGameRunning] = useState(false)\r\n    const [enableGameStartButton, setEnableGameStartButton] = useState(true)\r\n    const [ready, setReady] = useState(false)\r\n\r\n    const [accountRetrieved, setaccountRetrieved] = useState(false)\r\n    const [accountData, setAccountData] = useState({})\r\n\r\n    function startGame() {\r\n        setEnableGameStartButton(false);\r\n        socket.request({ \"socket.request\": \"start_game\" })\r\n            .then(data => {\r\n                if (data.response === true) {\r\n                    setGameRunning(true);\r\n                }\r\n            })\r\n    }\r\n\r\n    function autodetectAccount() {\r\n        socket.request({ \"socket.request\": \"autodetect_account\" })\r\n            .then(data => {\r\n                if (data.success === true) {\r\n                    setaccountRetrieved(true);\r\n                    setAccountData(data.response)\r\n                }\r\n            })\r\n    }\r\n\r\n    function isGameRunning() {\r\n        socket.request({\"socket.request\": \"get_running_state\"})\r\n        .then(data => {\r\n            if(data.success === true){\r\n                setGameRunning(data.response)\r\n                setReady(true)\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(!ready){\r\n            isGameRunning();\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (gameRunning && !accountRetrieved) {\r\n            autodetectAccount();\r\n        }\r\n    }, [gameRunning])\r\n\r\n    return (\r\n        <div style={style}>\r\n\r\n            <div className={classes.start}>\r\n                <Typography variant=\"h4\">Let's get started</Typography>\r\n\r\n                <Fade in={!gameRunning && ready} unmountOnExit mountOnEnter>\r\n                    <div className={classes.gameNotRunning}>\r\n                        <Typography style={{ marginTop: \"12px\", marginBottom: \"10px\" }} variant=\"body2\">It looks like VALORANT isn't open. VALORANT needs to be open to set up VSM.</Typography>\r\n                        <Button variant=\"outlined\" color=\"primary\" disabled={!enableGameStartButton} className={classes.startButton} onClick={startGame}>\r\n                            {enableGameStartButton ? \"Launch VALORANT\" : <Autorenew className={classes.loading}/>}\r\n                        </Button>\r\n                    </div>\r\n                </Fade>\r\n\r\n                <Fade in={gameRunning} style={{ transitionDelay: \"200ms\" }} unmountOnExit mountOnEnter>\r\n                    <div className={classes.autodetectClient}>\r\n                        <Typography style={{ marginTop: \"12px\", marginBottom: \"5px\" }} variant=\"body2\">{accountRetrieved ? \"Discovered the following account data:\" : \"Attempting to autodetect your VALORANT account.\"}</Typography>\r\n\r\n                        <Fade in={accountRetrieved} mountOnEnter unmountOnExit>\r\n                            <List className={classes.accountDataList}>\r\n                                <ListItem>\r\n                                    <ListItemAvatar>\r\n                                        <Avatar>\r\n                                            <Person />\r\n                                        </Avatar>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText primary={`${accountData.game_name}#${accountData.game_tag}`} />\r\n                                </ListItem>\r\n                                <ListItem>\r\n                                    <ListItemAvatar>\r\n                                        <Avatar>\r\n                                            <Place />\r\n                                        </Avatar>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText primary={`Region: ${accountData.region}`} />\r\n                                </ListItem>\r\n                                <ListItem>\r\n                                    <ListItemAvatar>\r\n                                        <Avatar>\r\n                                            <Public />\r\n                                        </Avatar>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText primary={`Shard: ${accountData.shard}`} />\r\n                                </ListItem>\r\n                            </List>\r\n                        </Fade>\r\n\r\n                        <Fade in={accountRetrieved} style={{ transitionDelay: \"500ms\" }} mountOnEnter unmountOnExit>\r\n                            <div className={classes.buttons}> \r\n                                <Button variant=\"outlined\" color=\"primary\" onClick={props.nextCallback} className={classes.nextButton}>\r\n                                    Next\r\n                                </Button>\r\n                            </div>\r\n                        </Fade>\r\n\r\n                    </div>\r\n                </Fade>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AccountPage","import {React, useEffect, useState} from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Step, Stepper, StepLabel, Typography, Toolbar, Grow, Container, Paper } from '@material-ui/core'\r\nimport OnboardingStepper from \"../components/onboarding/Stepper\";\r\nimport WelcomePage from \"../components/onboarding/WelcomePage\";\r\nimport AccountPage from \"../components/onboarding/AccountPage\";\r\n\r\n//icons\r\nimport { Settings, Shuffle, Autorenew } from '@material-ui/icons';\r\n\r\nimport { request } from \"../services/Socket\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    paper: {\r\n        width: \"500px\",\r\n        height: \"400px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n    },\r\n\r\n    pageContent: {\r\n        display: \"flex\",\r\n        flexGrow: 1,\r\n        alignItems: \"center\",\r\n        flexDirection: \"column\",\r\n    }\r\n\r\n}));\r\n\r\nconst pageStyle = {\r\n    width: \"90%\",\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    flexGrow: 1,\r\n}\r\n\r\n\r\nfunction Onboarding(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    \r\n    const pages = [\r\n        <WelcomePage pageStyle={pageStyle} nextCallback={nextStep}/>,\r\n        <AccountPage pageStyle={pageStyle} nextCallback={nextStep}/>,\r\n    ]\r\n\r\n    const [activeStep, setActiveStep] = useState(0);\r\n\r\n    function nextStep(){\r\n        setActiveStep(activeStep + 1);\r\n    }\r\n\r\n\r\n    return (\r\n        <Container maxWidth=\"xl\" className={classes.root}>\r\n            <Grow in>\r\n                <Paper variant=\"outlined\" className={classes.paper}>\r\n                    <OnboardingStepper activeStep={activeStep}/>\r\n                    <div className={classes.pageContent}>\r\n                        {pages[activeStep]}\r\n                    </div>\r\n                </Paper>\r\n            </Grow>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Onboarding","import {React, useEffect, useState} from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Step, Stepper, StepLabel, Typography, Button, Grow, Backdrop, Paper } from '@material-ui/core'\r\n\r\n//icons\r\nimport { Settings, Shuffle, Autorenew } from '@material-ui/icons';\r\n\r\nimport { socket } from \"../../services/Socket\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        backgroundColor: theme.palette.background.default,\r\n        zIndex: 100,\r\n    },\r\n\r\n    main: {\r\n        width: \"300px\",\r\n        height: \"200px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    content: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    retryButton: {\r\n        alignSelf: \"center\",\r\n        width: \"80%\",\r\n    },\r\n\r\n    buttons: {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        justifyContent: \"center\",\r\n    }\r\n\r\n}));\r\n\r\n\r\nfunction ConnectionFailed(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    return (\r\n        <Backdrop open className={classes.root}>\r\n            <Grow in>\r\n                <div className={classes.main}>\r\n                    <div className={classes.content}>\r\n                        <Typography variant=\"h4\">Connection failed</Typography>\r\n                        <Typography variant=\"body1\" style={{textAlign: \"center\", marginTop: \"10px\",}}>Couldn't connect to your computer. Is the VSM client companion running?</Typography>\r\n\r\n                        <div className={classes.buttons}> \r\n                            <Button variant=\"outlined\" color=\"primary\" onClick={props.retry} className={classes.retryButton}>\r\n                                Retry\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </Grow>\r\n        </Backdrop>\r\n    )\r\n}\r\n\r\nexport default ConnectionFailed","import {React, useEffect, useState} from 'react';\r\n\r\n//utilities\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Backdrop, CircularProgress, Typography, Box, Container, ThemeProvider } from '@material-ui/core'\r\n\r\n//icons\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        color: \"#fff\",\r\n    }\r\n\r\n}));\r\n\r\n\r\nfunction WebsocketHandshake(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Backdrop className={classes.backdrop} open={props.open}>\r\n            <Box>\r\n                <CircularProgress color=\"#ffffff\"/>\r\n            </Box>\r\n        </Backdrop>\r\n    )\r\n}\r\n\r\nexport default WebsocketHandshake","import { useEffect, useState, useRef } from \"react\";\r\n\r\n//utilities\r\nimport { ThemeProvider, createTheme } from \"@material-ui/core/styles\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport { BrowserRouter as Switch, Route, HashRouter, Redirect } from \"react-router-dom\";\r\nimport socket from \"./services/Socket\";\r\nimport Config from \"./services/ClientConfig\"\r\n\r\n\r\n//pages\r\nimport CollectionHome from \"./pages/CollectionHome\"\r\nimport BuddiesHome from \"./pages/BuddiesHome\"\r\nimport Onboarding from \"./pages/Onboarding\"\r\nimport ConnectionFailed from \"./components/misc/ConnectionFailed\"\r\n\r\n//components\r\nimport WebsocketHandshake from \"./components/misc/WebsocketHandshake\";\r\n\r\nconst mainTheme = createTheme({\r\n    palette: {\r\n        type: \"dark\",\r\n        primary: {\r\n            main: \"#fa7581\",\r\n        },\r\n        secondary: {\r\n            main: \"#454545\",\r\n        },\r\n    },\r\n    typography: {\r\n        fontFamily: [\r\n            'Chivo',\r\n            '-apple-system',\r\n            'BlinkMacSystemFont',\r\n            '\"Segoe UI\"',\r\n            'Roboto',\r\n            '\"Helvetica Neue\"',\r\n            'Arial',\r\n            'sans-serif',\r\n            '\"Apple Color Emoji\"',\r\n            '\"Segoe UI Emoji\"',\r\n            '\"Segoe UI Symbol\"',\r\n        ].join(','),\r\n    },\r\n    overrides: {\r\n        MuiCssBaseline: {\r\n            // this is fine for now but perhaps make the background transparent in the future\r\n            \"@global\": {\r\n                body: {\r\n                    \"&::-webkit-scrollbar\": {\r\n                        width: 6,\r\n                    },\r\n                    \"&::-webkit-scrollbar-track\": {\r\n                        boxShadow: `inset 0 0 6px rgba(0, 0, 0, 0.3)`,\r\n                    },\r\n                    \"&::-webkit-scrollbar-thumb\": {\r\n                        backgroundColor: \"darkgrey\",\r\n                        outline: `1px solid slategrey`,\r\n                    },\r\n                },\r\n            },\r\n        },\r\n    },\r\n})\r\n\r\n\r\nfunction App(props) {\r\n    const [isLoading, setLoading] = useState(true);\r\n    const [showLoad, setShowLoad] = useState(true);\r\n\r\n    const [connected, setConnected] = useState(false);\r\n\r\n    const [onboardingCompleted, setOnboardingCompleted] = useState(false);\r\n\r\n    const [ready, setReady] = useState(false);\r\n\r\n    const [errorPage, setErrorPage] = useState(null);\r\n\r\n    // WEBSOCKETS MAKE ME WANT TO KILL MYSELF (9/6/2021)\r\n    //----------------------------------------------------------------------------------\r\n\r\n    //connect socket -> check for onboarding -> set ready true\r\n\r\n    useEffect(() => {\r\n        connectSocket()\r\n        socket.subscribe(\"onclose\", disconnect, false, \"onclose\")\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (connected && !ready) {\r\n            getOnboardingState()\r\n        }\r\n    }, [connected])\r\n\r\n    function stopLoading(success) {\r\n        setShowLoad(false)\r\n        setTimeout(() => {\r\n            setLoading(false);\r\n        }, 300)\r\n    }\r\n\r\n    async function connectSocket() {\r\n        setLoading(true);\r\n        setShowLoad(true);\r\n        setReady(false);\r\n        setConnected(false);\r\n        setErrorPage(null);\r\n\r\n        socket.connect()\r\n            .then((response) => {\r\n                console.log(\"done\")\r\n                setConnected(true);\r\n                stopLoading();\r\n            })\r\n            .catch(() => {\r\n                console.log(\"caught something\")\r\n                setConnected(false);\r\n                stopLoading()\r\n                setErrorPage(<ConnectionFailed retry={connectSocket} />)\r\n            })\r\n\r\n    }\r\n\r\n    function getOnboardingState() {\r\n        if (connected && !ready) {\r\n            function callback(response) {\r\n                console.log(response)\r\n                console.log(`onboarded: ${response}`)\r\n                if (response === false) {\r\n                    setOnboardingCompleted(false);\r\n                } else {\r\n                    setOnboardingCompleted(true);\r\n                }\r\n                setReady(true);\r\n            }\r\n            socket.request({ \"request\": \"get_onboarding_state\" }, callback)\r\n        }\r\n    }\r\n\r\n\r\n    function startupChecks() {\r\n        if (isLoading) {\r\n            return (<WebsocketHandshake open={showLoad} />)\r\n        }\r\n    }\r\n\r\n    function disconnect() {\r\n        console.log(\"disconnected\")\r\n        setConnected(false);\r\n        setErrorPage(<ConnectionFailed retry={connectSocket} />)\r\n    }\r\n\r\n    return (\r\n        <ThemeProvider theme={mainTheme}>\r\n            <CssBaseline />\r\n            {/* <AnimatedCursor\r\n                color=\"255,255,255\"\r\n                innerSize={12}\r\n                outerSize={18}\r\n                outerScale={1.5}\r\n                trailingSpeed={4}\r\n            /> */}\r\n\r\n            {errorPage}\r\n\r\n            {startupChecks()}\r\n\r\n            {ready ?\r\n                <HashRouter basename=\"/\">\r\n                    <Route exact path=\"/\">\r\n                        {onboardingCompleted ? <Redirect to=\"/collection\" /> : <Redirect to=\"/onboarding\" />}\r\n                    </Route>\r\n                    <Route path=\"/collection\">\r\n                        <CollectionHome />\r\n                    </Route>\r\n                    <Route path=\"/onboarding\">\r\n                        <Onboarding />\r\n                    </Route>\r\n                    <Route path=\"/buddies\">\r\n                        <BuddiesHome />\r\n                    </Route>\r\n                </HashRouter>\r\n                : null}\r\n\r\n\r\n        </ThemeProvider>\r\n    );\r\n}\r\n\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();"],"sourceRoot":""}