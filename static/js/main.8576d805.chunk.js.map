{"version":3,"sources":["services/useLocalStorage.js","services/ClientConfig.js","services/Socket.js","services/useProfiles.js","services/useLoadout.js","services/useInventory.js","services/useConfig.js","components/weaponEditor/sub/LevelSelector.js","components/weaponEditor/sub/ChromaSelector.js","components/weaponEditor/sub/SkinGridItem.js","components/weaponEditor/sub/WeaponHeader.js","components/weaponEditor/sub/ActionsDrawer.js","components/weaponEditor/sub/WeightDialog.js","services/useKeyboardListener.js","components/weaponEditor/WeaponEditor.js","services/useWindowDimensions.js","components/collection/sub/WeaponCollectionItem.js","components/collection/sub/SkinChangerWarning.js","components/snackbarFeedback/SnackbarFeedback.js","components/collection/sub/ProfileSelect.js","components/profileEditor/sub/DeleteConfirmation.js","components/profileEditor/sub/ProfileItem.js","components/profileEditor/ProfileEdit.js","components/collection/Collection.js","pages/CollectionHome.js","components/loadouts/sub/LoadoutProfile.js","components/loadouts/Loadouts.js","pages/LoadoutsHome.js","components/weaponSelect/sub/WeaponSelectDialogItem.js","components/weaponSelect/WeaponSelectDialog.js","components/buddyEditor/BuddyEditor.js","components/buddies/sub/BuddyItem.js","components/buddies/Buddies.js","pages/BuddiesHome.js","components/onboarding/Stepper.js","components/onboarding/WelcomePage.js","components/onboarding/AccountPage.js","components/config/Config.js","components/onboarding/ConfigPage.js","pages/Onboarding.js","pages/About.js","pages/Statistics.js","components/misc/Navigation.js","components/config/BackdroppedConfig.js","components/misc/Header.js","components/misc/Footer.js","components/errors/ConnectionFailed.js","components/errors/GameNotRunning.js","components/errors/WrongVersion.js","components/misc/WebsocketHandshake.js","App.js","reportWebVitals.js","index.js"],"names":["useLocalStorage","key","initialValue","_useState","useState","window","item","localStorage","getItem","JSON","parse","error","console","log","_useState2","_slicedToArray","storedValue","setStoredValue","value","valueToStore","Function","setItem","stringify","Config","FRONTEND_VERSION","SERVER_VERSION_COMPATABILITY","VERSION_CHECK_ENABLED","TEST_BUILD","WEBSOCKET_URL","SOCKET_RETRY_THRESHOLD","WEIGHT_INTERVALS","SKIN_CHANGER_WARNING_THRESHOLD","NAVIGATION_ENABLED","ENABLED_PAGES","ServerVersion","loadoutGridOrder","Socket","_classCallCheck","this","socket","subscriptions","listening","_createClass","_connect","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this","wrap","_context","prev","next","abrupt","Promise","resolve","reject","readyState","WebSocket","onerror","event","onopen","messageHandler","stop","apply","arguments","_send","_callee2","data","_context2","send","_unused","_x","_request","_callee3","callback","_context3","t0","subscribe","request","_x2","_x3","removable","length","undefined","type","existing","action","concat","push","filter","_this2","onmessage","_ref","_callee4","response","_context4","Object","keys","forEach","subscribedEvent","_step","_iterator","_createForOfIteratorHelper","s","n","done","unsubscribe","err","e","f","_x4","onclose","_ref2","_callee5","_iterator2","_step2","_context5","_x5","useGlobalState","createGlobalState","profile","profileMetas","useProfile","_useLocalStorage3","_useLocalStorage4","savedProfileUuid","setSavedProfileUuid","_useGlobalState7","_useGlobalState8","setProfile","name","uuid","loadout","useLoadout","_useGlobalState3","_useGlobalState4","setLoadout","inventory","useInventory","setInventory","_objectSpread","_defineProperty","config","useConfig","setConfig","newConfig","useStyles","makeStyles","theme","LevelSelector","props","useTheme","selectedChromaIndex","selectedSkinIsEquipped","equippedLevelIndex","toString","maxLevel","levelData","selectedLevelIndex","selectedLevel","setSelectedLevel","useEffect","values","setter","_jsx","style","flexGrow","width","display","flexDirection","justifyContent","height","children","ToggleButtonGroup","exclusive","onChange","newLevel","map","profileData","profileLevelData","index","equipped","Tooltip","title","unlocked","favorite","level_type","arrow","_jsxs","ToggleButton","selected","border","Typography","variant","zIndex","color","shorthand_display_name","Check","position","bottom","objectFit","alignSelf","margin","display_name","ChromaSelector","equippedChromaIndex","maxChroma","chromaData","selectedChroma","setSelectedChroma","marginLeft","profileChromaData","swatch_icon","alt","src","weaponPaper","alignItems","transition","palette","primary","main","container","favoriteButton","right","objectPosition","Weapon","classes","skinData","profileSkinData","isMelee","weaponData","isFavorite","isUnlocked","isSelected","setisSelected","_useState3","_useState4","isHovered","setIsHovered","Paper","className","onClick","select","disabled","light","warning","onMouseEnter","onMouseLeave","display_icon","content_tier","left","Lock","marign","transform","header","marginTop","flexWrap","headerButton","spacing","marginRight","loading","animation","WeaponHeader","selectedSkinData","profileSelectedSkinData","inventoryWeaponData","profileWeaponData","saving","saveCallback","favoriteCallback","canFavorite","locked","isLocked","lockCallback","weightCallback","dev_name","justifySelf","Math","round","weight","total_weights","Grow","in","mountOnEnter","unmountOnExit","IconButton","size","FitnessCenter","Favorite","FavoriteBorder","Divider","orientation","LockOpen","Autorenew","Close","selectedActions","padding","previewAction","previewActionIcon","ActionsDrawer","hasAlternateMedia","showingVideo","changeVideoState","changeVideoStateCallback","showingControls","changeControlsState","changeControlsStateCallback","levelFavorited","isFavoriteLevel","chromaFavorited","isFavoriteChroma","toggleFavoriteLevelCallback","toggleFavoriteChromaCallback","canFavoriteLevel","canFavoriteChroma","equipable","visible","_Fragment","outlinecolor","Zoom","Loyalty","LoyaltyOutlined","Palette","PaletteOutlined","StopOutlined","PlayArrowOutlined","Theaters","TheatersOutlined","content","WeightDialog","setWeight","startTotalMinusThis","totalWeights","total","setTotal","cancel","close","open","Dialog","fullWidth","maxWidth","onClose","DialogTitle","DialogContent","DialogContentText","marginBottom","Slider","valueLabelDisplay","step","marks","min","max","DialogActions","Button","useKeyboardListener","keysDown","setKeysDown","enabled","setEnabled","checkInput","target","tagName","targetTagName","toLowerCase","useEventListener","k","String","includes","_toConsumableArray","k2","handleActivityFalse","handleActivityTrue","addEventListener","removeEventListener","backdrop","mainPaper","minWidth","alignContent","overflow","boxShadow","backgroundColor","outline","backgroundClip","paperOnTopContent","background","paddingBottom","top","mainSkinMedia","maxHeight","overflowX","paperCustomizingContent","overflowY","levelSelectors","skinSelector","WeaponEditor","inventoryData","weaponUuid","skins","inventorySkinsData","profileSkinsData","initSkinData","initialSkinData","skin_uuid","generateDummyProfileData","setProfileSelectedSkinData","setSelectedSkinData","_useState5","levels","loadoutWeaponData","level_uuid","_useState6","selectedLevelData","setSelectedLevelData","_useState7","chromas","chroma_uuid","_useState8","selectedChromaData","setSelectedChromaData","_useState9","_useState10","equippedSkinData","setEquippedSkinData","_useState11","_useState12","equippedLevelData","setEquippedLevelData","_useState13","_useState14","equippedChromaData","setEquippedChromaData","_useState15","_useState16","equippedDataSelected","setEquippedDataSelected","_useState17","_useState18","setSelectedSkinIsEquipped","_useState19","_useState20","setEquipable","_useState21","_useState22","isFavoriteSkin","setIsFavoriteSkin","_useState23","_useState24","favoriteLevels","setFavoriteLevels","_useState25","_useState26","favoriteChromas","setFavoriteChromas","_useState27","_useState28","setCanFavoriteLevel","_useState29","_useState30","setCanFavoriteChroma","_useState31","_useState32","canFavoriteSkin","setCanFavoriteSkin","_useState33","_useState34","setIsFavoriteLevel","_useState35","_useState36","setIsFavoriteChroma","_useState37","_useState38","setIsLocked","_useState39","_useState40","changeOpenState","_useState41","_useState42","setSaving","_useState43","_useState44","hasUpgrades","setHasUpgrades","_useState45","_useState46","hasWallpaper","setHasWallpaper","_useState47","_useState48","_useState49","_useState50","changeAlternateMediaState","_useState51","_useState52","_useState53","_useState54","weightDialogOpen","setWeightDialogOpen","_useKeyboardListener","_useConfig","showLockedSkins","app","settings","show_locked_skins","skinUuid","invData","dummyProfileSkinData","levelUuid","chromaUuid","save","profileUuid","oldSkinId","oldChromaId","oldLevelId","sameSkin","setTimeout","closeEditor","then","selectSkin","highestLevelOwnedIndex","i","wallpaper","equipSkin","toggleLock","toggleFavoritedSkin","toggleFavoritedLevel","levelUuidOverride","stateOverride","newState","currentlyFavoritedLevels","splice","indexOf","toggleFavoritedChroma","chromaUuidOverride","currentlyFavoritedChromas","document","video_preview","favLevels","_i","_Object$keys","refreshFavoritedLevels","favChromas","_i2","_Object$keys2","refreshFavoritedChromas","refresh","join","Backdrop","Container","backgroundImage","backgroundSize","backgroundPosition","showChromaVideo","showLevelImage","controls","autoPlay","onEnded","getSkinMedia","trainsition","Grid","xs","sm","direction","getWindowDimensions","_window","innerWidth","innerHeight","useWindowDimensions","windowDimensions","setWindowDimensions","handleResize","weaponImageScales","weaponContainerVideo","weaponImage","backgroundRepeat","backfaceVisibility","bottomGradient","dataContainer","textContainer","paddingLeft","buddyContainer","buddyImage","weaponLabelHolder","skinLabelHolder","weaponLabel","textAlign","textOverflow","_useWindowDimensions","_useWindowDimensions2","isUpdatingImage","setUpdatingImage","isUpdatingBuddy","setUpdatingBuddy","updateSkinData","showSkinName","updateSkinNameVisibility","showVideo","setShowVideo","hoverTimeout","setHoverTimeout","scaleIndex","setScaleIndex","setImage","bugged","comparisonTarget","skin_image","buddy_name","Fade","transitionDelay","clearTimeout","weaponEditorCallback","timeout","preload","chroma_video","level_video","muted","borderRadius","displayName","Collapse","skin_name","isSidearm","buddy_image","SkinChangerWarning","skinsOwned","setSkinsOwned","_useLocalStorage","_useLocalStorage2","acknowledged","setAcknowledged","enableButton","setEnableButton","timerText","setTimerText","setOpen","time","_loop","SnackbarFeedback","trigger","setTrigger","text","Snackbar","autoHideDuration","reason","anchorOrigin","vertical","horizontal","Alert","severity","sx","numericToIcon","mdiNumeric1Box","mdiNumeric2Box","mdiNumeric3Box","mdiNumeric4Box","mdiNumeric5Box","mdiNumeric6Box","mdiNumeric7Box","mdiNumeric8Box","mdiNumeric9Box","ProfileSelect","snackbarTrigger","setSnackbarTrigger","snackbarText","setSnackbarText","_useProfile","_useProfile2","equippedUuid","setEquippedUuid","targetedUuid","setTargetedUuid","setLoading","gap","disableElevation","editCallback","whiteSpace","selectCallback","Icon","path","order","DeleteConfirmation","ProfileItem","toggleEdit","showProfileEdit","move","changeName","confirmDelete","profileName","setProfileName","ListItem","disablePadding","secondaryAction","edge","Delete","ListItemButton","ListItemAvatar","Avatar","ListItemText","List","component","TextField","autoComplete","label","newName","KeyboardArrowUp","KeyboardArrowDown","ProfileEdit","closeCallback","profileEditNum","setProfileEditNum","setData","deleteConfirmationOpen","setDeleteConfirmationOpen","dataToDelete","setDataToDelete","moveProfile","up","newData","temp","collectionItem","minHeight","Collection","_useProfileMetas","_useGlobalState5","_useGlobalState6","setProfileMetas","useProfileMetas","_useProfileMetas2","profileMetaDatas","forceUpdateProfileMetaDatas","_useLoadout","_useLoadout2","smallWindow","setSmallWindow","useLargeWeaponImage","setUseLargeWeaponImage","profileEditOpen","setProfileEditOpen","selectProfile","AspectRatio","fontSize","new_metadata","columns","row","p","md","sidearm","CollectionHome","forceUpdateLoadout","_useInventory","_useInventory2","forceUpdateProfile","showWeaponEditor","setWeaponEditorState","weaponEditor","setWeaponEditor","uniqueSkinsOwned","setUniqueSkinsOwned","_saveCallback","weaponName","payload","unique","weapon","owned","skin","LoadoutProfile","mdiCircle","Loadouts","marginX","lg","LoadoutsHome","weaponPaperHover","WeaponSelectDialogItem","disable","clsx","weaponGrid","WeaponSelectDialog","buddyData","instanceUuid","instanceNum","disabledWeaponNames","headerContent","equippedWeapons","instances","buddyInstance","buddyInstanceHeader","instanceHeaderButton","buddyInstanceActions","BuddyEditor","setBuddyData","equippedWeaponImages","setEquippedWeaponImages","equippedInstanceWeapons","setEquippedInstanceWeapons","weaponSelectDialog","setWeaponSelectDialog","equipCallback","newLoadout","buddy_instance_uuid","buddy_uuid","buddy_level_uuid","images","newEquipped","weapon_killstream_icon","weapon_name","weapon_uuid","refreshEquipped","instance_count","image","float","instance","instanceData","superFavorite","super_favorite","lineHeight","newBuddyData","locked_weapon_uuid","locked_weapon_display_name","toggleFavorite","unequipBuddy","buddies","buddy","inst","equipBuddy","root","paper","tags","bottomContent","BuddyItem","clickEnabled","setClickEnabled","setFavorite","favoriteBlock","state","fav","buddyEditorCallback","newFav","instanceBuddyData","Chip","avatar","gridContainer","mainGrid","serachContainer","search","shape","searchIcon","pointerEvents","inputRoot","inputInput","Buddies","editorCallback","favoriteAllCallback","searchTerm","setSearchTerm","searchResults","setSearchResults","renderBuddies","setRenderBuddies","fuse","setFuse","searchBank","updateBuddyFavorite","favoriteAll","fave","Fuse","threshold","results","matches","Search","InputBase","placeholder","input","inputProps","xl","forceUpdateInventory","buddyEditor","setBuddyEditor","inventoryChange","newInventory","_favoriteCallback","_favoriteAllCallback","_x6","stepper","steps","OnboardingStepper","activeStep","Stepper","Step","StepLabel","headerText","WebkitBackgroundClip","WebkitTextFillColor","bodyText","list","paddingTop","listItem","buttonDiv","startButton","WelcomePage","pageStyle","nextCallback","start","gameNotRunning","autodetectClient","accountDataList","buttons","nextButton","AccountPage","gameRunning","setGameRunning","enableGameStartButton","ready","setReady","accountRetrieved","setaccountRetrieved","accountData","setAccountData","Person","game_name","game_tag","Place","region","Public","shard","closeButton","body","section","sectionHeader","variable","variableName","descriptor","selector","ConfigItem","updateConfig","itemKey","setValue","description","attrs","Switch","checked","FormControl","InputLabel","id","Select","options","option","MenuItem","defaultValue","generateInteraction","_useConfig2","publishConfig","saveAndClose","saveTrigger","showHeader","sectionData","generateSection","ConfigPage","setDone","onboardingCompleted","setOnboardingCompleted","pageContent","Onboarding","pages","nextStep","setActiveStep","redirect","setRedirect","Redirect","to","About","licenses","licenseTexts","setLicenseTexts","licenseDivs","setLicenseDivs","date","setDate","_Object$entries$_i","_Object$entries","fetch","entries","dt","Date","getFullYear","_Object$entries2","_Object$entries2$_i","lice","Statistics","widthClosed","widthOpen","drawer","flexShrink","NavBar","setTarget","tabs","mdiPistol","collection","mdiFolderMultiple","loadouts","mdiSpade","selectPage","Drawer","ChevronLeft","ChevronRight","tab","ListItemIcon","icon","mdiInformation","Transition","forwardRef","ref","Slide","BackdroppedConfig","fullScreen","TransitionComponent","handleClose","appBar","statusBar","inGameIndicator","Header","_React$useState","React","_React$useState2","randomizing","setRandomizing","_React$useState3","_React$useState4","inGame","setInGame","_React$useState5","_React$useState6","openSettings","setOpenSettings","randomize","_randomize","Toolbar","SportsEsports","actions","Shuffle","Settings","footer","versionText","opacity","Footer","default","retryButton","ConnectionFailed","retry","href","GameNotRunning","setEnableGameStartButton","WrongVersion","newVersion","setNewVersion","res","json","dat","tag_name","WebsocketHandshake","Box","CircularProgress","mainTheme","createTheme","mode","secondary","typography","fontFamily","overrides","MuiCssBaseline","VIMmain","_useLoadoutRunner","_useGlobalState","_useGlobalState2","updatedLoadoutCallback","useLoadoutRunner","_useInventoryRunner","updatedInventoryCallback","useInventoryRunner","_useProfilesRunner","updatedProfileMetaCallback","updateProfile","equipProfile","useProfilesRunner","routes","BuddiesHome","App","isLoading","setConnected","awaitingStates","setAwaitingStates","errorPage","setErrorPage","_useConfigRunner","configFetchedCallback","useConfigRunner","_useConfigRunner2","activateConfig","startup","_connectSocket","connectSocket","gameRunningCallback","serverVersionCallback","checkVersion","getStates","gameOpened","connect","catch","disconnect","gameClosed","StyledEngineProvider","injectFirst","ThemeProvider","CssBaseline","startupLoading","HashRouter","basename","Route","exact","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8576d805.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nfunction useLocalStorage(key, initialValue) {\r\n    // State to store our value\r\n    // Pass initial state function to useState so logic is only executed once\r\n    const [storedValue, setStoredValue] = useState(() => {\r\n        if (typeof window === \"undefined\") {\r\n            return initialValue;\r\n        }\r\n        try {\r\n            // Get from local storage by key\r\n            const item = window.localStorage.getItem(key);\r\n            // Parse stored json or if none return initialValue\r\n            return item ? JSON.parse(item) : initialValue;\r\n        } catch (error) {\r\n            // If error also return initialValue\r\n            console.log(error);\r\n            return initialValue;\r\n        }\r\n    });\r\n    // Return a wrapped version of useState's setter function that ...\r\n    // ... persists the new value to localStorage.\r\n    const setValue = (value) => {\r\n        try {\r\n            // Allow value to be a function so we have same API as useState\r\n            const valueToStore =\r\n                value instanceof Function ? value(storedValue) : value;\r\n            // Save state\r\n            setStoredValue(valueToStore);\r\n            // Save to local storage\r\n            if (typeof window !== \"undefined\") {\r\n                window.localStorage.setItem(key, JSON.stringify(valueToStore));\r\n            }\r\n        } catch (error) {\r\n            // A more advanced implementation would handle the error case\r\n            console.log(error);\r\n        }\r\n    };\r\n    return [storedValue, setValue];\r\n}\r\n\r\nexport default useLocalStorage","const Config = {\r\n    FRONTEND_VERSION: \"1.2.2\",\r\n    SERVER_VERSION_COMPATABILITY: [\"1.2\"],\r\n    VERSION_CHECK_ENABLED: true,\r\n    TEST_BUILD: false,\r\n\r\n    WEBSOCKET_URL: \"ws://localhost:8765\", \r\n    SOCKET_RETRY_THRESHOLD: 5,\r\n\r\n    WEIGHT_INTERVALS: 10,\r\n    SKIN_CHANGER_WARNING_THRESHOLD: 6,\r\n\r\n    NAVIGATION_ENABLED: true,\r\n    ENABLED_PAGES: {\r\n        \"collection\": true,\r\n        \"loadouts\": false,\r\n        \"buddies\": true,\r\n    }\r\n}\r\n\r\nvar ServerVersion = \"\";\r\n\r\nfunction setVersion(version) {\r\n    ServerVersion = version;\r\n}\r\n\r\nconst loadoutGridOrder = [\r\n    [\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": true,\r\n            \"uuid\": \"29a0cfab-485b-f5d5-779a-b59f85e204a8\",\r\n            \"displayName\": \"Classic\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"f7e1b454-4ad4-1063-ec0a-159e56b58941\",\r\n            \"displayName\": \"Stinger\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"ae3de142-4d85-2547-dd26-4e90bed35cf7\",\r\n            \"displayName\": \"Bulldog\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"c4883e50-4494-202c-3ec3-6b8a9284f00b\",\r\n            \"displayName\": \"Marshal\",\r\n        },\r\n    ],\r\n    [\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": true,\r\n            \"uuid\": \"42da8ccc-40d5-affc-beec-15aa47b42eda\",\r\n            \"displayName\": \"Shorty\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"462080d1-4035-2937-7c09-27aa2a5c27a7\",\r\n            \"displayName\": \"Spectre\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"4ade7faa-4cf1-8376-95ef-39884480959b\",\r\n            \"displayName\": \"Guardian\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"a03b24d3-4319-996d-0f8c-94bbfba1dfc7\",\r\n            \"displayName\": \"Operator\",\r\n        },\r\n    ],\r\n    [\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": true,\r\n            \"uuid\": \"44d4e95c-4157-0037-81b2-17841bf2e8e3\",\r\n            \"displayName\": \"Frenzy\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"910be174-449b-c412-ab22-d0873436b21b\",\r\n            \"displayName\": \"Bucky\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"ee8e8d15-496b-07ac-e5f6-8fae5d4c7b1a\",\r\n            \"displayName\": \"Phantom\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"55d8a0f4-4274-ca67-fe2c-06ab45efdf58\",\r\n            \"displayName\": \"Ares\",\r\n        },\r\n    ],\r\n    [\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": true,\r\n            \"uuid\": \"1baa85b4-4c70-1284-64bb-6481dfc3bb4e\",\r\n            \"displayName\": \"Ghost\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"ec845bf4-4f79-ddda-a3da-0db3774b2794\",\r\n            \"displayName\": \"Judge\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"9c82e19d-4575-0200-1a81-3eacf00cf872\",\r\n            \"displayName\": \"Vandal\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"63e6c2b6-4a8e-869c-3d4c-e38355226584\",\r\n            \"displayName\": \"Odin\",\r\n        },\r\n    ],\r\n    [\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": true,\r\n            \"uuid\": \"e336c6b8-418d-9340-d77f-7a9e4cfe0702\",\r\n            \"displayName\": \"Sheriff\",\r\n        },\r\n        {\r\n            \"type\": \"placeholder\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\",\r\n            \"displayName\": \"Melee\",\r\n        },\r\n    ],\r\n]\r\n\r\nexport {Config, ServerVersion, setVersion, loadoutGridOrder}","import React from 'react';\r\n\r\nimport { Config } from './ClientConfig';\r\n\r\nclass Socket {\r\n    constructor() {\r\n        this.socket = null\r\n        this.subscriptions = {}\r\n        this.listening = false\r\n    }\r\n\r\n    async connect() {\r\n        this.listening = false;\r\n        return new Promise((resolve, reject) => {\r\n            if (this.socket === null || (this.socket !== null && this.socket.readyState !== 1)) {\r\n                try {\r\n                    console.log(\"connecting\")\r\n                    this.socket = new WebSocket(Config.WEBSOCKET_URL);\r\n                    console.log(this.socket)\r\n                    this.socket.onerror = (event) => {\r\n                        console.log(event)\r\n\r\n                        socket = null\r\n                        return reject();\r\n                    }\r\n                    this.socket.onopen = (event) => {\r\n                        console.log(\"opened\")\r\n                        console.log(this.socket)\r\n                        this.messageHandler()\r\n                        return resolve();\r\n                    }\r\n                } catch (error) {\r\n                    console.log(\"rip\")\r\n                    this.socket = null;\r\n                    return reject();\r\n                }\r\n            } else {\r\n                return resolve();\r\n            }\r\n        })\r\n    }\r\n\r\n    async send(data) {\r\n        if (this.socket !== null) {\r\n            try {\r\n                // console.log(`sending request for ${data.request}`)\r\n                this.socket.send(JSON.stringify(data));\r\n            } catch {\r\n                console.log(\"you fucking moron this state should never occur\")\r\n            }\r\n        } else {\r\n\r\n        }\r\n    }\r\n\r\n    async request(data, callback) {\r\n        if (this.socket !== null) {\r\n            try {\r\n                // console.log(`sending request for ${data.request}`)\r\n                this.socket.send(JSON.stringify(data));\r\n            } catch {\r\n                console.log(\"you fucking moron this state should never occur\")\r\n                return false;\r\n            }\r\n\r\n            this.subscribe(data.request, callback, true)\r\n        } else {\r\n            return false\r\n        }\r\n    }\r\n\r\n    subscribe(event, callback, removable = false, type = \"message\") {\r\n        if (this.subscriptions[event] === undefined) {\r\n            this.subscriptions[event] = []\r\n        }\r\n        //check if the callback is already in the subscriptions for the event\r\n        var existing = false\r\n        for (const action in this.subscriptions[event]) {\r\n            if (action.callback === callback) {\r\n                existing = true\r\n            }\r\n        }\r\n        console.log(`existing for ${event}: ${existing}`)\r\n        if (existing === false) {\r\n            this.subscriptions[event].push({\r\n                \"callback\": callback,\r\n                \"removable\": removable,\r\n                \"type\": type,\r\n            })\r\n        }\r\n\r\n        //console.log(this.subscriptions) \r\n    }\r\n    unsubscribe(event, callback) {\r\n        if (this.subscriptions[event] !== undefined) {\r\n            this.subscriptions[event] = this.subscriptions[event].filter(action => action.callback !== callback)\r\n        }\r\n        if (this.subscriptions[event].length === 0) {\r\n            delete this.subscriptions[event]\r\n        }\r\n    }\r\n\r\n    messageHandler() {\r\n        if (!this.listening) {\r\n            this.listening = true\r\n            this.socket.onmessage = async (event) => {\r\n                const response = JSON.parse(event.data);\r\n                console.log(response)\r\n                Object.keys(this.subscriptions).forEach(subscribedEvent => {\r\n                    if (response.event === subscribedEvent) {\r\n                        for (const action of this.subscriptions[subscribedEvent]) {\r\n                            if (action.type === \"message\") {\r\n                                action.callback(response.data)\r\n                                if (action.removable) {\r\n                                    this.unsubscribe(subscribedEvent, action.callback)\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n            this.socket.onclose = async (event) => {\r\n                console.log(\"closed\")\r\n                for (const action of this.subscriptions[\"onclose\"]) {\r\n                    console.log(action)\r\n                    if (action.type === \"onclose\") {\r\n                        action.callback()\r\n                        if (action.removable) {\r\n                            this.unsubscribe(\"onclose\", action.callback)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nvar socket = new Socket()\r\nexport default socket","import { createContext, useState, useEffect } from 'react';\r\nimport { createGlobalState } from 'react-hooks-global-state';\r\nimport useLocalStorage from './useLocalStorage';\r\n\r\nimport socket from \"./Socket\";\r\n\r\nconst { useGlobalState } = createGlobalState({ profile: {}, profileMetas: [] });\r\n\r\nfunction useProfilesRunner() {\r\n    const [savedProfileUuid, setSavedProfileUuid] = useLocalStorage('profile', 0);\r\n    const [profile, setProfile] = useGlobalState('profile');\r\n    const [profileMetas, setProfileMetas] = useGlobalState('profileMetas');\r\n\r\n    function updatedProfileMetaCallback(response) {\r\n        setProfileMetas(response)\r\n    }\r\n\r\n    function updateProfile(response){\r\n        console.log(response.name)\r\n        setProfile(response)\r\n    }\r\n\r\n    function equipProfile(response){\r\n        setSavedProfileUuid(response.uuid)\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(savedProfileUuid)\r\n        socket.request({ \"request\": \"fetch_profile_metadatas\" }, updatedProfileMetaCallback)\r\n        socket.request({ \"request\": \"fetch_profile\", \"args\": { \"profile_uuid\": savedProfileUuid } }, updateProfile)\r\n        socket.request({ \"request\": \"apply_profile\", \"args\": { \"profile_uuid\": savedProfileUuid } }, equipProfile)\r\n    }, []);\r\n\r\n    return [profile]\r\n}\r\n\r\nfunction useProfileMetas(){\r\n    const [profileMetas, setProfileMetas] = useGlobalState('profileMetas');\r\n\r\n    function forceUpdateProfilesMeta(response){\r\n        setProfileMetas(response)\r\n    }\r\n\r\n    return [profileMetas, forceUpdateProfilesMeta]\r\n}\r\n\r\nfunction useProfile(){\r\n    const [savedProfileUuid, setSavedProfileUuid] = useLocalStorage('profile', 0);\r\n    const [profile, setProfile] = useGlobalState('profile');\r\n\r\n    function forceUpdateProfile(response){\r\n        console.log(response.name)\r\n        setProfile(response)\r\n        setSavedProfileUuid(response.uuid)\r\n    }\r\n\r\n    return [profile, forceUpdateProfile, savedProfileUuid]\r\n}\r\n\r\nexport { useProfilesRunner, useProfileMetas, useProfile };","import { createContext, useState, useEffect } from 'react';\r\nimport { createGlobalState } from 'react-hooks-global-state';\r\n\r\nimport { useProfile } from './useProfiles';\r\nimport socket from \"./Socket\";\r\n\r\nconst { useGlobalState } = createGlobalState({ loadout: { \"cum\": \"cum\" } });\r\n\r\nfunction useLoadoutRunner() {\r\n    const [profile] = useProfile();\r\n    const [loadout, setLoadout] = useGlobalState('loadout');\r\n\r\n    function updatedLoadoutCallback(response) {\r\n        console.log(response)\r\n        setLoadout(response.loadout)\r\n    }\r\n\r\n    useEffect(() => {\r\n        socket.subscribe(\"loadout_updated\", updatedLoadoutCallback)\r\n        socket.request({ \"request\": \"fetch_loadout\" }, updatedLoadoutCallback);\r\n    }, []);\r\n\r\n    return [loadout]\r\n}\r\n\r\nfunction useLoadout(){\r\n    const [loadout, setLoadout] = useGlobalState('loadout');\r\n\r\n    function forceUpdateLoadout(response){\r\n        setLoadout(response.loadout)\r\n    }\r\n\r\n    return [loadout, forceUpdateLoadout]\r\n}\r\n\r\nexport { useLoadoutRunner, useLoadout };","import { createContext, useState, useEffect } from 'react';\r\nimport { createGlobalState } from 'react-hooks-global-state';\r\n\r\nimport socket from \"./Socket\";\r\n\r\nconst { useGlobalState } = createGlobalState({ inventory: { \"cum\": \"cum\" } });\r\n\r\nfunction useInventoryRunner() {\r\n    const [inventory, setInventory] = useGlobalState('inventory');\r\n\r\n    function updatedInventoryCallback(response) {\r\n        console.log(response)\r\n        setInventory(response)\r\n    }\r\n\r\n    useEffect(() => {\r\n        socket.request({ \"request\": \"fetch_inventory\" }, updatedInventoryCallback)\r\n    }, []);\r\n\r\n    return [inventory]\r\n}\r\n\r\nfunction useInventory(){\r\n    const [inventory, setInventory] = useGlobalState('inventory');\r\n\r\n    function forceUpdateInventory(response, type=null){\r\n        if(type !== null){\r\n            setInventory({...inventory, [type]: response})\r\n        } else {\r\n            setInventory(response)\r\n        }\r\n    }\r\n\r\n    return [inventory, forceUpdateInventory]\r\n}\r\n\r\nexport { useInventoryRunner, useInventory };","import { createContext, useState, useEffect } from 'react';\r\nimport { createGlobalState } from 'react-hooks-global-state';\r\n\r\nimport socket from \"./Socket\";\r\n\r\nconst { useGlobalState } = createGlobalState({ config: null });\r\n\r\nfunction useConfigRunner() {\r\n    const [config, setConfig] = useGlobalState('config');\r\n\r\n    function configFetchedCallback(response) {\r\n        console.log(response)\r\n        setConfig(response)\r\n    }\r\n\r\n    function activate(){\r\n        socket.request({ \"request\": \"fetch_config\" }, configFetchedCallback)\r\n    }\r\n\r\n    return [config, activate]\r\n}\r\n\r\nfunction useConfig(){\r\n    const [config, setConfig] = useGlobalState('config');\r\n\r\n    function updateConfig(newConfig){\r\n        setConfig(newConfig)\r\n    }\r\n\r\n    function publishConfig(callback){\r\n        socket.request({ \"request\": \"update_config\", \"args\": { \"new_config\": config } }, callback)\r\n    }\r\n\r\n    return [config, updateConfig, publishConfig]\r\n}\r\n\r\nexport { useConfigRunner, useConfig };","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Tooltip, Container, Typography, Toolbar, IconButton, Slide, AppBar } from '@mui/material';\r\nimport { ToggleButton, ToggleButtonGroup } from '@mui/material';\r\n\r\nimport { Check } from '@mui/icons-material';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n}));\r\n\r\n\r\nfunction LevelSelector(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const selectedChromaIndex = props.selectedChromaIndex;\r\n    const selectedSkinIsEquipped = props.selectedSkinIsEquipped\r\n    const equippedLevelIndex = props.equippedLevelIndex.toString()\r\n    const maxLevel = Object.keys(props.levelData).length.toString();\r\n\r\n    const [selectedLevel, setSelectedLevel] = useState(props.selectedLevelIndex.toString());\r\n\r\n    function handleLevelChange(event, newLevel) {\r\n        if (newLevel !== null) {\r\n            setSelectedLevel(newLevel);\r\n            var levelData = Object.values(props.levelData)[newLevel - 1]\r\n            props.setter(levelData)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (selectedChromaIndex !== 1 && selectedLevel !== maxLevel) {\r\n            setSelectedLevel(maxLevel);\r\n            var levelData = Object.values(props.levelData)[maxLevel - 1]\r\n            props.setter(levelData)\r\n        }\r\n    }, [selectedChromaIndex])\r\n\r\n    useEffect(() => {\r\n        setSelectedLevel(props.selectedLevelIndex.toString())\r\n    }, [props.selectedLevelIndex])\r\n\r\n    if (maxLevel !== \"1\") {\r\n        return (\r\n            <div style={{ flexGrow: 1, width: \"50%\", display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-start\", height: \"45px\", }}>\r\n                <ToggleButtonGroup\r\n                    value={selectedLevel}\r\n                    exclusive\r\n                    onChange={handleLevelChange}\r\n                    aria-label=\"chroma level\"\r\n                    style={{ width: \"90%\", height: \"95%\" }}\r\n                >\r\n                    {Object.keys(props.levelData).map(uuid => {\r\n                        var data = props.levelData[uuid]\r\n                        var profileData = props.profileLevelData[uuid]\r\n                        var index = data.index.toString();\r\n                        var equipped = index === equippedLevelIndex && selectedSkinIsEquipped\r\n\r\n                        return (\r\n                            <Tooltip key={data.display_name} title={data.unlocked ? (profileData.favorite ? ` ${data.level_type}` : data.level_type) : `${data.level_type} (Locked)`} arrow>\r\n                                <ToggleButton selected={selectedLevel === index} value={index} aria-label={data.index} style={{ border: (profileData.favorite ? `1px #996D2D solid` : null), display: \"flex\", flexDirection: \"column\" }}>\r\n                                    <Typography variant=\"body\" style={{ zIndex: 1, color: (equipped && selectedLevel === index ? \"rgba(255,255,255,.8)\" : null) }}>{data.shorthand_display_name}</Typography>\r\n\r\n                                    {equipped ? <Check style={{ width: \"auto\", height: \"25px\", position: \"absolute\", bottom: \"\", objectFit: \"contain\", alignSelf: \"flex-end\", margin: \"auto\", color: \"#66bb6a\", zIndex: 2 }} /> : null}\r\n\r\n                                </ToggleButton>\r\n                            </Tooltip>\r\n                        )\r\n                    })}\r\n\r\n                </ToggleButtonGroup>\r\n            </div>\r\n        )\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\nexport default LevelSelector","import { React, useEffect, useState } from 'react';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Tooltip, Container, Typography, Toolbar, IconButton, Slide, AppBar } from '@mui/material';\r\nimport { ToggleButton, ToggleButtonGroup } from '@mui/material';\r\n\r\nimport { Check } from '@mui/icons-material';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n}));\r\n\r\n\r\nfunction ChromaSelector(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    const equippedChromaIndex = props.equippedChromaIndex.toString()\r\n    const selectedSkinIsEquipped = props.selectedSkinIsEquipped\r\n    const selectedLevelIndex = props.selectedLevelIndex.toString()\r\n    const maxChroma = Object.keys(props.chromaData).length.toString();\r\n    const maxLevel = Object.keys(props.levelData).length.toString();\r\n\r\n    const [selectedChroma, setSelectedChroma] = useState(props.selectedChromaIndex.toString())\r\n\r\n    function handleChromaChange(event, newLevel) {\r\n        if (newLevel !== null) {\r\n            setSelectedChroma(newLevel);\r\n            var chromaData = Object.values(props.chromaData)[newLevel - 1]\r\n            props.setter(chromaData)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (selectedLevelIndex !== maxLevel && selectedChroma !== 0) {\r\n            setSelectedChroma(\"1\");\r\n            var chromaData = Object.values(props.chromaData)[0]\r\n            props.setter(chromaData)\r\n        }\r\n    }, [selectedLevelIndex])\r\n\r\n    useEffect(() => {\r\n        setSelectedChroma(props.selectedChromaIndex.toString())\r\n    }, [props.selectedChromaIndex])\r\n\r\n    if (maxChroma !== \"1\"){\r\n        console.log(selectedChroma)\r\n        return (\r\n            <div style={{ flexGrow: 1, width: \"50%\", display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-end\", height: \"45px\", }}>\r\n                <ToggleButtonGroup\r\n                    value={selectedChroma}\r\n                    exclusive\r\n                    onChange={handleChromaChange}\r\n                    aria-label=\"skin level\"\r\n                    style={{ width: \"90%\", height: \"95%\", justifyContent: \"flex-end\", marginLeft: 0 }}\r\n                >\r\n    \r\n                    {Object.keys(props.chromaData).map(uuid => {\r\n                        var data = props.chromaData[uuid]\r\n                        var profileData = props.profileChromaData[uuid]\r\n                        var index = data.index.toString()\r\n                        var equipped = index === equippedChromaIndex && selectedSkinIsEquipped \r\n\r\n                        if (data.swatch_icon !== null) {\r\n                            return (\r\n                                <Tooltip key={data.display_name} title={data.unlocked ? (profileData.favorite ? ` ${data.display_name}` : data.display_name) : `${data.display_name} (Locked)`} arrow>\r\n                                    <ToggleButton selected={selectedChroma === index} value={index} aria-label={data.index} style={{ border: (profileData.favorite ? `1px #996D2D solid` : null), display: \"flex\", flexDirection: \"column\" }}>\r\n                                        <img alt={data.display_name} src={data.swatch_icon} style={{ width: \"25px\", height: \"auto\", zIndex: 1, }} />\r\n                                        {equipped ? <Check style={{ width: \"auto\", height: \"25px\", position: \"absolute\", bottom: \"\", objectFit: \"contain\", alignSelf: \"flex-end\", margin: \"auto\", color: \"#66bb6a\", zIndex: 2, }} /> : null}\r\n                                    </ToggleButton>\r\n                                </Tooltip>\r\n                            )\r\n                        } else {\r\n                            return null\r\n                        }\r\n                    })}\r\n                </ToggleButtonGroup>\r\n            </div>\r\n        )\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\nexport default ChromaSelector;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Paper, Typography, Box, CircularProgress } from '@mui/material'\r\nimport { Check, Lock } from '@mui/icons-material';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    weaponPaper: {\r\n        width: \"100%\",\r\n        height: \"75px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        transition: \"0.1s ease-out !important\",\r\n        \"&:hover\": {\r\n            border: `1px ${theme.palette.primary.main} solid`,\r\n        },\r\n    },\r\n\r\n    container: {\r\n        width: \"93%\",\r\n        height: \"90%\",\r\n        display: \"flex\",\r\n    },\r\n\r\n\r\n\r\n    favoriteButton: {\r\n        alignSelf: \"flex-end\",\r\n        right: \"2px\",\r\n        height: \"25px\",\r\n        objectPosition: \"center center\"\r\n    }\r\n\r\n}));\r\n\r\nfunction Weapon(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const skinData = props.skinData;\r\n    const profileSkinData = props.profileData;\r\n    const weaponData = props.weaponData;\r\n    const isMelee = weaponData.uuid === \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\"\r\n    const equipped = props.equipped;\r\n\r\n    const isFavorite = profileSkinData !== undefined ? profileSkinData.favorite : false\r\n    const isUnlocked = props.skinData.unlocked\r\n\r\n    const [isSelected, setisSelected] = useState(skinData.uuid === props.selected.uuid);\r\n    const [isHovered, setIsHovered] = useState(false);\r\n\r\n    function select() {\r\n        props.select(skinData.uuid);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (props.selected.uuid === skinData.uuid) {\r\n            setisSelected(true);\r\n        } else {\r\n            setisSelected(false);\r\n        }\r\n    }, [props.selected]);\r\n\r\n    return (\r\n        <Paper\r\n            variant=\"outlined\"\r\n            className={classes.weaponPaper}\r\n            onClick={select}\r\n            disabled={!isUnlocked}\r\n            style={{\r\n                border: ((isFavorite && !isHovered && !isSelected) ? `1px ${theme.palette.warning.light} solid` : (isSelected ? `1px ${theme.palette.primary.light} solid` : null)),\r\n            }}\r\n            onMouseEnter={() => setIsHovered(true)}\r\n            onMouseLeave={() => setIsHovered(false)}\r\n        >\r\n            <div className={classes.container} style={{\r\n                flexDirection: \"row\",\r\n                justifyContent: null,\r\n                position: \"relative\"\r\n            }}>\r\n\r\n                {/* <Box position=\"relative\" display=\"inline-flex\">\r\n                    <CircularProgress variant=\"determinate\" value={100} />\r\n                    <Box\r\n                        top={0}\r\n                        left={0}\r\n                        bottom={0}\r\n                        right={0}\r\n                        position=\"absolute\"\r\n                        display=\"flex\"\r\n                        alignItems=\"center\"\r\n                        justifyContent=\"center\"\r\n                    >\r\n                        <Typography variant=\"caption\" component=\"div\" color=\"textSecondary\">{`${Math.round(\r\n                            props.value,\r\n                        )}%`}</Typography>\r\n                        <img component=\"div\" src={skinData.content_tier.display_icon} alt=\"tier\" style={{ height: \"100%\", objectFit: \"contain\", }} />\r\n                    </Box>\r\n                </Box> */}\r\n\r\n                <div style={{ width: \"100%\", height: \"100%\", position: \"absolute\", zIndex: 1, display: \"flex\", flexDirection: \"row\", justifyContent: \"center\", alignItems: \"center\" }}>\r\n                    <img alt={ skinData.display_name } src={skinData.display_icon} style={{ width: (!isMelee ? \"100%\" : \"100%\"), height: (!isMelee ? \"100%\" : \"95%\"), objectFit: \"contain\", filter: (!isUnlocked ? \"grayscale(90%)\" : \"\") }} />\r\n                </div>\r\n                <div style={{ width: \"50%\", display: \"flex\", flexDirection: \"row\", alignItems: \"center\", justifyContent: \"flex-start\" }}>\r\n                    <img alt={skinData.content_tier.display_name} src={skinData.content_tier.display_icon} style={{ width: \"auto\", height: \"25px\", left: -6, position: \"relative\", bottom: \"-2px\", objectFit: \"contain\", alignSelf: \"flex-end\", margin: \"3px\", }} />\r\n                </div>\r\n                <div style={{ width: \"50%\", display: \"flex\", flexDirection: \"row\", alignItems: \"center\", justifyContent: \"flex-end\", zIndex: 3, }}>\r\n                    {equipped ? <Check style={{ width: \"auto\", height: \"25px\", right: -6, position: \"relative\", bottom: \"-2px\", objectFit: \"contain\", alignSelf: \"flex-end\", margin: \"3px\", color: \"#66bb6a\" }} /> : null}\r\n                    {!isUnlocked ? <Lock style={{ width: \"auto\", height: \"22px\", right: -4, position: \"relative\", bottom: \"1px\", objectFit: \"contain\", alignSelf: \"flex-end\", marign: \"5px\", color: \"#eeeeee\" }} /> : null}\r\n                </div>\r\n\r\n            </div>\r\n        </Paper>\r\n    )\r\n\r\n}\r\n\r\nexport default Weapon;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Typography, Tooltip, IconButton, Grow, Divider } from '@mui/material'\r\n\r\n//icons\r\nimport { Close, Autorenew, LockOpen, Lock, Favorite, FavoriteBorder, FitnessCenter, } from '@mui/icons-material'\r\n\r\nimport { Config } from \"../../../services/ClientConfig\"\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \"@global\": {\r\n        \"@keyframes spin\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    header: {\r\n        width: \"auto\",\r\n        display: \"flex\",\r\n        marginTop: \"15px\",\r\n        flexWrap: \"wrap\",\r\n        flexDirection: \"row-reverse\"\r\n    },\r\n\r\n    headerButton: {\r\n        marginLeft: theme.spacing(.25),\r\n        marginRight: theme.spacing(.25),\r\n    },\r\n\r\n    loading: {\r\n        animation: \"spin 4s linear infinite\",\r\n    }\r\n\r\n}))\r\n\r\nfunction WeaponHeader(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const selectedSkinData = props.selectedSkinData;\r\n    const profileSelectedSkinData = props.profileSelectedSkinData;\r\n    const inventoryWeaponData = props.inventoryWeaponData;\r\n    const profileWeaponData = props.profileWeaponData;\r\n\r\n    const saving = props.saving;\r\n    const saveCallback = props.saveCallback;\r\n\r\n    const favorite = props.isFavorite\r\n    const favoriteCallback = props.favoriteCallback;\r\n    const canFavorite = props.canFavorite;\r\n\r\n    const locked = props.isLocked\r\n    const lockCallback = props.lockCallback;\r\n\r\n    const weightCallback = props.weightCallback;\r\n\r\n    return (\r\n        <div className={classes.header}>\r\n            <div style={{ display: \"flex\", \"order\": 2, flexGrow: 1 }}>\r\n                <div style={{ width: \"auto\", alignSelf: \"center\", display: \"flex\" }}>\r\n                    {selectedSkinData.content_tier.dev_name !== \"Standard\" ?\r\n                        <img alt={selectedSkinData.content_tier.dev_name} src={selectedSkinData.content_tier.display_icon} style={{ width: \"auto\", height: \"40px\", justifySelf: \"center\", marginRight: \"10px\" }} />\r\n                        : null}\r\n                </div>\r\n\r\n                <div>\r\n                    <Typography variant=\"h5\">\r\n                        {selectedSkinData.display_name}\r\n                    </Typography>\r\n                    <Typography variant=\"overline\">\r\n                        {selectedSkinData.content_tier.dev_name !== \"Battlepass\" ? selectedSkinData.content_tier.dev_name : \"Unlockable\"} {inventoryWeaponData.display_name} {profileSelectedSkinData.favorite ? `// ${Math.round((profileSelectedSkinData.weight / profileWeaponData.total_weights) * 100)}% CHANCE (${profileSelectedSkinData.weight}/${profileWeaponData.total_weights})` : null}\r\n                    </Typography>\r\n                </div>\r\n            </div>\r\n\r\n            <div style={{ display: \"flex\", justifyContent: \"flex-end\", alignItems: \"flex-start\" }}>\r\n                <div style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"center\", alignItems: \"center\" }}>\r\n\r\n                    <Grow in={favorite} mountOnEnter unmountOnExit>\r\n                        <Tooltip title=\"Set randomizer weight\" className={classes.headerButton}>\r\n                            <IconButton\r\n                                onClick={() => { weightCallback(true) }}\r\n                                style={{ height: \"40px\", width: \"40px\" }}\r\n                                size=\"large\">\r\n                                <FitnessCenter />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </Grow>\r\n\r\n                    <Grow in={canFavorite} mountOnEnter unmountOnExit>\r\n                        <Tooltip title={favorite ? \"Remove skin from favorites\" : \"Add skin to favorites\"} className={classes.headerButton}>\r\n                            <IconButton\r\n                                onClick={favoriteCallback}\r\n                                style={{ height: \"40px\", width: \"40px\" }}\r\n                                size=\"large\">\r\n                                {favorite ? <Favorite /> : <FavoriteBorder />}\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </Grow>\r\n\r\n                    <Divider orientation=\"vertical\" variant=\"middle\" style={{ height: \"40px\", marginLeft: \"10px\", marginRight: \"10px\" }} />\r\n\r\n                    <Tooltip title={locked ? \"Unlock weapon from randomization\" : \"Lock weapon from randomization\"} className={classes.headerButton}>\r\n                        <IconButton\r\n                            onClick={lockCallback}\r\n                            style={{ height: \"40px\", width: \"40px\" }}\r\n                            size=\"large\">\r\n                            {locked ? <Lock /> : <LockOpen />}\r\n                        </IconButton>\r\n                    </Tooltip>\r\n\r\n                    <Tooltip title=\"Save\" className={classes.headerButton}>\r\n                        <IconButton\r\n                            onClick={saveCallback}\r\n                            style={{ height: \"40px\", width: \"40px\" }}\r\n                            size=\"large\">\r\n                            {saving ? <Autorenew className={classes.loading} /> : <Close />}\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                </div>\r\n            </div>\r\n\r\n        </div >\r\n    );\r\n}\r\n\r\nexport default WeaponHeader;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Paper, Tooltip, CircularProgress, IconButton, Zoom, Grow } from '@mui/material'\r\n\r\n//icons \r\nimport { Theaters, TheatersOutlined, Palette, Loyalty, LoyaltyOutlined, PaletteOutlined, PlayArrowOutlined, StopOutlined } from '@mui/icons-material'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    selectedActions: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        marginTop: \"10px\",\r\n        marginLeft: \"10px\",\r\n        padding: \"2px\",\r\n        transition: \"all .2s ease !important\",\r\n    },\r\n\r\n    previewAction: {\r\n        height: \"35px\",\r\n        width: \"35px\",\r\n        alignSelf: \"center\",\r\n        margin: theme.spacing(.25),\r\n        transition: \"all .2s ease !important\",\r\n    },\r\n\r\n    previewActionIcon: {\r\n        width: \"20px\",\r\n        height: \"20px\",\r\n    },\r\n\r\n}))\r\n\r\nfunction ActionsDrawer(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const hasAlternateMedia = props.hasAlternateMedia\r\n    const showingVideo = props.showingVideo\r\n    const changeVideoState = props.changeVideoStateCallback\r\n\r\n    const showingControls = props.showingControls \r\n    const changeControlsState = props.changeControlsStateCallback\r\n\r\n    const levelFavorited = props.isFavoriteLevel\r\n    const chromaFavorited = props.isFavoriteChroma\r\n    const toggleFavoriteLevelCallback = props.toggleFavoriteLevelCallback\r\n    const toggleFavoriteChromaCallback = props.toggleFavoriteChromaCallback\r\n    const canFavoriteLevel = props.canFavoriteLevel\r\n    const canFavoriteChroma = props.canFavoriteChroma\r\n    const equipable = props.equipable\r\n    const profileData = props.profileData\r\n\r\n    const visible = (hasAlternateMedia || canFavoriteLevel || canFavoriteChroma)\r\n\r\n    return <>\r\n        <Grow in={visible} mountOnEnter unmountOnExit>\r\n            <Paper variant=\"outlined\" outlinecolor=\"secondary\" className={classes.selectedActions}>\r\n\r\n                <Zoom in={equipable && canFavoriteLevel} mountOnEnter unmountOnExit>\r\n                    <Tooltip title={levelFavorited ? \"Remove level from favorites\" : \"Add level to favorites\"}>\r\n                        <IconButton\r\n                            onClick={() => {toggleFavoriteLevelCallback()}}\r\n                            aria-label=\"favorite level\"\r\n                            className={classes.previewAction}\r\n                            size=\"large\">\r\n                            {levelFavorited ? <Loyalty className={classes.previewActionIcon} /> : <LoyaltyOutlined className={classes.previewActionIcon} />}\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                </Zoom>\r\n\r\n                <Zoom in={equipable && canFavoriteChroma} mountOnEnter unmountOnExit>\r\n                    <Tooltip title={chromaFavorited ? \"Remove chroma from favorites\" : \"Add chroma to favorites\"}>\r\n                        <IconButton\r\n                            onClick={() => {toggleFavoriteChromaCallback()}}\r\n                            aria-label=\"favorite chroma\"\r\n                            className={classes.previewAction}\r\n                            size=\"large\">\r\n                            {chromaFavorited ? <Palette className={classes.previewActionIcon} /> : <PaletteOutlined className={classes.previewActionIcon} />}\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                </Zoom>\r\n\r\n                <Zoom in={hasAlternateMedia} mountOnEnter unmountOnExit>\r\n                    <Tooltip title={showingVideo ? \"Stop video preview\" : \"Play video preview\"}>\r\n                        <IconButton\r\n                            onClick={() => { changeVideoState(!showingVideo) }}\r\n                            aria-label=\"preview\"\r\n                            className={classes.previewAction}\r\n                            size=\"large\">\r\n                            {showingVideo ? <StopOutlined className={classes.previewActionIcon} /> : <PlayArrowOutlined className={classes.previewActionIcon} />}\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                </Zoom>\r\n\r\n                <Zoom in={showingVideo} mountOnEnter unmountOnExit>\r\n                    <Tooltip title={showingControls ? \"Hide video controls\" : \"Show video controls\"}>\r\n                        <IconButton\r\n                            onClick={() => { changeControlsState(!showingControls) }}\r\n                            aria-label=\"preview\"\r\n                            className={classes.previewAction}\r\n                            size=\"large\">\r\n                            {showingControls ? <Theaters className={classes.previewActionIcon} /> : <TheatersOutlined className={classes.previewActionIcon} />}\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                </Zoom>\r\n\r\n            </Paper>\r\n        </Grow>\r\n    </>;\r\n}\r\n\r\nexport default ActionsDrawer;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button, Slider } from '@mui/material'\r\n\r\n\r\nimport { Config } from '../../../services/ClientConfig';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \"@global\": {\r\n        \"@keyframes spin\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    content: {\r\n        margin: \"0px 10px 0px 10px\"\r\n    }\r\n\r\n}))\r\n\r\nfunction WeightDialog(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [weight, setWeight] = useState(0);\r\n\r\n    const startTotalMinusThis = props.totalWeights - props.weight\r\n    const [total, setTotal] = useState(startTotalMinusThis);\r\n\r\n    useEffect(() => {\r\n        if (props.open) {\r\n            setWeight(props.weight)\r\n            setTotal(startTotalMinusThis + weight);\r\n        }\r\n    }, [props.open])\r\n\r\n    useEffect(() => {\r\n        setTotal(startTotalMinusThis + weight);\r\n    }, [weight])\r\n\r\n    useEffect(() => {\r\n        setWeight(props.weight)\r\n    }, [props.weight])\r\n\r\n    function cancel() {\r\n        props.close(false)\r\n        setWeight(props.weight)\r\n    }\r\n\r\n    function save() {\r\n        props.saveCallback(weight, total)\r\n    }\r\n\r\n    return (\r\n        <Dialog open={props.open} fullWidth maxWidth=\"xs\" onClose={cancel}>\r\n            <DialogTitle>Randomizer Weight</DialogTitle>\r\n            <DialogContent className={classes.content}>\r\n                <DialogContentText style={{ marginBottom: \"20px\", }}>\r\n                    Weights are relative, so there is a <strong>{Math.round((weight / total) * 100)}%</strong> chance this skin will be selected.\r\n                </DialogContentText>\r\n                <Slider\r\n                    valueLabelDisplay=\"auto\"\r\n                    step={1}\r\n                    marks\r\n                    min={1}\r\n                    max={Config.WEIGHT_INTERVALS}\r\n                    value={weight}\r\n                    onChange={(e, value) => setWeight(value)}\r\n                />\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button color=\"primary\" onClick={cancel}>\r\n                    Cancel\r\n                </Button>\r\n                <Button color=\"primary\" onClick={save}>\r\n                    Save\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default WeightDialog;","import { useState, useEffect } from 'react';\r\nimport useEventListener from '@use-it/event-listener'\r\n\r\nexport default function useKeyboardListener() {\r\n    const [keysDown, setKeysDown] = useState([])\r\n    const [enabled, setEnabled] = useState(true)\r\n\r\n    useEventListener(\"keydown\", ({ key }) => {\r\n        if (enabled) {\r\n            var k = String(key)\r\n            if (!keysDown.includes(k)) {\r\n                setKeysDown([...keysDown, k])\r\n            }\r\n        }\r\n    })\r\n    useEventListener(\"keyup\", ({ key }) => {\r\n        if (enabled) {\r\n            var k = String(key)\r\n            setKeysDown(keysDown.filter(k2 => k2 !== k))\r\n        }\r\n    })\r\n\r\n    function checkInput(e) {\r\n        // checks if the currently focused element is a text input, if so, disable the listener\r\n        var target = e.target\r\n        if (target.tagName !== null && target.tagName !== undefined) {\r\n            var targetTagName = target.tagName.toLowerCase();\r\n            if (targetTagName === 'input') {\r\n                setEnabled(false)\r\n            } else {\r\n                setEnabled(true)\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        const handleActivityFalse = () => {\r\n            setKeysDown([])\r\n        };\r\n\r\n        const handleActivityTrue = () => {\r\n            setKeysDown([])\r\n        };\r\n\r\n        window.addEventListener('focus', handleActivityTrue);\r\n        window.addEventListener('blur', handleActivityFalse);\r\n        window.addEventListener('focus', checkInput, true);\r\n\r\n        return () => {\r\n            window.removeEventListener('focus', handleActivityTrue);\r\n            window.removeEventListener('blur', handleActivityFalse);\r\n            window.removeEventListener('focus', checkInput, true);\r\n        };\r\n    }, []);\r\n\r\n    return [keysDown];\r\n} ","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\nimport makeStyles from '@mui/styles/makeStyles';\r\nimport { useConfig } from '../../services/useConfig'\r\n\r\n//components\r\nimport { Grow, Backdrop, Paper, Grid, Container, Divider, IconButton, Tooltip, Button } from '@mui/material';\r\n\r\nimport LevelSelector from './sub/LevelSelector.js';\r\nimport ChromaSelector from './sub/ChromaSelector.js';\r\nimport Weapon from './sub/SkinGridItem.js';\r\nimport WeaponHeader from './sub/WeaponHeader.js';\r\nimport ActionsDrawer from './sub/ActionsDrawer.js';\r\nimport WeightDialog from './sub/WeightDialog.js'\r\n\r\nimport useKeyboardListener from '../../services/useKeyboardListener.js'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    backdrop: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n    mainPaper: {\r\n        margin: \"auto\",\r\n        width: \"100%\",\r\n        height: \"90vh\",\r\n        minWidth: \"400px\",\r\n        maxWidth: \"800px\",\r\n\r\n        display: \"flex\",\r\n        justifySelf: \"flex-start\",\r\n        justifyContent: \"center\",\r\n        alignContent: \"flex-start\",\r\n        flexWrap: \"wrap\",\r\n        overflow: \"auto\",\r\n        \"&::-webkit-scrollbar\": {\r\n            width: 4,\r\n        },\r\n        \"&::-webkit-scrollbar-track\": {\r\n            boxShadow: `inset 0 0 6px rgba(0, 0, 0, 0.3)`,\r\n        },\r\n        \"&::-webkit-scrollbar-thumb\": {\r\n            backgroundColor: \"darkgrey\",\r\n            outline: `1px solid slategrey`,\r\n            backgroundClip: \"padding-box\",\r\n        },\r\n    },\r\n\r\n\r\n    // stuff like skin name, weapon name, skin image\r\n    paperOnTopContent: {\r\n        width: \"93%\",\r\n        background: \"#121212\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        paddingBottom: \"5px\",\r\n        position: \"sticky\",\r\n        top: 0,\r\n        zIndex: 4,\r\n    },\r\n\r\n    mainSkinMedia: {\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        alignContent: \"center\",\r\n        justifyContent: \"center\",\r\n        marginTop: \"10px\",\r\n        maxHeight: \"350px\",\r\n        maxWidth: \"100%\",\r\n        overflowX: \"hidden\",\r\n        transition: \"all 0.5s ease-in-out\",\r\n    },\r\n\r\n    //container for subcomponents\r\n    paperCustomizingContent: {\r\n        width: \"95%\",\r\n        height: \"auto\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        overflowY: \"auto\",\r\n        alignItems: \"stretch\",\r\n        top: 0,\r\n    },\r\n\r\n    levelSelectors: {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        width: \"100%\",\r\n        flexGrow: 1,\r\n        transition: \"all .2s ease\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n    skinSelector: {\r\n        marginBottom: \"15px\",\r\n        marginTop: \"15px\",\r\n        padding: \"2px 2px\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n\r\n\r\n}));\r\n\r\n\r\nfunction WeaponEditor(props) {\r\n\r\n    // TODO: PROFILE IMPLEMENTATION! \r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const inventoryWeaponData = props.inventoryData[props.weaponUuid]\r\n    const profileWeaponData = props.profileData.skins[props.weaponUuid]\r\n    const inventorySkinsData = inventoryWeaponData.skins\r\n    const profileSkinsData = profileWeaponData.skins\r\n    const initSkinData = props.initialSkinData\r\n\r\n    //skin data states\r\n    const [profileSelectedSkinData, setProfileSelectedSkinData] = useState(profileSkinsData[initSkinData.skin_uuid] !== undefined ? profileSkinsData[initSkinData.skin_uuid] : generateDummyProfileData(initSkinData.skin_uuid));\r\n    const [selectedSkinData, setSelectedSkinData] = useState(inventorySkinsData[initSkinData.skin_uuid]);\r\n    const [selectedLevelData, setSelectedLevelData] = useState(inventorySkinsData[initSkinData.skin_uuid].levels[props.loadoutWeaponData.level_uuid])\r\n    const [selectedChromaData, setSelectedChromaData] = useState(inventorySkinsData[initSkinData.skin_uuid].chromas[props.loadoutWeaponData.chroma_uuid])\r\n\r\n    //equipped states\r\n    const [equippedSkinData, setEquippedSkinData] = useState(inventorySkinsData[initSkinData.skin_uuid]);\r\n    const [equippedLevelData, setEquippedLevelData] = useState(inventorySkinsData[initSkinData.skin_uuid].levels[props.loadoutWeaponData.level_uuid])\r\n    const [equippedChromaData, setEquippedChromaData] = useState(inventorySkinsData[initSkinData.skin_uuid].chromas[props.loadoutWeaponData.chroma_uuid])\r\n    const [equippedDataSelected, setEquippedDataSelected] = useState(true)\r\n    const [selectedSkinIsEquipped, setSelectedSkinIsEquipped] = useState(false)\r\n    const [equipable, setEquipable] = useState(false)\r\n\r\n    //favorites states\r\n    const [isFavoriteSkin, setIsFavoriteSkin] = useState(profileSkinsData[initSkinData.skin_uuid].favorite)\r\n    const [favoriteLevels, setFavoriteLevels] = useState();\r\n    const [favoriteChromas, setFavoriteChromas] = useState();\r\n\r\n    const [canFavoriteLevel, setCanFavoriteLevel] = useState(true)\r\n    const [canFavoriteChroma, setCanFavoriteChroma] = useState(true)\r\n    const [canFavoriteSkin, setCanFavoriteSkin] = useState(true)\r\n\r\n    const [isFavoriteLevel, setIsFavoriteLevel] = useState(false);\r\n    const [isFavoriteChroma, setIsFavoriteChroma] = useState(false);\r\n\r\n    //locked states\r\n    const [isLocked, setIsLocked] = useState(profileWeaponData.locked);\r\n\r\n    //modal states\r\n    const [open, changeOpenState] = useState(true);\r\n    const [saving, setSaving] = useState(false);\r\n    const [hasUpgrades, setHasUpgrades] = useState(false);\r\n    const [hasWallpaper, setHasWallpaper] = useState(false);\r\n\r\n    //video states\r\n    const [showingVideo, changeVideoState] = useState(false);\r\n    const [hasAlternateMedia, changeAlternateMediaState] = useState(false);\r\n    const [showingControls, changeControlsState] = useState(false);\r\n\r\n    //weight dialog states\r\n    const [weightDialogOpen, setWeightDialogOpen] = useState(false);\r\n\r\n    //keyboard state\r\n    const [keysDown] = useKeyboardListener();\r\n\r\n    //config\r\n    const [config] = useConfig();\r\n    const showLockedSkins = config.app.settings.show_locked_skins.value;\r\n\r\n\r\n    //effect listeners\r\n    useEffect(() => {\r\n        if (open) {\r\n            document.title = `VIM // ${inventoryWeaponData.display_name}`\r\n        }\r\n    }, [open])\r\n\r\n    // things that should update whenever skin, level, or chroma changes\r\n    useEffect(() => {\r\n        refresh();\r\n    }, [selectedSkinData, selectedLevelData, selectedChromaData])\r\n\r\n    // on initial open, update level/chroma selectors\r\n    useEffect(() => {\r\n        selectSkin(initSkinData.skin_uuid);\r\n        setSelectedLevelData(inventorySkinsData[initSkinData.skin_uuid].levels[props.loadoutWeaponData.level_uuid])\r\n        setSelectedChromaData(inventorySkinsData[initSkinData.skin_uuid].chromas[props.loadoutWeaponData.chroma_uuid])\r\n    }, [])\r\n\r\n    function generateDummyProfileData(skinUuid) {\r\n        const invData = inventorySkinsData[skinUuid]\r\n            \r\n        var dummyProfileSkinData = {\r\n            favorite: false,\r\n            weight: 0,\r\n            levels: {},\r\n            chromas: {},\r\n        }\r\n\r\n        for(var levelUuid in invData.levels){\r\n            dummyProfileSkinData.levels[levelUuid] = {\r\n                favorite: false,\r\n            }\r\n        }\r\n\r\n        for(var chromaUuid in invData.chromas){\r\n            dummyProfileSkinData.chromas[chromaUuid] = {\r\n                favorite: false,\r\n            }\r\n        }\r\n\r\n        console.log(dummyProfileSkinData)\r\n\r\n        return dummyProfileSkinData\r\n    }\r\n\r\n    // keyboard listeners\r\n    useEffect(() => {\r\n        //console.log(keysDown)\r\n\r\n        switch (keysDown.join(' ')) {\r\n            case 'f':\r\n                toggleFavoritedSkin();\r\n                break;\r\n\r\n            case 'l':\r\n                toggleLock();\r\n                break;\r\n\r\n            case 'Escape':\r\n                save();\r\n                break;\r\n\r\n            case 'e':\r\n                equipSkin();\r\n                break;\r\n\r\n            case 'c':\r\n                toggleFavoritedChroma();\r\n                break;\r\n\r\n            case 'v':\r\n                toggleFavoritedLevel();\r\n                break;\r\n\r\n            case 'w':\r\n                setWeightDialogOpen(true);\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n    }, [keysDown])\r\n\r\n    // functions\r\n    function refresh() {\r\n        updateAlternateMedia();\r\n        refreshFavorited();\r\n        refreshFavoritedLevels();\r\n        refreshFavoritedChromas();\r\n\r\n        var equipable = false;\r\n        if (selectedLevelData.unlocked === true && selectedChromaData.unlocked === true) {\r\n            equipable = true;\r\n        }\r\n        setEquipable(equipable);\r\n    }\r\n\r\n    function save() {\r\n        //update if there were changes to favorites and stuff\r\n        console.log(equippedSkinData)\r\n        setSaving(true);\r\n        var data = {\r\n            weaponUuid: props.weaponUuid,\r\n            skinUuid: equippedSkinData[\"uuid\"],\r\n            levelUuid: equippedLevelData[\"uuid\"],\r\n            chromaUuid: equippedChromaData[\"uuid\"],\r\n            //inventoryData: inventoryWeaponData,\r\n            profileData: profileWeaponData,\r\n            profileUuid: props.profileData.uuid,\r\n            //inventorySkinsData: inventorySkinsData,\r\n        }\r\n        var oldSkinId = initSkinData.skin_uuid\r\n        var oldChromaId = initSkinData.chroma_uuid\r\n        var oldLevelId = initSkinData.level_uuid\r\n        var sameSkin = selectedLevelData[\"uuid\"] === oldLevelId && selectedChromaData[\"uuid\"] === oldChromaId && selectedSkinData[\"uuid\"] === oldSkinId;\r\n\r\n        close();\r\n        props.saveCallback(inventoryWeaponData.display_name, data, sameSkin)\r\n            .then(() => {\r\n                \r\n            });\r\n    }\r\n\r\n    function close() {\r\n        changeOpenState(false);\r\n        setTimeout(() => {\r\n            props.closeEditor();\r\n        }, 100)\r\n    }\r\n\r\n    function selectSkin(skinUuid) {\r\n        var skinData = inventorySkinsData[skinUuid];\r\n        var highestLevelOwnedIndex = 1;\r\n\r\n        for (var i = 0; i < Object.keys(skinData.levels).length; i++) {\r\n            if (skinData.levels[Object.keys(skinData.levels)[i]].unlocked === true) {\r\n                highestLevelOwnedIndex = skinData.levels[Object.keys(skinData.levels)[i]].index;\r\n            }\r\n        }\r\n\r\n        if (Object.keys(skinData.levels).length === 1 && Object.keys(skinData.chromas).length === 1) {\r\n            setHasUpgrades(false);\r\n        } else {\r\n            setHasUpgrades(true);\r\n        }\r\n\r\n        if (skinData.wallpaper !== null) {\r\n            setHasWallpaper(true);\r\n        } else {\r\n            setHasWallpaper(false);\r\n        }\r\n\r\n        var levelData = skinData.levels[Object.keys(skinData.levels)[highestLevelOwnedIndex - 1]];\r\n        var chromaData = skinData.chromas[Object.keys(skinData.chromas)[0]];\r\n        var profileData = profileSkinsData[skinData.uuid] !== undefined ? profileSkinsData[skinData.uuid] : generateDummyProfileData(skinData.uuid)\r\n\r\n        setProfileSelectedSkinData(profileData);\r\n        setSelectedSkinData(skinData);\r\n        setSelectedSkinIsEquipped(skinData.uuid === equippedSkinData.uuid);\r\n        setSelectedLevelData(levelData);\r\n        setSelectedChromaData(chromaData);\r\n        // setIsFavoriteLevel(profileData.levels[levelData.uuid].favorite);\r\n        // setIsFavoriteChroma(profileData.chromas[chromaData.uuid].favorite);\r\n        changeVideoState(false);\r\n        changeControlsState(false);\r\n    }\r\n\r\n    function equipSkin() {\r\n        if (equipable) {\r\n            setEquippedSkinData(selectedSkinData);\r\n            setEquippedLevelData(selectedLevelData);\r\n            setEquippedChromaData(selectedChromaData);\r\n            setSelectedSkinIsEquipped(true);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (selectedSkinData.uuid === equippedSkinData.uuid && selectedLevelData.uuid === equippedLevelData.uuid && selectedChromaData.uuid === equippedChromaData.uuid) {\r\n            setEquippedDataSelected(true)\r\n        } else {\r\n            setEquippedDataSelected(false)\r\n        }\r\n    }, [selectedSkinData, selectedLevelData, selectedChromaData, equippedChromaData, equippedSkinData, equippedLevelData])\r\n\r\n    // lock a weapon's skin so it can't be changed by randomizer\r\n    function toggleLock() {\r\n        setIsLocked(!profileWeaponData.locked);\r\n        profileWeaponData.locked = !profileWeaponData.locked;\r\n    }\r\n\r\n    //favorites system\r\n    //if a chroma is favorited, level 4 must also be favorited\r\n    //if a level is favorited, chroma 1 must also be favorited\r\n    function toggleFavoritedSkin() {\r\n        profileSelectedSkinData.favorite = !isFavoriteSkin;\r\n        if (!isFavoriteSkin) {\r\n            profileWeaponData.total_weights += profileSelectedSkinData.weight;\r\n        } else {\r\n            profileWeaponData.total_weights -= profileSelectedSkinData.weight;\r\n        }\r\n        setIsFavoriteSkin(!isFavoriteSkin);\r\n    }\r\n\r\n    function toggleFavoritedLevel(levelUuidOverride = null, stateOverride = null) {\r\n        if(!equipable && !canFavoriteLevel)\r\n            return;\r\n\r\n        var levelUuid\r\n        if (levelUuidOverride === null) {\r\n            levelUuid = selectedLevelData.uuid;\r\n        } else {\r\n            levelUuid = levelUuidOverride;\r\n        }\r\n\r\n        var currentlyFavoritedLevels = favoriteLevels;\r\n        var newState;\r\n\r\n        if (stateOverride === null) {\r\n            newState = !currentlyFavoritedLevels.includes(selectedLevelData.uuid)\r\n        } else {\r\n            newState = stateOverride;\r\n        }\r\n\r\n        if (newState && !currentlyFavoritedLevels.includes(levelUuid)) {\r\n            currentlyFavoritedLevels.push(levelUuid);\r\n        } else if (!newState && currentlyFavoritedLevels.includes(levelUuid)) {\r\n            currentlyFavoritedLevels.splice(currentlyFavoritedLevels.indexOf(levelUuid), 1);\r\n        }\r\n\r\n        setIsFavoriteLevel(newState);\r\n        setFavoriteLevels(currentlyFavoritedLevels);\r\n        profileSelectedSkinData.levels[selectedLevelData.uuid].favorite = newState;\r\n    }\r\n\r\n    function toggleFavoritedChroma(chromaUuidOverride = null, stateOverride = null) {\r\n        if(!equipable && !canFavoriteChroma)\r\n            return;\r\n\r\n        var chromaUuid\r\n        if (chromaUuidOverride === null) {\r\n            chromaUuid = selectedChromaData.uuid;\r\n            console.log(chromaUuid)\r\n        } else {\r\n            chromaUuid = chromaUuidOverride;\r\n        }\r\n\r\n        var currentlyFavoritedChromas = favoriteChromas;\r\n\r\n        var newState\r\n        if (stateOverride === null) {\r\n            newState = !currentlyFavoritedChromas.includes(selectedChromaData.uuid)\r\n        } else {\r\n            newState = stateOverride\r\n        }\r\n\r\n        if (newState && !currentlyFavoritedChromas.includes(chromaUuid)) {\r\n            currentlyFavoritedChromas.push(chromaUuid);\r\n        } else if (!newState && currentlyFavoritedChromas.includes(chromaUuid)) {\r\n            currentlyFavoritedChromas.splice(currentlyFavoritedChromas.indexOf(chromaUuid), 1);\r\n        }\r\n\r\n        setIsFavoriteChroma(newState);\r\n        setFavoriteChromas(currentlyFavoritedChromas);\r\n        profileSelectedSkinData.chromas[chromaUuid].favorite = newState;\r\n    }\r\n\r\n    function refreshFavorited() {\r\n        setIsFavoriteSkin(profileSelectedSkinData.favorite);\r\n        setCanFavoriteSkin(selectedSkinData.unlocked)\r\n    }\r\n\r\n    function refreshFavoritedLevels() {\r\n        var levels = profileSelectedSkinData.levels;\r\n        var favLevels = [];\r\n        for (const level_uuid of Object.keys(levels)) {\r\n            var level = levels[level_uuid];\r\n            if (level.favorite) {\r\n                favLevels.push(level_uuid);\r\n            }\r\n        }\r\n        setFavoriteLevels(favLevels);\r\n\r\n        if (favLevels.includes(selectedLevelData.uuid)) {\r\n            setIsFavoriteLevel(true);\r\n        } else {\r\n            setIsFavoriteLevel(false);\r\n        }\r\n\r\n        // cant favorite stuff with only one level\r\n        if (Object.keys(levels).length === 1) {\r\n            setCanFavoriteLevel(false);\r\n        } else {\r\n            setCanFavoriteLevel(true);\r\n        }\r\n\r\n    }\r\n\r\n    function refreshFavoritedChromas() {\r\n        var chromas = profileSelectedSkinData.chromas;\r\n        var favChromas = [];\r\n        for (const chroma_uuid of Object.keys(chromas)) {\r\n            var chroma = chromas[chroma_uuid];\r\n            if (chroma.favorite) {\r\n                favChromas.push(chroma_uuid);\r\n            }\r\n        }\r\n        setFavoriteChromas(favChromas)\r\n\r\n        if (favChromas.includes(selectedChromaData.uuid)) {\r\n            setIsFavoriteChroma(true);\r\n        } else {\r\n            setIsFavoriteChroma(false);\r\n        }\r\n\r\n        if (Object.keys(chromas).length === 1) {\r\n            setCanFavoriteChroma(false);\r\n        } else {\r\n            setCanFavoriteChroma(true);\r\n        }\r\n    }\r\n\r\n    // --------------------------------------------------\r\n\r\n    //skin media stuff\r\n    function updateAlternateMedia() {\r\n        changeAlternateMediaState(selectedChromaData.video_preview !== null || selectedLevelData.video_preview !== null)\r\n    }\r\n\r\n    function getSkinMedia() {\r\n        var showChromaVideo = false;\r\n        var showLevelImage = false;\r\n\r\n        if (selectedChromaData.video_preview !== null) {\r\n            showChromaVideo = true;\r\n        }\r\n        if (selectedChromaData.index === 1 && selectedLevelData.display_icon !== null && !(selectedSkinData.display_name.includes(\"Standard\"))) {\r\n            showLevelImage = true;\r\n        }\r\n        if (!showingVideo) {\r\n            return (\r\n                <Grow in>\r\n                    <img alt={selectedChromaData.display_name} src={showLevelImage ? selectedLevelData.display_icon : selectedChromaData.display_icon} style={{ maxWidth: \"90%\", maxHeight: \"85%\", objectFit: \"contain\", alignSelf: \"center\", overflow: \"hidden\" }} />\r\n                </Grow>\r\n            )\r\n        } else if (showingVideo && selectedLevelData.video_preview !== null) {\r\n            return (\r\n                <Grow in>\r\n                    <video src={showChromaVideo ? selectedChromaData.video_preview : selectedLevelData.video_preview} type=\"video/mp4\" controls={showingControls} autoPlay onEnded={() => { changeVideoState(false) }} style={{ width: \"auto\", height: \"100%\", overflow: \"hidden\", objectFit: \"contain\", flexGrow: 1, alignSelf: \"center\" }} />\r\n                </Grow>\r\n            )\r\n        } else {\r\n            changeVideoState(false);\r\n        }\r\n\r\n    }\r\n\r\n    function saveWeight(weight, total) {\r\n        setWeightDialogOpen(false);\r\n        profileSelectedSkinData.weight = weight;\r\n        profileWeaponData.total_weights = total;\r\n    }\r\n\r\n\r\n    if (inventoryWeaponData == null && initSkinData == null) {\r\n\r\n        return (\r\n            null\r\n        )\r\n\r\n    } else {\r\n\r\n        return (\r\n            <Backdrop open={open} className={classes.backdrop} style={{ zIndex: 4 }}>\r\n                <WeightDialog\r\n                    open={weightDialogOpen}\r\n                    close={setWeightDialogOpen}\r\n                    saveCallback={saveWeight}\r\n                    weight={profileSelectedSkinData.weight}\r\n                    totalWeights={profileWeaponData.total_weights}\r\n                />\r\n                <Container maxWidth={\"lg\"}>\r\n                    <Paper className={classes.mainPaper} variant=\"outlined\">\r\n                        <div className={classes.paperOnTopContent}>\r\n\r\n                            <WeaponHeader\r\n                                selectedSkinData={selectedSkinData}\r\n                                profileSelectedSkinData={profileSelectedSkinData}\r\n                                inventoryWeaponData={inventoryWeaponData}\r\n                                profileWeaponData={profileWeaponData}\r\n                                saving={saving}\r\n                                saveCallback={save}\r\n                                isFavorite={isFavoriteSkin}\r\n                                canFavorite={canFavoriteSkin}\r\n                                favoriteCallback={toggleFavoritedSkin}\r\n                                isLocked={isLocked}\r\n                                lockCallback={toggleLock}\r\n                                weightCallback={setWeightDialogOpen}\r\n                            />\r\n\r\n                            <div style={{ width: \"100%\", display: \"flex\", flexDirection: \"row\" }}>\r\n\r\n                                <Paper\r\n                                    variant=\"outlined\"\r\n                                    outlinecolor=\"secondary\"\r\n                                    className={classes.mainSkinMedia}\r\n                                    style={{ height: (showingVideo ? \"35vh\" : \"125px\"), backgroundImage: (hasWallpaper ? `linear-gradient(90deg, rgba(66, 66, 66,.5) 0%, rgba(66, 66, 66,.5) 100%), url(${selectedSkinData.wallpaper})` : null), backgroundSize: \"cover\", backgroundPosition: \"center\", transition: \"background-image 0.5s ease, height 0.2s ease\" }}\r\n                                >\r\n                                    {getSkinMedia()}\r\n                                </Paper>\r\n\r\n                                <ActionsDrawer\r\n                                    hasAlternateMedia={hasAlternateMedia}\r\n                                    showingVideo={showingVideo}\r\n                                    changeVideoStateCallback={changeVideoState}\r\n                                    showingControls={showingControls}\r\n                                    changeControlsStateCallback={changeControlsState}\r\n                                    toggleFavoriteLevelCallback={toggleFavoritedLevel}\r\n                                    isFavoriteLevel={isFavoriteLevel}\r\n                                    toggleFavoriteChromaCallback={toggleFavoritedChroma}\r\n                                    isFavoriteChroma={isFavoriteChroma}\r\n                                    canFavoriteLevel={canFavoriteLevel}\r\n                                    canFavoriteChroma={canFavoriteChroma}\r\n                                    equipable={equipable}\r\n                                />\r\n\r\n                            </div>\r\n\r\n                            <div className={classes.levelSelectors} style={{ marginTop: (hasUpgrades ? \"12px\" : \"0px\"), height: (hasUpgrades ? \"auto\" : \"0px\"), trainsition: \"height 0.5s ease\" }}>\r\n                                <Grid container spacing={0} style={{}}>\r\n                                    <Grid item xs={12} sm={6} style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-start\", }}>\r\n                                        <LevelSelector\r\n                                            levelData={selectedSkinData.levels}\r\n                                            profileLevelData={profileSelectedSkinData.levels}\r\n                                            selectedLevelIndex={selectedLevelData.index}\r\n                                            selectedChromaIndex={selectedChromaData.index}\r\n                                            equippedLevelIndex={equippedLevelData.index}\r\n                                            selectedSkinIsEquipped={selectedSkinIsEquipped}\r\n                                            setter={setSelectedLevelData}\r\n                                        />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={6} style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-end\", }}>\r\n                                        <ChromaSelector\r\n                                            levelData={selectedSkinData.levels}\r\n                                            chromaData={selectedSkinData.chromas}\r\n                                            profileChromaData={profileSelectedSkinData.chromas}\r\n                                            selectedLevelIndex={selectedLevelData.index}\r\n                                            selectedChromaIndex={selectedChromaData.index}\r\n                                            equippedChromaIndex={equippedChromaData.index}\r\n                                            selectedSkinIsEquipped={selectedSkinIsEquipped}\r\n                                            setter={setSelectedChromaData}\r\n                                        />\r\n                                    </Grid>\r\n                                </Grid>\r\n\r\n                            </div>\r\n\r\n                            <Button variant=\"outlined\" color=\"primary\" onClick={equipSkin} disabled={equippedDataSelected ? true : false || !equipable} style={{ marginTop: \"10px\", width: \"100%\", }}>\r\n                                {equipable ? (!equippedDataSelected ? `Equip ${selectedSkinData.display_name}${selectedLevelData.index !== 1 ? ` // level ${selectedLevelData.index}` : ''}${selectedChromaData.index !== 1 ? ` // ${selectedChromaData.display_name}` : ''}` : 'Equipped') : \"Locked\"}\r\n                            </Button>\r\n\r\n                            <Divider variant=\"middle\" style={{ marginTop: \"12px\", }} />\r\n\r\n                        </div>\r\n\r\n\r\n                        <div className={classes.paperCustomizingContent} style={{ transition: \"all 0.5s ease\" }}>\r\n\r\n\r\n                            <div className={classes.skinSelector}>\r\n                                <Grid style={{ width: \"100%\", height: \"100%\", justifySelf: \"center\" }} container justifyContent=\"flex-start\" direction=\"row\" alignItems=\"center\" spacing={2}>\r\n\r\n                                    {Object.keys(inventorySkinsData).map(uuid => {\r\n                                        var data = inventorySkinsData[uuid];\r\n                                        var profileData = profileSkinsData[uuid];\r\n                                        if (!data.unlocked && !showLockedSkins) {\r\n                                            return null;\r\n                                        } else {\r\n                                            return (\r\n                                                <Grid item key={data.display_name} xs={4}>\r\n                                                    <Weapon skinData={data} profileData={profileData} weaponData={inventoryWeaponData} select={selectSkin} selected={selectedSkinData} equipped={data.uuid === equippedSkinData.uuid} />\r\n                                                </Grid>\r\n                                            )\r\n                                        }\r\n                                    })}\r\n                                </Grid>\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n\r\n                    </Paper>\r\n                </Container>\r\n            </Backdrop>\r\n        )\r\n    }\r\n}\r\n\r\nexport default WeaponEditor","import { useState, useEffect } from 'react';\r\n\r\nfunction getWindowDimensions() {\r\n    const { innerWidth: width, innerHeight: height } = window;\r\n    return {\r\n        \"width\": width,\r\n        \"height\": height\r\n    };\r\n}\r\n\r\nexport default function useWindowDimensions() {\r\n    const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\r\n    useEffect(() => {\r\n        function handleResize() {\r\n            setWindowDimensions(getWindowDimensions());\r\n        }\r\n\r\n        window.addEventListener('resize', handleResize);\r\n        return () => window.removeEventListener('resize', handleResize);\r\n    }, []);\r\n\r\n    return [windowDimensions.width, windowDimensions.height];\r\n} ","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\nimport makeStyles from '@mui/styles/makeStyles';\r\nimport useWindowDimensions from '../../../services/useWindowDimensions.js';\r\n\r\n//components\r\nimport { Grid, Grow, Typography, Paper, Fade, Collapse } from '@mui/material'\r\n\r\nconst stockImageSize = \"250px\";\r\n\r\nconst backup = { //unused backups which had true sizing instead of scaling with percentages\r\n    //fisrt num = base width, second num == number to add for larger width\r\n    \"29a0cfab-485b-f5d5-779a-b59f85e204a8\": [\"100px\", \"20px\"], //classic\r\n    \"42da8ccc-40d5-affc-beec-15aa47b42eda\": [\"130px\", \"30px\"], //shorty\r\n    \"44d4e95c-4157-0037-81b2-17841bf2e8e3\": [\"100px\", \"10px\"], //frenzy\r\n    \"1baa85b4-4c70-1284-64bb-6481dfc3bb4e\": [\"140px\", \"35px\"], //ghost\r\n    \"e336c6b8-418d-9340-d77f-7a9e4cfe0702\": [\"140px\", \"20px\"], //sheriff\r\n\r\n    \"f7e1b454-4ad4-1063-ec0a-159e56b58941\": [\"195px\", \"20px\"], //stinger\r\n    \"462080d1-4035-2937-7c09-27aa2a5c27a7\": [\"200px\", \"20px\"], //spectre\r\n\r\n    \"910be174-449b-c412-ab22-d0873436b21b\": [\"240px\", \"40px\"], //bucky\r\n    \"ec845bf4-4f79-ddda-a3da-0db3774b2794\": [\"240px\", \"30px\"], //judge\r\n\r\n    \"ae3de142-4d85-2547-dd26-4e90bed35cf7\": [\"240px\", \"20px\"], //bulldog\r\n    \"4ade7faa-4cf1-8376-95ef-39884480959b\": [\"240px\", \"60px\"], //guardian\r\n    \"ee8e8d15-496b-07ac-e5f6-8fae5d4c7b1a\": [\"250px\", \"30px\"], //phantom\r\n    \"9c82e19d-4575-0200-1a81-3eacf00cf872\": [\"240px\", \"30px\"], //vandal\r\n\r\n    \"c4883e50-4494-202c-3ec3-6b8a9284f00b\": [\"250px\", \"70px\"], //marshal\r\n    \"a03b24d3-4319-996d-0f8c-94bbfba1dfc7\": [\"240px\", \"100px\"], //operator\r\n\r\n    \"55d8a0f4-4274-ca67-fe2c-06ab45efdf58\": [\"260px\", \"80px\"], //ares\r\n    \"63e6c2b6-4a8e-869c-3d4c-e38355226584\": [\"270px\", \"40px\"], //odin\r\n\r\n    \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\": [\"auto\", \"20px\"], //melee\r\n}\r\n\r\nconst weaponImageScales = {\r\n    \"29a0cfab-485b-f5d5-779a-b59f85e204a8\": [\"45% auto\", \"auto 60%\"], //classic\r\n    \"42da8ccc-40d5-affc-beec-15aa47b42eda\": [\"60% auto\", \"auto 35%\"], //shorty\r\n    \"44d4e95c-4157-0037-81b2-17841bf2e8e3\": [\"45% auto\", \"auto 60%\"], //frenzy\r\n    \"1baa85b4-4c70-1284-64bb-6481dfc3bb4e\": [\"65% auto\", \"auto 45%\"], //ghost\r\n    \"e336c6b8-418d-9340-d77f-7a9e4cfe0702\": [\"60% auto\", \"auto 60%\"], //sheriff\r\n\r\n    \"f7e1b454-4ad4-1063-ec0a-159e56b58941\": [\"52% auto\", \"auto 65%\"], //stinger\r\n    \"462080d1-4035-2937-7c09-27aa2a5c27a7\": [\"55% auto\", \"auto 65%\"], //spectre\r\n\r\n    \"910be174-449b-c412-ab22-d0873436b21b\": [\"75% auto\", \"auto 40%\"], //bucky\r\n    \"ec845bf4-4f79-ddda-a3da-0db3774b2794\": [\"65% auto\", \"auto 60%\"], //judge\r\n\r\n    \"ae3de142-4d85-2547-dd26-4e90bed35cf7\": [\"65% auto\", \"auto 63%\"], //bulldog\r\n    \"4ade7faa-4cf1-8376-95ef-39884480959b\": [\"75% auto\", \"auto 50%\"], //guardian\r\n    \"ee8e8d15-496b-07ac-e5f6-8fae5d4c7b1a\": [\"73% auto\", \"auto 55%\"], //phantom\r\n    \"9c82e19d-4575-0200-1a81-3eacf00cf872\": [\"65% auto\", \"auto 70%\"], //vandal\r\n\r\n    \"c4883e50-4494-202c-3ec3-6b8a9284f00b\": [\"80% auto\", \"auto 50%\"], //marshal\r\n    \"a03b24d3-4319-996d-0f8c-94bbfba1dfc7\": [\"80% auto\", \"auto 55%\"], //operator\r\n\r\n    \"55d8a0f4-4274-ca67-fe2c-06ab45efdf58\": [\"80% auto\", \"auto 47%\"], //ares\r\n    \"63e6c2b6-4a8e-869c-3d4c-e38355226584\": [\"80% auto\", \"auto 60%\"], //odin\r\n\r\n    \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\": [\"auto 70%\", \"auto 70%\"], //melee\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    \"@global\": {\r\n        \"@keyframes fadeOut\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    weaponContainerVideo: {\r\n        position: \"absolute\",\r\n        objectFit: \"cover\",\r\n        width: \"auto\",\r\n        height: \"auto\",\r\n    },\r\n\r\n    weaponPaper: {\r\n        flexDirection: \"row\",\r\n        position: \"relative\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        background: \"transparent\",\r\n        transition: \".5s ease !important\",\r\n        \"&:hover\": {\r\n            border: `1px ${theme.palette.primary.main} solid`\r\n        },\r\n    },\r\n\r\n    weaponImage: {\r\n        zIndex: 1,\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        position: \"relative\",\r\n        backgroundPosition: \"center\",\r\n        backgroundRepeat: \"no-repeat\",\r\n        background: \"transparent\",\r\n        // transition: \".25s ease !important\",\r\n        backfaceVisibility: \"hidden\",\r\n    },\r\n\r\n    bottomGradient: {\r\n        //background: \"linear-gradient(to bottom, rgba(0,0,0,0) 60%,rgba(255,255,255,.15) 100%)\",\r\n        zIndex: 5,\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        top: \"-100%\",\r\n    },\r\n\r\n    dataContainer: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        display: \"flex\",\r\n        position: \"relative\",\r\n        top: \"-100%\"\r\n    },\r\n\r\n    textContainer: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"flex-end\",\r\n        backgroundPosition: \"center\",\r\n        overflow: \"visible\",\r\n        paddingLeft: \"12px\",\r\n        paddingBottom: \"8px\",\r\n        zIndex: 2,\r\n    },\r\n\r\n    buddyContainer: {\r\n        display: \"flex\",\r\n        maxWidth: \"100px\",\r\n        height: \"100%\",\r\n        position: \"relative\",\r\n        right: 0,\r\n        bottom: 8,\r\n        zIndex: 2,\r\n    },\r\n\r\n    buddyImage: {\r\n        width: \"100%\",\r\n        height: \"auto\",\r\n        objectFit: \"contain\",\r\n        position: \"relative\",\r\n        alignSelf: \"flex-end\",\r\n    },\r\n\r\n    weaponLabelHolder: {\r\n        display: \"flex\",\r\n        width: \"80%\",\r\n        height: \"25px\",\r\n        position: \"relative\",\r\n        alignSelf: \"flex-start\",\r\n    },\r\n\r\n    skinLabelHolder: {\r\n        width: \"80%\",\r\n        alignSelf: \"flex-start\",\r\n        position: \"relative\",\r\n    },\r\n\r\n    weaponLabel: {\r\n        textAlign: \"left\",\r\n        width: \"100%\",\r\n        flexGrow: 1,\r\n        position: \"relative\",\r\n        textOverflow: \"ellipsis\",\r\n        bottom: 0,\r\n    },\r\n\r\n}));\r\n\r\n\r\nfunction Weapon(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [width, height] = useWindowDimensions();\r\n\r\n    const [isUpdatingImage, setUpdatingImage] = useState(true);\r\n    const [isUpdatingBuddy, setUpdatingBuddy] = useState(false);\r\n    const [skinData, updateSkinData] = useState({});\r\n    const [showSkinName, updateSkinNameVisibility] = useState(false);\r\n\r\n    const [showVideo, setShowVideo] = useState(false)\r\n    const [hoverTimeout, setHoverTimeout] = useState(null);\r\n\r\n    const [scaleIndex, setScaleIndex] = useState(0);\r\n\r\n    const [weaponImage, setImage] = useState(\"\");\r\n\r\n    const favorite = props.data !== undefined ? props.data.favorite : \"\";\r\n    const locked = props.data !== undefined ? props.data.locked : \"\";\r\n    const bugged = props.data !== undefined ? props.data.bugged : \"\";\r\n\r\n    useEffect(() => {\r\n        if (props.data !== undefined) {\r\n            var comparisonTarget = skinData !== null ? skinData.skin_image : \"\"\r\n            if (props.data.skin_image !== comparisonTarget) {\r\n\r\n                setUpdatingImage(true)\r\n                setTimeout(() => {\r\n                    setImage(props.data.skin_image)\r\n                    updateSkinData(props.data);\r\n                    setUpdatingImage(false);\r\n                }, 300)\r\n\r\n            }\r\n\r\n            //update buddy\r\n            if (props.data.buddy_name !== skinData.buddy_name) {\r\n\r\n                setUpdatingBuddy(true);\r\n                setTimeout(() => {\r\n                    updateSkinData(props.data);\r\n                    setUpdatingBuddy(false);\r\n                }, 300);\r\n            }\r\n        }\r\n    }, [props.data]);\r\n\r\n    useEffect(() => {\r\n        if (width / height > 1.75) {\r\n            setScaleIndex(1);\r\n        } else {\r\n            setScaleIndex(0);\r\n        }\r\n    }, [width, height])\r\n\r\n    function onHover() {\r\n        updateSkinNameVisibility(true);\r\n        setHoverTimeout(setTimeout(() => {\r\n            setShowVideo(true);\r\n        }, 750))\r\n    };\r\n\r\n    function offHover() {\r\n        updateSkinNameVisibility(false);\r\n        clearTimeout(hoverTimeout);\r\n        setShowVideo(false);\r\n    };\r\n\r\n    function select() {\r\n        if (!bugged && props.data !== undefined) {\r\n            console.log(props)\r\n            // make sure the skin isn't falsely being displayed in inventory (if it's refunded everything breaks)\r\n            props.weaponEditorCallback(props.uuid);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Fade in style={{ transitionDelay: '500ms', transition: \".25s width ease !important\" }}>\r\n            <Paper\r\n                className={classes.weaponPaper}\r\n                variant=\"outlined\"\r\n                onMouseEnter={onHover}\r\n                onMouseLeave={offHover}\r\n                onClick={select}\r\n\r\n            >\r\n                <Fade in={!isUpdatingImage}>\r\n                    <div\r\n                        className={classes.weaponImage}\r\n                        style={{\r\n                            //backgroundPosition: props.uuid === \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\" ? \"50% 35%\" : (!props.useLargeWeaponImage ? \"50% 40%\" : \"50% 50%\"), \r\n                            backgroundPosition: \"50% 50%\",\r\n                            backgroundImage: skinData !== {} ? `url(${weaponImage})` : `url(\"https://media.valorant-api.com/weapons/${props.uuid}/displayicon.png\")`,\r\n                            backgroundSize: weaponImageScales[props.uuid][scaleIndex],\r\n                            overflow: \"hidden\"\r\n                            //props.uuid !== \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\" ? (!props.useLargeWeaponImage ? `${props.uuid in weaponImageScales ? weaponImageScales[props.uuid][0] : stockImageSize} auto` : `calc(${weaponImageScales[props.uuid][0]} + ${weaponImageScales[props.uuid][1]}) auto`) : \"auto 80%\",\r\n                        }}\r\n                    >\r\n                        <Fade in={showVideo} timeout={500} mountOnEnter unmountOnExit style={{overflow: \"hidden\", }}>\r\n                            <video preload src={skinData.chroma_video !== null ? skinData.chroma_video : (skinData.level_video !== null ? skinData.level_video : null)} type=\"video/mp4\" controls={false} muted autoPlay onEnded={() => { setShowVideo(false) }} style={{ filter: \"brightness(0.6)\", width: \"100%\", height: \"100%\", position: \"absolute\", objectFit: \"cover\", overflow: \"hidden\", flexGrow: 0, alignSelf: \"center\", borderRadius: \"4px\" }} />\r\n                        </Fade>\r\n                    </div>\r\n                </Fade>\r\n\r\n                {/* <div className={classes.bottomGradient} /> */}\r\n\r\n                <div className={classes.dataContainer}>\r\n                    <div className={classes.textContainer}>\r\n                        <div className={classes.weaponLabelHolder}>\r\n                            <Typography className={classes.weaponLabel} variant=\"overline\">{locked ? \" \" : null}{props.displayName}</Typography>\r\n                        </div>\r\n                        <div className={classes.skinLabelHolder}>\r\n                            <Collapse in={showSkinName}>\r\n                                <Typography className={classes.weaponLabel} variant=\"body1\" style={{ marginBottom: \"4px\" }}>{favorite ? \" \" : null}{skinData.skin_name}</Typography>\r\n                            </Collapse>\r\n                        </div>\r\n                    </div>\r\n                    <Grow in={!isUpdatingBuddy}>\r\n                        <div className={classes.buddyContainer} style={{ width: props.isSidearm ? \"20%\" : \"14%\" }}>\r\n                            {props.uuid !== \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\" ?\r\n                                <img alt={skinData.buddy_name} className={classes.buddyImage} src={skinData.buddy_image !== \"\" ? skinData.buddy_image : null} />\r\n                                : <img alt=\"\" src=\"\" />\r\n                            }\r\n                        </div>\r\n                    </Grow>\r\n                </div>\r\n            </Paper>\r\n        </Fade>\r\n    )\r\n\r\n}\r\n\r\nexport default Weapon","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button, Slider } from '@mui/material'\r\n\r\nimport useLocalStorage from '../../../services/useLocalStorage.js';\r\nimport { Config } from '../../../services/ClientConfig';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n}));\r\n\r\nfunction SkinChangerWarning(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const time = 10;\r\n\r\n    const [skinsOwned, setSkinsOwned] = useState(-1)\r\n    const [acknowledged, setAcknowledged] = useLocalStorage(\"skinChangerWarningAcknowledged\", false);\r\n    const [enableButton, setEnableButton] = useState(false);\r\n    const [timerText, setTimerText] = useState(`${time}`);\r\n    const [open, setOpen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        var skinsOwned = props.skinsOwned\r\n        setSkinsOwned(props.skinsOwned)\r\n        if (skinsOwned > Config.SKIN_CHANGER_WARNING_THRESHOLD && skinsOwned !== -1) {\r\n            setAcknowledged(true);\r\n        }\r\n        if ((!acknowledged && skinsOwned < Config.SKIN_CHANGER_WARNING_THRESHOLD) && skinsOwned !== -1) {\r\n            setOpen(true);\r\n        }\r\n    }, [props.skinsOwned]);\r\n\r\n    useEffect(() => {\r\n        if (open) {\r\n            setTimeout(() => {\r\n                setEnableButton(true);\r\n                setTimerText(\"I understand\")\r\n            }, time * 1000);\r\n            for (let i = time; i > 0; i--) {\r\n                setTimeout(() => {\r\n                    setTimerText(`[${i}]`);\r\n                }, (time * 1000) - (1000 * i))\r\n            }\r\n        }\r\n    }, [open])\r\n\r\n    return (\r\n        <Dialog open={open} fullWidth maxWidth=\"xs\" onClose={null}>\r\n            <DialogTitle> VIM is NOT a skin changer </DialogTitle>\r\n            <DialogContent className={classes.content}>\r\n                <DialogContentText style={{}}>\r\n                    You own {skinsOwned} skins. VIM is NOT a skin changer and will not give you \"free skins.\" VIM only works with skins you own.\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button disabled={!enableButton} color=\"primary\" onClick={() => { setAcknowledged(true); setOpen(false); }}>\r\n                    {timerText}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n\r\n}\r\n\r\nexport default SkinChangerWarning;\r\n","import { useEffect, useState } from \"react\";\r\n\r\nimport { Alert, Snackbar } from \"@mui/material\";\r\n\r\nfunction SnackbarFeedback(props) {\r\n\r\n    const trigger = props.trigger;\r\n    const setTrigger = props.setTrigger;\r\n    const text = props.text;\r\n    const type = props.type\r\n\r\n    const [open, setOpen] = useState(false);\r\n\r\n    function close(event, reason) {\r\n        setOpen(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (trigger) {\r\n            setOpen(true);\r\n            setTrigger(false);\r\n        }\r\n    }, [trigger])\r\n\r\n    return (\r\n        <Snackbar open={open} autoHideDuration={4000} onClose={close} anchorOrigin={{vertical: \"bottom\", horizontal: \"center\"}}>\r\n            <Alert severity={type} sx={{ width: '100%' }}>\r\n                {text}\r\n            </Alert>\r\n        </Snackbar>\r\n    )\r\n}\r\n\r\nexport default SnackbarFeedback;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Tooltip, Container, Typography, Toolbar, IconButton, Slide, Button } from '@mui/material';\r\nimport { ToggleButton, ToggleButtonGroup } from '@mui/material';\r\nimport Icon from '@mdi/react'\r\n\r\n//icons \r\nimport { mdiNumeric1Box, mdiNumeric2Box, mdiNumeric3Box, mdiNumeric4Box, mdiNumeric5Box, mdiNumeric6Box, mdiNumeric7Box, mdiNumeric8Box, mdiNumeric9Box } from '@mdi/js';\r\nimport { Autorenew } from '@mui/icons-material';\r\n\r\nimport { useProfile } from '../../../services/useProfiles';\r\nimport SnackbarFeedback from '../../snackbarFeedback/SnackbarFeedback';\r\n\r\nconst numericToIcon = {\r\n    1: mdiNumeric1Box,\r\n    2: mdiNumeric2Box,\r\n    3: mdiNumeric3Box,\r\n    4: mdiNumeric4Box,\r\n    5: mdiNumeric5Box,\r\n    6: mdiNumeric6Box,\r\n    7: mdiNumeric7Box,\r\n    8: mdiNumeric8Box,\r\n    9: mdiNumeric9Box,\r\n}\r\n\r\nfunction ProfileSelect(props) {\r\n    // const classes = useStyles();\r\n\r\n    const [snackbarTrigger, setSnackbarTrigger] = useState(false);\r\n    const [snackbarText, setSnackbarText] = useState(\"\");\r\n\r\n    const [profile, _, profileUuid] = useProfile()\r\n    const [equippedUuid, setEquippedUuid] = useState(profile.uuid)\r\n    const [targetedUuid, setTargetedUuid] = useState(null)\r\n    const [loading, setLoading] = useState(false)\r\n    const data = props.data\r\n\r\n    function selectProfile(event, uuid) {\r\n        if (uuid !== null) {\r\n            setTargetedUuid(uuid)\r\n            setLoading(true)\r\n            props.selectCallback(uuid)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (profile.name !== undefined && profile.uuid !== equippedUuid) {\r\n            setSnackbarText(`Equipped profile: ${profile.name}`)\r\n            setSnackbarTrigger(true)\r\n            setLoading(false)\r\n            setEquippedUuid(profile.uuid)\r\n        }\r\n    }, [profile])\r\n\r\n    useEffect(() => {\r\n        setEquippedUuid(profile.uuid)\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <SnackbarFeedback trigger={snackbarTrigger} setTrigger={setSnackbarTrigger} type=\"success\" text={snackbarText} />\r\n            <div style={{ width: \"auto\", height: \"100%\", padding: \"10px 0px\", display: \"flex\", flexDirection: \"row\", justifyContent: \"start\", alignItems: \"center\", flexGrow: 1, gap: \"20px\" }}>\r\n                <Button variant=\"contained\" disableElevation color=\"secondary\" onClick={props.editCallback} sx={{ width: \"auto\", height: \"100%\", whiteSpace: \"nowrap\" }}>Manage profiles</Button>\r\n                <ToggleButtonGroup\r\n                    value={equippedUuid}\r\n                    exclusive\r\n                    onChange={selectProfile}\r\n                    aria-label=\"profile\"\r\n                    sx={{ width: \"100%\", height: \"100%\" }}\r\n                >\r\n                    {data.map((item) => {\r\n                        return (\r\n                            <Tooltip arrow title={item.name} key={item.uuid}>\r\n                                <ToggleButton value={item.uuid} selected={item.uuid === equippedUuid}>\r\n                                    {targetedUuid === item.uuid && loading ?\r\n                                        <Autorenew sx={{ animation: \"spin 4s linear infinite\", width: \"1.65rem\", height: \"1.65rem\" }} />\r\n                                        :\r\n                                        <Icon path={numericToIcon[item.order]} size={1.1} color=\"white\" />\r\n                                    }\r\n                                </ToggleButton>\r\n                            </Tooltip>\r\n                        )\r\n                    })}\r\n                </ToggleButtonGroup>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProfileSelect;","import { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button } from '@mui/material';\r\n\r\nfunction DeleteConfirmation(props) {\r\n    const open = props.open\r\n    const callback = props.callback\r\n    const data = props.data\r\n    const cancel = props.cancel\r\n\r\n    return (\r\n        <Dialog open={open} fullWidth maxWidth={\"xs\"}>\r\n            <DialogTitle>Are you sure you want to delete {data.name}?</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText>\r\n                    This action cannot be undone.\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={() => cancel()} color=\"primary\" disableElevation>cancel</Button>\r\n                <Button onClick={() => callback(data.order)} color=\"primary\" disableElevation>delete</Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default DeleteConfirmation;","import { useState, useEffect } from \"react\";\r\nimport { List, ListItem, ListItemAvatar, ListItemButton, ListItemText, Collapse, Avatar, IconButton, TextField } from \"@mui/material\";\r\n\r\nimport { mdiNumeric1Box, mdiNumeric2Box, mdiNumeric3Box, mdiNumeric4Box, mdiNumeric5Box, mdiNumeric6Box, mdiNumeric7Box, mdiNumeric8Box, mdiNumeric9Box } from '@mdi/js';\r\nimport Icon from '@mdi/react'\r\nimport { Delete, KeyboardArrowUp, KeyboardArrowDown } from '@mui/icons-material';\r\n\r\nconst numericToIcon = {\r\n    1: mdiNumeric1Box,\r\n    2: mdiNumeric2Box,\r\n    3: mdiNumeric3Box,\r\n    4: mdiNumeric4Box,\r\n    5: mdiNumeric5Box,\r\n    6: mdiNumeric6Box,\r\n    7: mdiNumeric7Box,\r\n    8: mdiNumeric8Box,\r\n    9: mdiNumeric9Box,\r\n}\r\n\r\nfunction ProfileItem(props) {\r\n\r\n    const toggleEdit = props.toggleEdit;\r\n    const showProfileEdit = props.showProfileEdit;\r\n    const move = props.move\r\n    const changeName = props.changeName\r\n    const confirmDelete = props.confirmDelete\r\n\r\n    const data = props.data\r\n\r\n    const [profileName, setProfileName] = useState(data.name)\r\n\r\n    function expand(){\r\n        toggleEdit(data.order)\r\n    }\r\n\r\n    function moveUp(){\r\n        move(data.order, true)\r\n    }\r\n\r\n    function moveDown(){\r\n        move(data.order, false)\r\n    }\r\n\r\n    function save(newName){\r\n        changeName(data.order, newName)\r\n        setProfileName(newName)\r\n    }\r\n\r\n    function deleteProfile(){\r\n        confirmDelete(data.order)\r\n    }\r\n\r\n    useEffect(() => {\r\n        setProfileName(data.name)\r\n    }, [data.name])\r\n\r\n    return (\r\n        <>\r\n            <ListItem disablePadding secondaryAction={\r\n                <IconButton edge={\"end\"} onClick={deleteProfile}>\r\n                    <Delete />\r\n                </IconButton>\r\n            }>\r\n                <ListItemButton onClick={expand}>\r\n                    <ListItemAvatar>\r\n                        <Avatar style={{ background: \"transparent\" }}>\r\n                            <Icon path={numericToIcon[data.order]} size={1} color=\"white\" />\r\n                        </Avatar>\r\n                    </ListItemAvatar>\r\n                    <ListItemText>\r\n                        {data.name}\r\n                    </ListItemText>\r\n                </ListItemButton>\r\n            </ListItem>\r\n            <Collapse in={showProfileEdit}>\r\n                <List component=\"div\" disablePadding sx={{ background: \"#\" }}>\r\n                    <ListItem sx={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"center\", alignItems: \"center\", gap: \"10px\" }}>\r\n                        <TextField sx={{ width: \"100%\", margin: \"5px 0px\" }} autoComplete='off' size=\"small\" variant=\"outlined\" label=\"Profile name\" value={profileName} onChange={(e) => {save(e.target.value)}}></TextField>\r\n                        <IconButton onClick={moveUp}><KeyboardArrowUp /></IconButton>\r\n                        <IconButton onClick={moveDown}><KeyboardArrowDown /></IconButton>\r\n                    </ListItem>\r\n                </List>\r\n            </Collapse>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProfileItem;","import { useState, useEffect } from 'react';\r\n\r\nimport { Dialog, DialogTitle, DialogContent, Button, List, ListItem, ListItemAvatar, ListItemButton, ListItemText, Collapse, Avatar, IconButton, TextField, DialogActions } from '@mui/material';\r\nimport DeleteConfirmation from './sub/DeleteConfirmation';\r\n\r\nimport ProfileItem from './sub/ProfileItem';\r\n\r\nimport socket from '../../services/Socket';\r\n\r\nfunction ProfileEdit(props) {\r\n\r\n    const profileData = props.data;\r\n    const closeCallback = props.closeCallback;\r\n    const selectCallback = props.selectCallback;\r\n\r\n    const [profileEditNum, setProfileEditNum] = useState(-1);\r\n    const [data, setData] = useState([]);\r\n    const [deleteConfirmationOpen, setDeleteConfirmationOpen] = useState(false);\r\n    const [dataToDelete, setDataToDelete] = useState({});\r\n\r\n    useEffect(() => {\r\n        setData(profileData)\r\n    }, [profileData])\r\n\r\n    function toggleEdit(order) {\r\n        if (order === profileEditNum) {\r\n            setProfileEditNum(-1);\r\n        } else {\r\n            setProfileEditNum(order);\r\n        }\r\n    }\r\n\r\n    function moveProfile(order, up) {\r\n        var newData = [...data]\r\n        if (up) {\r\n            if (order === 1) return;\r\n\r\n            let temp = newData[order - 1];\r\n            newData[order - 1] = newData[order - 2];\r\n            newData[order - 2] = temp;\r\n\r\n            // update the order attribute of the two items\r\n            newData[order - 1].order = order;\r\n            newData[order - 2].order = order - 1;\r\n            setProfileEditNum(order - 1)\r\n        } else {\r\n            if (order === data.length) return;\r\n\r\n            let temp = newData[order - 1];\r\n            newData[order - 1] = newData[order];\r\n            newData[order] = temp;\r\n\r\n            // update the order attribute of the two items\r\n            newData[order - 1].order = order;\r\n            newData[order].order = order + 1;\r\n            setProfileEditNum(order + 1)\r\n        }\r\n\r\n        setData(newData);\r\n    }\r\n\r\n    function changeName(order, newName) {\r\n        var newData = [...data]\r\n        newData[order - 1].name = newName;\r\n        setData(newData);\r\n    }\r\n\r\n    function confirmDelete(order) {\r\n        setDataToDelete(data[order - 1])\r\n        setDeleteConfirmationOpen(true);\r\n    }\r\n\r\n    function cancelDelete() {\r\n        setDataToDelete({})\r\n        setDeleteConfirmationOpen(false);\r\n    }\r\n\r\n    function deleteProfile(order) {\r\n        setDeleteConfirmationOpen(false);\r\n\r\n        var newData = [...data]\r\n        newData.splice(order - 1, 1);\r\n        for (let i = order - 1; i < newData.length; i++) {\r\n            newData[i].order = i + 1;\r\n        }\r\n        setData(newData);\r\n        selectCallback(newData[0].uuid)\r\n    }\r\n\r\n    function addProfile() {\r\n        if (data.length === 9) return;\r\n\r\n        function newProfileCallback(response) {\r\n            var newData = [...data]\r\n            response.order = newData.length + 1;\r\n            newData.push(response);\r\n            setData(newData)\r\n        }\r\n\r\n        socket.request({ \"request\": \"create_profile\" }, newProfileCallback)\r\n    }\r\n\r\n    function save() {\r\n        function saveCallback(response) {\r\n            setProfileEditNum(-1);\r\n            closeCallback(data);\r\n        }\r\n\r\n        socket.request({ \"request\": \"update_profiles\", \"args\": { \"payload\": data } }, saveCallback)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Dialog open={props.open} fullWidth maxWidth={\"xs\"}>\r\n                <DeleteConfirmation open={deleteConfirmationOpen} cancel={cancelDelete} callback={deleteProfile} data={dataToDelete} />\r\n                <DialogTitle>Collection profiles</DialogTitle>\r\n                <DialogContent>\r\n                    <List>\r\n\r\n                        {data.map((item) => {\r\n                            return (\r\n                                <ProfileItem key={item.order} data={item} toggleEdit={toggleEdit} showProfileEdit={profileEditNum === item.order} move={moveProfile} changeName={changeName} confirmDelete={confirmDelete} />\r\n                            )\r\n                        })}\r\n\r\n                    </List>\r\n                    <Button sx={{ width: \"100%\" }} disabled={data.length === 9} color=\"primary\" variant=\"outlined\" onClick={addProfile} disableElevation>add profile ({9 - data.length} left)</Button>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    {/* <Button color=\"primary\" disableElevation>cancel</Button> */}\r\n                    <Button color=\"primary\" onClick={save} disableElevation>done</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProfileEdit;","import { React, useState, useRef, useEffect } from 'react';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\nimport { useProfile, useProfileMetas } from \"../../services/useProfiles\"\r\nimport { useLoadout } from \"../../services/useLoadout\"\r\n\r\n//components\r\nimport { Grid, Container, Typography, Button } from '@mui/material';\r\n\r\n//icons\r\nimport { AspectRatio } from '@mui/icons-material';\r\n\r\nimport Weapon from './sub/WeaponCollectionItem.js'\r\nimport SkinChangerWarning from './sub/SkinChangerWarning.js';\r\n\r\n//services\r\nimport useWindowDimensions from '../../services/useWindowDimensions.js';\r\nimport { loadoutGridOrder } from '../../services/ClientConfig.js';\r\nimport ProfileSelect from './sub/ProfileSelect.js';\r\nimport ProfileEdit from '../profileEditor/ProfileEdit.js';\r\nimport socket from '../../services/Socket';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    collectionItem: {\r\n        display: \"flex\",\r\n        height: \"20%\",\r\n        minHeight: \"115px\",\r\n        width: \"100%\",\r\n        flexGrow: 0,\r\n    },\r\n}));\r\n\r\n\r\nfunction Collection(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [width, height] = useWindowDimensions();\r\n\r\n    const [profileMetaDatas, forceUpdateProfileMetaDatas] = useProfileMetas();\r\n    const [profile, setProfile] = useProfile();\r\n    const [loadout, forceUpdateLoadout] = useLoadout();\r\n\r\n    const [smallWindow, setSmallWindow] = useState(false);\r\n    const [useLargeWeaponImage, setUseLargeWeaponImage] = useState(false);\r\n    const [profileEditOpen, setProfileEditOpen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setSmallWindow(width < 960);\r\n        setUseLargeWeaponImage(width < 960 || width > 1300);\r\n    }, [width])\r\n\r\n    function closeProfiles(new_metadata) {\r\n        forceUpdateProfileMetaDatas(new_metadata);\r\n        setProfileEditOpen(false);\r\n    }\r\n\r\n    function selectProfile(uuid) {\r\n        socket.request({ \"request\": \"fetch_profile\", \"args\": { \"profile_uuid\": uuid } }, () => {})\r\n        socket.request({ \"request\": \"apply_profile\", \"args\": { \"profile_uuid\": uuid } }, (response) => { setProfile(response) })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {!smallWindow ?\r\n                (\r\n                    <>\r\n                        {props.loadout !== null ? <SkinChangerWarning skinsOwned={props.skinsOwned} /> : null}\r\n\r\n                        <ProfileEdit open={profileEditOpen} data={profileMetaDatas} closeCallback={closeProfiles} selectCallback={selectProfile} />\r\n\r\n                        <div style={{ width: \"100%\", height: \"100%\", display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", alignItems: \"center\" }}>\r\n\r\n                            <div style={{ width: \"100%\", height: \"60px\", paddingLeft: \"12px\", display: \"flex\", flexDirection: \"row\", justifyContent: \"start\", alignItems: \"center\" }}>\r\n                                <ProfileSelect selectCallback={selectProfile} data={profileMetaDatas} editCallback={() => { setProfileEditOpen(true) }} />\r\n                            </div>\r\n\r\n                            <Grid style={{ width: \"100%\", height: \"auto\", flexGrow: 1 }} columns={11} container justifyContent=\"center\" direction=\"row\" alignItems=\"center\" spacing={0}>\r\n                                {loadoutGridOrder.map(row => {\r\n                                    if (props.loadout !== null) {\r\n                                        return (\r\n                                            row.map(data => {\r\n                                                if (data.type === \"weapon\") {\r\n                                                    return (\r\n                                                        <Grid className={classes.collectionItem} item p={1.5} key={data.uuid} md={data.sidearm === true ? 2 : 3} sm={12} xs={12}>\r\n                                                            <Weapon data={props.loadout[data.uuid]} uuid={data.uuid} displayName={data.displayName} useLargeWeaponImage={useLargeWeaponImage} weaponEditorCallback={props.weaponEditorCallback} isSidearm={data.sidearm} />\r\n                                                        </Grid>\r\n                                                    )\r\n                                                }\r\n                                                else {\r\n                                                    return (<Grid key=\"placeholder\" className={classes.collectionItem} item md={6} sm={false} xs={false} />);\r\n                                                }\r\n                                            })\r\n                                        )\r\n                                    } else {\r\n                                        return null;\r\n                                    }\r\n                                })}\r\n                            </Grid>\r\n                        </div>\r\n                    </>\r\n                ) : (\r\n                    <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\", justifyContent: \"center\", width: \"100%\", height: \"100%\" }}>\r\n                        <AspectRatio style={{ fontSize: 60 }} />\r\n                        <Typography variant=\"h6\" style={{ marginTop: \"10px\", textAlign: \"center\" }}>\r\n                            Make your window larger for this page to work properly\r\n                        </Typography>\r\n                    </div>\r\n                )\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default Collection;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport WeaponEditor from '../components/weaponEditor/WeaponEditor.js'\r\nimport Collection from '../components/collection/Collection.js'\r\n\r\nimport socket from \"../services/Socket\";\r\nimport { useLoadout } from \"../services/useLoadout\"\r\nimport { useInventory } from \"../services/useInventory\"\r\nimport { useProfile } from '../services/useProfiles.js';\r\n\r\nimport { Grid, Container, Typography } from '@mui/material'\r\nimport SnackbarFeedback from '../components/snackbarFeedback/SnackbarFeedback.js';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n}));\r\n\r\n\r\nfunction CollectionHome(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [loadout, forceUpdateLoadout] = useLoadout();\r\n    const [inventory, forceUpdateInventory] = useInventory();\r\n    const [profile, forceUpdateProfile] = useProfile();\r\n\r\n    const [loaded, setLoaded] = useState(false);\r\n    const [showWeaponEditor, setWeaponEditorState] = useState(false);\r\n\r\n    const [weaponEditor, setWeaponEditor] = useState();\r\n    const [uniqueSkinsOwned, setUniqueSkinsOwned] = useState(-1);\r\n\r\n    const [snackbarTrigger, setSnackbarTrigger] = useState(false);\r\n    const [snackbarText, setSnackbarText] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        console.log(inventory)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (!showWeaponEditor) {\r\n            document.title = \"VIM // Collection\"\r\n        }\r\n    }, [showWeaponEditor])\r\n\r\n    useEffect(() => {\r\n        // count how many skins are owned for skin changer warning dialog\r\n        var unique = 0\r\n\r\n        for (var weapon in inventory.skins) {\r\n            var owned = {}\r\n            for (var skin in inventory.skins[weapon].skins) {\r\n                if (inventory.skins[weapon].skins[skin].unlocked) {\r\n                    owned[skin] = inventory.skins[weapon].skins[skin]\r\n                }\r\n            }\r\n            console.log(owned)\r\n            unique += Object.keys(owned).length - 1; //-1 for default skin\r\n        }\r\n        setUniqueSkinsOwned(unique);\r\n    }, [inventory.skins])\r\n\r\n    function modificationMenu(uuid) {\r\n        console.log(inventory)\r\n        setWeaponEditorState(true);\r\n        setWeaponEditor(<WeaponEditor weaponUuid={uuid} initialSkinData={loadout[uuid]} inventoryData={inventory.skins} profileData={profile} loadoutWeaponData={loadout[uuid]} saveCallback={saveCallback} closeEditor={closeEditor} />)\r\n    };\r\n\r\n    async function saveCallback(weaponName, payload, sameSkin) {\r\n        return new Promise((resolve, reject) => {\r\n\r\n            function inventoryCallback(response) {\r\n                forceUpdateProfile(response);\r\n                setSnackbarText(\"Saved changes to \" + weaponName);\r\n                setSnackbarTrigger(true);\r\n                resolve();\r\n            }\r\n\r\n            function putCallback(response) {\r\n                console.log(\"put skin\")\r\n                forceUpdateLoadout(response);\r\n            }\r\n\r\n            payload = JSON.stringify(payload);\r\n            socket.request({ \"request\": \"update_profile\", \"args\": { \"payload\": payload } }, inventoryCallback);\r\n            //socket.request({ \"request\": \"update_skin_inventory\", \"args\": { \"payload\": payload } }, inventoryCallback);\r\n            if (!sameSkin) {\r\n                socket.request({ \"request\": \"put_weapon\", \"args\": { \"payload\": payload } }, putCallback);\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n\r\n    function closeEditor() {\r\n        setWeaponEditorState(false);\r\n        setWeaponEditor(null);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <SnackbarFeedback trigger={snackbarTrigger} setTrigger={setSnackbarTrigger} type=\"success\" text={snackbarText} />\r\n            <div style={{ height: \"100%\", width: \"100%\", margin: \"auto\", display: \"flex\", flexDirection: \"column\", justifyContent: \"space-between\", overflow: \"auto\", flexGrow: 1 }}>\r\n                {inventory.skins !== {} ?\r\n                    <Container maxWidth={false} style={{ display: \"flex\", height: \"auto\", flexGrow: 1, }}>\r\n                        {weaponEditor}\r\n                        <Collection weaponEditorCallback={modificationMenu} loadout={loadout} setLoadout={null} skinsOwned={uniqueSkinsOwned} />\r\n                    </Container>\r\n                    : null}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default CollectionHome","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Paper, Typography } from '@mui/material'\r\nimport Icon from '@mdi/react'\r\n\r\n//icons\r\nimport { mdiCircle } from '@mdi/js';\r\n\r\nfunction LoadoutProfile(props) {\r\n\r\n    return (\r\n\r\n        <Paper variant=\"outlined\" style={{ width: \"100%\", height: \"250px\", background: \"transparent\", padding: \"10px\" }}>\r\n\r\n            <div style={{ width: \"100%\", height: \"auto\", display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-start\", alignItems: \"center\", }}>\r\n                <Icon path={mdiCircle} size={0.5} color=\"white\" style={{marginRight: \"8px\", marginLeft: \"2px\"}}/>\r\n                <Typography variant=\"h5\">\r\n                    Raze\r\n                </Typography>\r\n            </div>\r\n\r\n        </Paper>\r\n\r\n    )\r\n}\r\n\r\nexport default LoadoutProfile;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Grid } from '@mui/material'\r\n\r\nimport LoadoutProfile from \"./sub/LoadoutProfile\";\r\n\r\nfunction Loadouts(props) {\r\n\r\n    return (\r\n        <>\r\n            <div style={{ height: \"60px\", width: \"90%\", marginX: \"auto\", display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-start\", alignItems: \"center\", overflow: \"auto\", }}>\r\n                header with buttons or something\r\n            </div>\r\n\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\" alignItems=\"flex-start\" spacing={3} style={{ height: \"auto\", width: \"90%\", }}>\r\n\r\n                <Grid item xs={12} lg={3} style={{ height: \"auto\", width: \"100%\", margin: \"auto\" }}>\r\n                    <LoadoutProfile />\r\n                </Grid>\r\n                <Grid item xs={12} lg={3} style={{ height: \"auto\", width: \"100%\", margin: \"auto\" }}>\r\n                    <LoadoutProfile />\r\n                </Grid>\r\n                <Grid item xs={12} lg={3} style={{ height: \"auto\", width: \"100%\", margin: \"auto\" }}>\r\n                    <LoadoutProfile />\r\n                </Grid>\r\n                <Grid item xs={12} lg={3} style={{ height: \"auto\", width: \"100%\", margin: \"auto\" }}>\r\n                    <LoadoutProfile />\r\n                </Grid>\r\n                <Grid item xs={12} lg={3} style={{ height: \"auto\", width: \"100%\", margin: \"auto\" }}>\r\n                    <LoadoutProfile />\r\n                </Grid>\r\n                <Grid item xs={12} lg={3} style={{ height: \"auto\", width: \"100%\", margin: \"auto\" }}>\r\n                    <LoadoutProfile />\r\n                </Grid>\r\n                <Grid item xs={12} lg={3} style={{ height: \"auto\", width: \"100%\", margin: \"auto\" }}>\r\n                    <LoadoutProfile />\r\n                </Grid>\r\n                \r\n\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Loadouts;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Grid } from '@mui/material'\r\n\r\nimport Loadouts from '../components/loadouts/Loadouts';\r\n\r\n//icons\r\n\r\nfunction LoadoutsHome(props) {\r\n\r\n\r\n    return (\r\n        <div style={{ height: \"100%\", width: \"100%\", display: \"flex\", flexDirection: \"column\", justifyContent: \"flex-start\", alignItems: \"center\", overflow: \"auto\", flexGrow: 1 }}>\r\n\r\n            <Loadouts />\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoadoutsHome","import { React, useEffect, useState } from 'react';\r\nimport clsx from  'clsx';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\nimport makeStyles from '@mui/styles/makeStyles';\r\nimport useWindowDimensions from '../../../services/useWindowDimensions.js';\r\n\r\n//components\r\nimport { Grid, Grow, Typography, Paper, Fade, Collapse } from '@mui/material'\r\n\r\nconst stockImageSize = \"250px\";\r\n\r\nconst weaponImageScales = {\r\n    \"29a0cfab-485b-f5d5-779a-b59f85e204a8\": [\"60% auto\", \"auto 60%\"], //classic\r\n    \"42da8ccc-40d5-affc-beec-15aa47b42eda\": [\"75% auto\", \"auto 35%\"], //shorty\r\n    \"44d4e95c-4157-0037-81b2-17841bf2e8e3\": [\"55% auto\", \"auto 60%\"], //frenzy\r\n    \"1baa85b4-4c70-1284-64bb-6481dfc3bb4e\": [\"75% auto\", \"auto 45%\"], //ghost\r\n    \"e336c6b8-418d-9340-d77f-7a9e4cfe0702\": [\"75% auto\", \"auto 60%\"], //sheriff\r\n\r\n    \"f7e1b454-4ad4-1063-ec0a-159e56b58941\": [\"70% auto\", \"auto 65%\"], //stinger\r\n    \"462080d1-4035-2937-7c09-27aa2a5c27a7\": [\"75% auto\", \"auto 65%\"], //spectre\r\n\r\n    \"910be174-449b-c412-ab22-d0873436b21b\": [\"88% auto\", \"auto 40%\"], //bucky\r\n    \"ec845bf4-4f79-ddda-a3da-0db3774b2794\": [\"90% auto\", \"auto 60%\"], //judge\r\n\r\n    \"ae3de142-4d85-2547-dd26-4e90bed35cf7\": [\"80% auto\", \"auto 65%\"], //bulldog\r\n    \"4ade7faa-4cf1-8376-95ef-39884480959b\": [\"90% auto\", \"auto 50%\"], //guardian\r\n    \"ee8e8d15-496b-07ac-e5f6-8fae5d4c7b1a\": [\"90% auto\", \"auto 55%\"], //phantom\r\n    \"9c82e19d-4575-0200-1a81-3eacf00cf872\": [\"90% auto\", \"auto 70%\"], //vandal\r\n\r\n    \"c4883e50-4494-202c-3ec3-6b8a9284f00b\": [\"90% auto\", \"auto 42%\"], //marshal\r\n    \"a03b24d3-4319-996d-0f8c-94bbfba1dfc7\": [\"90% auto\", \"auto 50%\"], //operator\r\n\r\n    \"55d8a0f4-4274-ca67-fe2c-06ab45efdf58\": [\"90% auto\", \"auto 45%\"], //ares\r\n    \"63e6c2b6-4a8e-869c-3d4c-e38355226584\": [\"95% auto\", \"auto 60%\"], //odin\r\n\r\n    \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\": [\"auto 70%\", \"auto 70%\"], //melee\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    weaponPaper: {\r\n        flexDirection: \"row\",\r\n        position: \"relative\",\r\n        width: \"100%\",\r\n        height: \"auto\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        background: \"transparent\",\r\n        transition: \".25s ease !important\",\r\n    },\r\n\r\n    weaponPaperHover: {\r\n        \"&:hover\": {\r\n            border: `1px ${theme.palette.primary.main} solid`,\r\n        },\r\n    },\r\n\r\n    weaponImage: {\r\n        zIndex: 1,\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        position: \"relative\",\r\n        backgroundPosition: \"center\",\r\n        backgroundRepeat: \"no-repeat\",\r\n        background: \"transparent\",\r\n        // transition: \".25s ease !important\",\r\n        backfaceVisibility: \"hidden\",\r\n    },\r\n\r\n}));\r\n\r\n\r\nfunction WeaponSelectDialogItem(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const callback = props.callback\r\n\r\n    const skinData = props.data\r\n    const skinUuid = skinData.skin_uuid\r\n    const weaponUuid = props.weaponUuid\r\n    const disable = props.disable\r\n\r\n    return (\r\n        <Paper\r\n            className={clsx(classes.weaponPaper, (!disable ? classes.weaponPaperHover : null))}\r\n            variant=\"outlined\"\r\n            onMouseEnter={null}\r\n            onMouseLeave={null}\r\n            onClick={() => {if(!disable){callback(weaponUuid)}}}\r\n            style={{ }}\r\n            disabled={disable}\r\n        >\r\n            <div\r\n                className={classes.weaponImage}\r\n                style={{\r\n                    //backgroundPosition: props.uuid === \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\" ? \"50% 35%\" : (!props.useLargeWeaponImage ? \"50% 40%\" : \"50% 50%\"), \r\n                    backgroundPosition: \"50% 50%\",\r\n                    backgroundImage: `url(${skinData.skin_image})`,\r\n                    backgroundSize: weaponImageScales[weaponUuid][0],\r\n                    //props.uuid !== \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\" ? (!props.useLargeWeaponImage ? `${props.uuid in weaponImageScales ? weaponImageScales[props.uuid][0] : stockImageSize} auto` : `calc(${weaponImageScales[props.uuid][0]} + ${weaponImageScales[props.uuid][1]}) auto`) : \"auto 80%\",\r\n                }}\r\n            />\r\n\r\n        </Paper>\r\n    )\r\n\r\n}\r\n\r\nexport default WeaponSelectDialogItem","import { React, useState, useRef, useEffect } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Grid, InputBase, Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button } from '@mui/material';\r\n\r\nimport Weapon from \"./sub/WeaponSelectDialogItem\"\r\n\r\n//icons\r\n\r\n//services\r\nimport { loadoutGridOrder } from '../../services/ClientConfig';\r\nimport { useLoadout } from '../../services/useLoadout';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    weaponGrid: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        margin: \"0px\",\r\n        overflowY: \"auto\",\r\n        \"&::-webkit-scrollbar\": {\r\n            width: 4,\r\n        },\r\n        \"&::-webkit-scrollbar-track\": {\r\n            boxShadow: `inset 0 0 6px rgba(0, 0, 0, 0.3)`,\r\n        },\r\n        \"&::-webkit-scrollbar-thumb\": {\r\n            backgroundColor: \"darkgrey\",\r\n            outline: `1px solid slategrey`,\r\n            backgroundClip: \"padding-box\",\r\n        },\r\n    },\r\n\r\n    collectionItem: {\r\n        display: \"flex\",\r\n        height: \"100px\",\r\n        width: \"100%\",\r\n        flexGrow: 1,\r\n    },\r\n\r\n}));\r\n\r\nfunction WeaponSelectDialog(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const callback = props.callback;\r\n    const buddyData = props.buddyData;\r\n    const instanceUuid = props.instanceUuid;\r\n    const instanceNum = props.instanceNum;\r\n    const disabledWeaponNames = props.disabledWeaponNames;\r\n\r\n    const [open, setOpen] = useState(true);\r\n    const [loadout, forceUpdateLoadout] = useLoadout();\r\n\r\n    function close(weapon){\r\n        setOpen(false);\r\n        setTimeout(() => {\r\n            callback(weapon, instanceUuid);\r\n        }, 500);\r\n    }\r\n\r\n    return (\r\n        //MAKE THIS A HOOK PLS THX\r\n        <Dialog open={open} fullWidth maxWidth=\"md\" onClose={null}>\r\n            <DialogTitle>Equip {buddyData.display_name} [{instanceNum}]</DialogTitle>\r\n            <DialogContent style={{ display: \"flex\", flexGrow: 1, flexDirection: \"column\", justifyContent: \"center\", alignItems: \"center\", }}>\r\n\r\n                    <Grid className={classes.weaponGrid} columns={11} container justifyContent=\"center\" direction=\"row\" alignItems=\"center\" spacing={0} >\r\n                        {loadoutGridOrder.map(row => {\r\n                            if (props.loadout !== null) {\r\n                                return (\r\n                                    row.map(data => {\r\n                                        if (data.type === \"weapon\") {\r\n                                            return <Grid className={classes.collectionItem} item p={1.5} key={data.uuid} md={data.sidearm === true ? 2 : 3} sm={12} xs={12}><Weapon disable={data.uuid === \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\" || disabledWeaponNames.includes(data.displayName)} weaponUuid={data.uuid} data={loadout[data.uuid]} callback={close} /></Grid>\r\n                                        }\r\n                                        else {\r\n                                            return (<Grid key=\"placeholder\" className={classes.collectionItem} item md={6} sm={false} xs={false} />);\r\n                                        }\r\n                                    })\r\n                                )\r\n                            } else {\r\n                                return null;\r\n                            }\r\n                        })}\r\n                    </Grid>\r\n\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button color=\"primary\" onClick={() => {close(null)}}>\r\n                    Cancel\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n\r\n}\r\n\r\nexport default WeaponSelectDialog;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Typography, Backdrop, Paper, Grid, Container, Divider, IconButton, Tooltip, Button, Fade } from '@mui/material';\r\nimport Icon from '@mdi/react'\r\nimport WeaponSelectDialog from \"../weaponSelect/WeaponSelectDialog.js\";\r\n\r\n//icons\r\nimport { FavoriteBorder, StarBorder, Favorite, Star, Lock, LockOpen, Close, Autorenew } from '@mui/icons-material';\r\nimport { mdiNumeric1Box, mdiNumeric2Box, mdiNumeric3Box, mdiNumeric4Box, mdiNumeric5Box, mdiNumeric6Box, mdiNumeric7Box, mdiNumeric8Box, mdiNumeric9Box } from '@mdi/js';\r\nimport { mergeClasses } from '@mui/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    \"@global\": {\r\n        \"@keyframes spin\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    loading: {\r\n        animation: \"spin 4s linear infinite\",\r\n    },\r\n\r\n    backdrop: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n    mainPaper: {\r\n        margin: \"auto\",\r\n        width: \"100%\",\r\n        height: \"auto\",\r\n        maxHeight: \"600px\",\r\n        minWidth: \"400px\",\r\n        maxWidth: \"600px\",\r\n\r\n        display: \"flex\",\r\n        justifySelf: \"flex-start\",\r\n        justifyContent: \"center\",\r\n        alignContent: \"flex-start\",\r\n        flexWrap: \"wrap\",\r\n        overflow: \"auto\",\r\n        \"&::-webkit-scrollbar\": {\r\n            width: 4,\r\n        },\r\n        \"&::-webkit-scrollbar-track\": {\r\n            boxShadow: `inset 0 0 6px rgba(0, 0, 0, 0.3)`,\r\n        },\r\n        \"&::-webkit-scrollbar-thumb\": {\r\n            backgroundColor: \"darkgrey\",\r\n            outline: `1px solid slategrey`,\r\n            backgroundClip: \"padding-box\",\r\n        },\r\n    },\r\n\r\n    content: {\r\n        height: \"auto\",\r\n        width: \"95%\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    headerContent: {\r\n        width: \"100%\",\r\n        height: \"auto\",\r\n        marginBottom: \"10px\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n    },\r\n\r\n    header: {\r\n        height: \"60px\",\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    equippedWeapons: {\r\n        height: \"30px\",\r\n        width: \"100%\",\r\n        overflow: \"hidden\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    instances: {\r\n        height: \"auto\",\r\n        width: \"100%\",\r\n        //border: `1px rgba(255,255,255,.2) solid`,\r\n        borderRadius: \"5px\",\r\n        padding: \"10px 10px 10px 10px\",\r\n        marginBottom: \"10px\",\r\n    },\r\n\r\n    buddyInstance: {\r\n        height: \"auto\",\r\n        width: \"100%\",\r\n    },\r\n\r\n    buddyInstanceHeader: {\r\n        width: \"100%\",\r\n        height: \"40px\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"center\",\r\n        marginBottom: \"10px\",\r\n    },\r\n\r\n    instanceHeaderButton: {\r\n        width: \"40px\",\r\n        height: \"40px\",\r\n        margin: \"0px 3px 0px 3px\"\r\n    },\r\n\r\n    buddyInstanceActions: {\r\n        width: \"100%\",\r\n        height: \"40px\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n    }\r\n}))\r\n\r\n\r\nfunction BuddyEditor(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const numericToIcon = {\r\n        1: mdiNumeric1Box,\r\n        2: mdiNumeric2Box,\r\n        3: mdiNumeric3Box,\r\n        4: mdiNumeric4Box,\r\n        5: mdiNumeric5Box,\r\n        6: mdiNumeric6Box,\r\n        7: mdiNumeric7Box,\r\n        8: mdiNumeric8Box,\r\n        9: mdiNumeric9Box,\r\n    }\r\n\r\n    const inventory = props.inventory;\r\n    const [loadout, setLoadout] = useState(props.loadout)\r\n    const [buddyData, setBuddyData] = useState(props.data)\r\n\r\n    const [saving, setSaving] = useState(false);\r\n    const [open, setOpen] = useState(true);\r\n\r\n    const [equippedWeaponImages, setEquippedWeaponImages] = useState([]);\r\n    const [equippedInstanceWeapons, setEquippedInstanceWeapons] = useState({});\r\n\r\n    const [weaponSelectDialog, setWeaponSelectDialog] = useState(null);\r\n\r\n    useEffect(() => {\r\n        refreshEquipped()\r\n    }, [loadout])\r\n\r\n    function refreshEquipped() {\r\n        console.log(\"updating instances\")\r\n        var images = []\r\n        var newEquipped = {}\r\n        Object.keys(loadout).forEach(key => {\r\n            var weapon = loadout[key]\r\n            if (weapon.buddy_uuid === buddyData.uuid) {\r\n                if (!images.includes(weapon.weapon_killstream_icon)) {\r\n                    images.push(weapon.weapon_killstream_icon)\r\n                }\r\n                console.log(weapon)\r\n                newEquipped = { ...newEquipped, [weapon.buddy_instance_uuid]: { \"name\": weapon.weapon_name, \"uuid\": weapon.weapon_uuid } }\r\n            }\r\n        })\r\n        console.log(newEquipped)\r\n        setEquippedInstanceWeapons(newEquipped);\r\n        setEquippedWeaponImages(images);\r\n    }\r\n\r\n    function save() {\r\n        setSaving(true);\r\n        var data = {\r\n            loadout: loadout,\r\n            buddyData: buddyData,\r\n        }\r\n\r\n\r\n        setOpen(false);\r\n        setTimeout(() => {\r\n            props.closeEditor();\r\n            props.saveCallback(buddyData.uuid, buddyData.display_name, data)\r\n        })\r\n    }\r\n\r\n    function equipBuddy(instanceUuid, instanceNum) {\r\n        var disabled = [];\r\n        Object.keys(equippedInstanceWeapons).forEach(key => {\r\n            var weaponName = equippedInstanceWeapons[key].name\r\n            if (weaponName !== undefined) {\r\n                disabled.push(weaponName)\r\n            }\r\n        })\r\n\r\n        //find locked buddy instances in inventory\r\n        Object.keys(inventory.buddies).forEach(key => {\r\n            var buddy = inventory.buddies[key]\r\n            Object.keys(buddy.instances).forEach(inst => {\r\n                if (buddy.instances[inst].locked) {\r\n                    console.log(buddy)\r\n                    disabled.push(buddy.instances[inst].locked_weapon_display_name)\r\n                }\r\n            })\r\n        })\r\n        console.log(disabled)\r\n\r\n        setWeaponSelectDialog(<WeaponSelectDialog callback={equipCallback} buddyData={buddyData} instanceUuid={instanceUuid} instanceNum={instanceNum} disabledWeaponNames={disabled} />)\r\n    }\r\n\r\n    function unequipBuddy(instanceUuid) {\r\n        var weaponUuid = null\r\n\r\n        for (const uuid in loadout) {\r\n            if (loadout[uuid].buddy_instance_uuid === instanceUuid) {\r\n                weaponUuid = uuid\r\n                break\r\n            }\r\n        }\r\n\r\n        var newLoadout = { ...loadout }\r\n\r\n        newLoadout[weaponUuid].buddy_instance_uuid = \"\"\r\n        newLoadout[weaponUuid].buddy_uuid = \"\"\r\n        newLoadout[weaponUuid].buddy_name = \"\"\r\n        newLoadout[weaponUuid].buddy_image = \"\"\r\n        newLoadout[weaponUuid].buddy_level_uuid = \"\"\r\n\r\n        setLoadout(newLoadout);\r\n        console.log(loadout)\r\n    }\r\n\r\n    function equipCallback(weaponUuid, instanceUuid) {\r\n        setWeaponSelectDialog(null);\r\n        if (weaponUuid !== null) {\r\n            console.log(weaponUuid, instanceUuid)\r\n\r\n            var newLoadout = { ...loadout }\r\n\r\n            newLoadout[weaponUuid].buddy_instance_uuid = instanceUuid\r\n            newLoadout[weaponUuid].buddy_uuid = buddyData.uuid\r\n            newLoadout[weaponUuid].buddy_name = buddyData.display_name\r\n            newLoadout[weaponUuid].buddy_image = buddyData.display_icon\r\n            newLoadout[weaponUuid].buddy_level_uuid = buddyData.level_uuid\r\n\r\n            setLoadout(newLoadout);\r\n            console.log(loadout)\r\n        }\r\n    }\r\n\r\n    function toggleFavorite(instanceUuid) {\r\n        var newBuddyData = { ...buddyData }\r\n        newBuddyData.instances[instanceUuid].favorite = !newBuddyData.instances[instanceUuid].favorite\r\n        setBuddyData(newBuddyData)\r\n    }\r\n\r\n    function toggleSuperFavorite(instanceUuid) {\r\n        var newBuddyData = { ...buddyData }\r\n        newBuddyData.instances[instanceUuid].super_favorite = !newBuddyData.instances[instanceUuid].super_favorite\r\n        setBuddyData(newBuddyData)\r\n    }\r\n\r\n    function toggleLock(instanceUuid) {\r\n        var newBuddyData = { ...buddyData }\r\n        if (buddyData.instances[instanceUuid].locked === false) {\r\n            newBuddyData.instances[instanceUuid].locked = true\r\n            newBuddyData.instances[instanceUuid].locked_weapon_uuid = equippedInstanceWeapons[instanceUuid].uuid\r\n            newBuddyData.instances[instanceUuid].locked_weapon_display_name = equippedInstanceWeapons[instanceUuid].name\r\n        } else {\r\n            newBuddyData.instances[instanceUuid].locked = false\r\n            newBuddyData.instances[instanceUuid].locked_weapon_uuid = \"\"\r\n            newBuddyData.instances[instanceUuid].locked_weapon_display_name = \"\"\r\n        }\r\n        setBuddyData(newBuddyData)\r\n    }\r\n\r\n    return (\r\n        <Backdrop open={open} className={classes.backdrop} style={{ zIndex: 4 }}>\r\n            {weaponSelectDialog}\r\n            <Container maxWidth={\"xl\"}>\r\n                <Paper className={classes.mainPaper} variant=\"outlined\">\r\n\r\n                    {/* \r\n                    - buddy name\r\n                    - buddy image\r\n                    - buddy instance count\r\n\r\n                    - box to show what its equipped on\r\n                    \r\n                    - option to favorite it\r\n                    - option to add \"super favorite\" or something (always in the randomizer pool, but can only choose (total weapons - weapons w/ locked buddies) buddies)\r\n                        - guarantees at least one instance of the buddy will be equipped\r\n\r\n                    - repeatable instance menu thing\r\n                        - option to lock it to specific weapon (dropdown or make a diff modal thats more intuitive?)\r\n                        \r\n                    */}\r\n\r\n                    <div className={classes.content}>\r\n\r\n                        <div className={classes.headerContent} style={{ backgroundImage: `url('${buddyData.display_icon}')`, backgroundSize: \"auto 80%\", backgroundRepeat: \"no-repeat\", backgroundPosition: \"94%\" }}>\r\n\r\n                            <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n                                <div className={classes.header}>\r\n                                    <Icon path={numericToIcon[buddyData.instance_count]} size={1.1} color=\"white\" style={{ height: \"100%\", marginRight: \"10px\", filter: \"opacity(0.5)\" }} />\r\n                                    <Typography variant=\"h5\">\r\n                                        {buddyData.display_name}\r\n                                    </Typography>\r\n                                </div>\r\n\r\n                                <div className={classes.equippedWeapons}>\r\n                                    {equippedWeaponImages.map((image, i) => {\r\n                                        return (\r\n                                            <Fade in>\r\n                                                <img src={image} alt=\"weapon\" style={{ width: \"auto\", height: \"100%\", objectFit: \"contain\", float: \"left\", filter: \"opacity(0.5)\", marginRight: \"10px\", }} />\r\n                                            </Fade>\r\n                                        )\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div style={{ flexGrow: 1, height: \"60px\", display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-end\", alignItems: \"center\" }}>\r\n                                <Tooltip title=\"Save\" className={classes.headerButton}>\r\n                                    <IconButton\r\n                                        onClick={save}\r\n                                        disabled={saving}\r\n                                        style={{ height: \"40px\", width: \"40px\" }}\r\n                                        size=\"large\">\r\n                                        {saving ? <Autorenew className={classes.loading} /> : <Close />}\r\n                                    </IconButton>\r\n                                </Tooltip>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div className={classes.instances}>\r\n                            {\r\n                                Object.keys(buddyData.instances).map((instance, i) => {\r\n                                    var instanceData = buddyData.instances[instance]\r\n                                    var instanceNum = i + 1;\r\n                                    var equipped = equippedInstanceWeapons[instanceData.uuid] !== undefined\r\n                                    var favorite = instanceData.favorite\r\n                                    var superFavorite = instanceData.super_favorite\r\n                                    var locked = instanceData.locked\r\n\r\n                                    return (\r\n                                        <div className={classes.buddyInstance} style={{ marginTop: (i !== 0 ? \"17px\" : \"0px\") }}>\r\n                                            <div className={classes.buddyInstanceHeader}>\r\n\r\n                                                <div style={{ width: \"50%\", height: \"100%\", display: \"flex\", flexDirection: \"column\", justifyContent: \"flex-start\", alignItems: \"flex-start\" }}>\r\n                                                    <Typography variant=\"body1\" style={{}}>INSTANCE {instanceNum}</Typography>\r\n                                                    <Typography variant=\"overline\" style={{ lineHeight: \"1.1\", color: \"rgba(255,255,255,.45)\" }}>{equipped ? equippedInstanceWeapons[instanceData.uuid].name : \"Unequipped\"}</Typography>\r\n                                                </div>\r\n\r\n\r\n                                                <div style={{ width: \"50%\", height: \"100%\", display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-end\", alignItems: \"center\", }}>\r\n\r\n                                                    <Tooltip title={\"Lock instance to current weapon\"}>\r\n                                                        <IconButton\r\n                                                            disabled={!equipped || favorite || superFavorite}\r\n                                                            onClick={() => { toggleLock(instanceData.uuid) }}\r\n                                                            className={classes.instanceHeaderButton}\r\n                                                            size=\"large\">\r\n                                                            {locked ? <Lock /> : <LockOpen />}\r\n                                                        </IconButton>\r\n                                                    </Tooltip>\r\n\r\n                                                    <Divider orientation=\"vertical\" variant=\"middle\" style={{ height: \"90%\", margin: \"5px\" }} />\r\n\r\n                                                    {/* <Tooltip title={\"Super Favorite (x left)\"}>\r\n                                                        <IconButton disabled={locked} onClick={() => {toggleSuperFavorite(instanceData.uuid)}} className={classes.instanceHeaderButton}>\r\n                                                            {superFavorite ? <Star /> : <StarBorder />}\r\n                                                        </IconButton>\r\n                                                    </Tooltip> */}\r\n\r\n                                                    <Tooltip title={\"Favorite\"}>\r\n                                                        <IconButton\r\n                                                            disabled={locked}\r\n                                                            onClick={() => { toggleFavorite(instanceData.uuid) }}\r\n                                                            className={classes.instanceHeaderButton}\r\n                                                            size=\"large\">\r\n                                                            {favorite ? <Favorite /> : <FavoriteBorder />}\r\n                                                        </IconButton>\r\n                                                    </Tooltip>\r\n\r\n                                                </div>\r\n\r\n                                            </div>\r\n\r\n                                            <div className={classes.buddyInstanceActions}>\r\n                                                <Grid container spacing={1} style={{ width: \"100%\" }}>\r\n                                                    <Grid item xs={12}>\r\n                                                        <Button variant=\"outlined\" color=\"primary\" disabled={locked} onClick={!equipped ? () => { equipBuddy(instanceData.uuid, instanceNum) } : () => { unequipBuddy(instanceData.uuid) }} style={{ width: \"100%\", }}>{locked ? \"Unlock to unequip\" : (equipped ? \"Unequip\" : \"Equip\")}</Button>\r\n                                                    </Grid>\r\n                                                    {/* <Grid item xs={6}>\r\n                                            <Button variant=\"outlined\" color=\"primary\" style={{ width: \"100%\", }}>idk what this one does</Button>\r\n                                        </Grid> */}\r\n                                                </Grid>\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                    );\r\n                                }\r\n                                )}\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </Paper>\r\n            </Container>\r\n        </Backdrop>\r\n    );\r\n}\r\n\r\nexport default BuddyEditor","import { React, useState, useRef, useEffect } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Fade, Grow, Paper, Typography, Chip, IconButton } from '@mui/material';\r\nimport Icon from '@mdi/react'\r\n\r\n//icons\r\nimport { Lock, FavoriteBorder, Favorite } from '@mui/icons-material'\r\nimport { mdiNumeric1Box, mdiNumeric2Box, mdiNumeric3Box, mdiNumeric4Box, mdiNumeric5Box, mdiNumeric6Box, mdiNumeric7Box, mdiNumeric8Box, mdiNumeric9Box } from '@mdi/js';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: \"100%\",\r\n        height: \"125px\",\r\n    },\r\n\r\n    paper: {\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        \"&:hover\": {\r\n            border: `1px ${theme.palette.primary.main} solid`\r\n        },\r\n        transition: \".25s ease !important\",\r\n    },\r\n\r\n    content: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n    },\r\n\r\n    header: {\r\n        height: \"30px\",\r\n        width: \"90%\",\r\n        margin: \"10px 5px 0px 5px\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    tags: {\r\n        width: \"100%\",\r\n        height: \"27px\",\r\n        marginTop: \"3px\",\r\n        marginLeft: \"15px\",\r\n        '& > *': {\r\n            margin: \"0px 5px 0px 0px\",\r\n        },\r\n    },\r\n\r\n    bottomContent: {\r\n        width: \"100%\",\r\n        height: \"35px\",\r\n        marginTop: \"10px\",\r\n        padding: \"0px 10px 0px 10px\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n    }\r\n\r\n}));\r\n\r\n\r\nfunction BuddyItem(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const buddyData = props.data\r\n    const loadout = props.loadout\r\n\r\n    const numericToIcon = {\r\n        1: mdiNumeric1Box,\r\n        2: mdiNumeric2Box,\r\n        3: mdiNumeric3Box,\r\n        4: mdiNumeric4Box,\r\n        5: mdiNumeric5Box,\r\n        6: mdiNumeric6Box,\r\n        7: mdiNumeric7Box,\r\n        8: mdiNumeric8Box,\r\n        9: mdiNumeric9Box,\r\n    }\r\n\r\n    const [equippedWeaponImages, setEquippedWeaponImages] = useState([])\r\n    const [clickEnabled, setClickEnabled] = useState(true)\r\n    const [favorite, setFavorite] = useState(false)\r\n\r\n    useEffect(() => {\r\n        var images = []\r\n        //console.log(loadout)\r\n        Object.keys(loadout).forEach(key => {\r\n            var weapon = loadout[key]\r\n            if (weapon.buddy_uuid === buddyData.uuid) {\r\n                //console.log(weapon)\r\n                if (!images.includes(weapon.weapon_killstream_icon)) {\r\n                    images.push(weapon.weapon_killstream_icon)\r\n                }\r\n            }\r\n        })\r\n        setEquippedWeaponImages(images)\r\n    }, [loadout])\r\n\r\n    useEffect(() => {\r\n        var fav = false\r\n        Object.keys(buddyData.instances).forEach(key => {\r\n            var instance = buddyData.instances[key]\r\n            if (instance.favorite) {\r\n                fav = true\r\n            }\r\n        })\r\n        setFavorite(fav)\r\n    }, [buddyData])\r\n\r\n    function toggleFavorite() {\r\n        var newFav = !favorite\r\n        props.favoriteCallback(buddyData.uuid, newFav)\r\n        Object.keys(buddyData.instances).forEach(key => {\r\n            if (buddyData.instances[key].locked === false) {\r\n                buddyData.instances[key].favorite = newFav\r\n                setFavorite(newFav)\r\n            }\r\n        })\r\n    }\r\n\r\n    function select() {\r\n        if (clickEnabled) {\r\n            props.buddyEditorCallback(buddyData.uuid)\r\n        }\r\n    }\r\n\r\n    function favoriteBlock(state) {\r\n        setClickEnabled(state);\r\n    }\r\n\r\n\r\n    return (\r\n        <Grow in>\r\n            <div className={classes.root}>\r\n                <Paper className={classes.paper} style={{\r\n                    backgroundColor: \"transparent\",\r\n                    backgroundImage: `url('${buddyData.display_icon}')`,\r\n                    backgroundSize: \"auto 70%\",\r\n                    backgroundRepeat: \"no-repeat\",\r\n                    backgroundPosition: \"100% 50%\",\r\n                }} variant=\"outlined\" onClick={select}>\r\n\r\n                    <div className={classes.content}>\r\n\r\n                        <div className={classes.header}>\r\n\r\n                            {/* if this is pressed, favorite both instances (unless one is locked or super favorited) */}\r\n                            <IconButton\r\n                                onMouseEnter={() => { favoriteBlock(false) }}\r\n                                onMouseLeave={() => { favoriteBlock(true) }}\r\n                                onClick={toggleFavorite}\r\n                                style={{ width: \"40px\", height: \"40px\", marginRight: \"5px\", }}\r\n                                size=\"large\">\r\n                                {favorite ? <Favorite /> : <FavoriteBorder />}\r\n                            </IconButton>\r\n\r\n                            <Typography variant=\"h5\" style={{ textOverflow: \"ellipsis\", whiteSpace: \"nowrap\", overflow: \"hidden\" }}>\r\n                                {buddyData.display_name}\r\n                            </Typography>\r\n                        </div>\r\n\r\n                        <div className={classes.tags}>\r\n                            {\r\n                                Object.keys(buddyData.instances).map((key) => {\r\n                                    var instanceBuddyData = buddyData.instances[key]\r\n                                    if (instanceBuddyData.locked_weapon_uuid !== \"\") {\r\n                                        return (\r\n                                            <Chip\r\n                                                avatar={<Lock style={{ background: \"transparent\" }} />}\r\n                                                label={instanceBuddyData.locked_weapon_display_name}\r\n                                                color=\"primary\"\r\n                                                size=\"small\"\r\n                                                style={{ lineHeight: \"1.2\" }}\r\n                                            />\r\n                                        )\r\n                                    } else {\r\n                                        return null\r\n                                    }\r\n                                })\r\n                            }\r\n                        </div>\r\n                        <div className={classes.bottomContent}>\r\n                            <div style={{ width: \"90%\", height: \"100%\", display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-start\", alignItems: \"center\", overflow: \"hidden\" }}>\r\n                                {\r\n                                    equippedWeaponImages.map((image, i) => {\r\n                                        return (\r\n                                            <Fade in>\r\n                                                <img src={image} alt=\"weapon\" style={{ width: \"auto\", height: \"100%\", objectFit: \"contain\", float: \"left\", filter: \"opacity(0.5)\", marginRight: \"10px\", }} />\r\n                                            </Fade>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n\r\n                            <div style={{ width: \"auto\", height: \"100%\", display: \"flex\", marginLeft: \"auto\", flexDirection: \"row\", justifyContent: \"flex-end\", alignItems: \"cetner\" }}>\r\n                                <Icon path={numericToIcon[buddyData.instance_count]} size={1.1} color=\"white\" style={{ height: \"100%\", marginLeft: \"auto\", marginTop: \"auto\", filter: \"opacity(0.5)\" }} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </Paper>\r\n            </div>\r\n        </Grow>\r\n    );\r\n\r\n}\r\n\r\nexport default BuddyItem; ","import { React, useState, useRef, useEffect } from 'react';\r\nimport Fuse from 'fuse.js'\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Button, Grid, InputBase } from '@mui/material';\r\n\r\n//icons\r\nimport { Search } from '@mui/icons-material'\r\n\r\nimport BuddyItem from './sub/BuddyItem.js'\r\nimport BuddyEditor from '../buddyEditor/BuddyEditor.js'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n    gridContainer: {\r\n        height: \"auto\",\r\n        width: \"100%\",\r\n        overflowY: \"auto\",\r\n        flexGrow: 1,\r\n        \"&::-webkit-scrollbar\": {\r\n            width: 4,\r\n        },\r\n        \"&::-webkit-scrollbar-track\": {\r\n            boxShadow: `inset 0 0 6px rgba(0, 0, 0, 0.3)`,\r\n        },\r\n        \"&::-webkit-scrollbar-thumb\": {\r\n            backgroundColor: \"darkgrey\",\r\n            outline: `1px solid slategrey`,\r\n            backgroundClip: \"padding-box\",\r\n        },\r\n    },\r\n\r\n    mainGrid: {\r\n        maxHeight: \"100%\",\r\n        width: \"99%\",\r\n    },\r\n\r\n    serachContainer: {\r\n        height: \"60px\",\r\n        padding: \"10px 0px\",\r\n        marginLeft: \"12px\",\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    search: {\r\n        position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n        width: '300px',\r\n        backgroundColor: \"#565656\"\r\n    },\r\n    searchIcon: {\r\n        padding: theme.spacing(0, 2),\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n        color: 'inherit',\r\n        width: \"100%\"\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 0),\r\n        paddingLeft: `calc(1em + ${theme.spacing(4)})`,\r\n        width: '100%',\r\n    },\r\n}));\r\n\r\nfunction Buddies(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const loadout = props.loadout\r\n    const inventory = props.inventory\r\n    const editorCallback = props.buddyEditorCallback\r\n    const favoriteCallback = props.favoriteCallback\r\n    const favoriteAllCallback = props.favoriteAllCallback\r\n\r\n    const [searchTerm, setSearchTerm] = useState(\"\")\r\n    const [searchResults, setSearchResults] = useState([])\r\n\r\n    const [renderBuddies, setRenderBuddies] = useState(false)\r\n\r\n    const [fuse, setFuse] = useState(null)\r\n\r\n    const searchBank = []\r\n\r\n    useEffect(() => {\r\n        for (const item in inventory) {\r\n            var data = inventory[item]\r\n            searchBank.push(data.display_name)\r\n        }\r\n        setFuse(new Fuse(searchBank, { threshold: 0.4 }))\r\n    }, [inventory])\r\n\r\n    useEffect(() => {\r\n        if (fuse !== null) {\r\n            const results = fuse.search(searchTerm)\r\n            var matches = []\r\n            for (const item in results) {\r\n                matches.push(results[item].item)\r\n            }\r\n            setSearchResults(matches)\r\n        }\r\n    }, [searchTerm])\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            setRenderBuddies(true);\r\n        }, 1) //1ms delay to prevent lag when clicking on buddies page button\r\n    }, [])\r\n\r\n\r\n    function updateBuddyFavorite(uuid, favorite) {\r\n        var buddyData = inventory[uuid]\r\n        Object.keys(buddyData.instances).forEach(key => {\r\n            var data = buddyData.instances[key]\r\n            console.log(data)\r\n            if (!data.locked) {\r\n                data.favorite = favorite\r\n            }\r\n        })\r\n        favoriteCallback(uuid, buddyData)\r\n    }\r\n\r\n    function favoriteAll(fave) {\r\n        favoriteAllCallback(fave)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n\r\n            <div className={classes.serachContainer}>\r\n                <div className={classes.search}>\r\n                    <div className={classes.searchIcon}>\r\n                        <Search />\r\n                    </div>\r\n                    <InputBase\r\n                        placeholder=\"Search\"\r\n                        classes={{\r\n                            root: classes.inputRoot,\r\n                            input: classes.inputInput,\r\n                        }}\r\n                        inputProps={{ 'aria-label': 'search' }}\r\n                        onChange={(event) => { setSearchTerm(event.target.value) }}\r\n                    />\r\n                </div>\r\n\r\n                <div style={{ width: \"auto\", height: \"60px\", marginLeft: \"10px\", display: \"flex\", flexDirection: \"row\", justifyContent: \"flex\", alignItems: \"center\" }}>\r\n                    <Button variant=\"contained\" disableElevation color=\"secondary\" onClick={() => { favoriteAll(true) }} style={{ margin: \"5px\" }}>Favorite all</Button>\r\n                    <Button variant=\"contained\" disableElevation color=\"secondary\" onClick={() => { favoriteAll(false) }} style={{ margin: \"5px\" }}>Unfavorite all</Button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={classes.gridContainer}>\r\n                <Grid container className={classes.mainGrid} direction=\"row\" justifyContent=\"flex-start\" alignItems=\"flex-start\">\r\n                    {inventory !== undefined && renderBuddies ? Object.keys(inventory).map((key) => {\r\n                        var data = inventory[key]\r\n\r\n                        return (\r\n                            searchResults.includes(data.display_name) || searchResults.length === 0 ?\r\n                                <Grid item p={1.5} key={data.display_name} xl={3} lg={4} md={6} sm={12} xs={12}>\r\n                                    <BuddyItem data={data} loadout={loadout} buddyEditorCallback={editorCallback} favoriteCallback={updateBuddyFavorite} />\r\n                                </Grid>\r\n                                : null\r\n                        )\r\n                    }) : null}\r\n\r\n                </Grid>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Buddies;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport BuddyEditor from '../components/buddyEditor/BuddyEditor.js'\r\nimport Buddies from '../components/buddies/Buddies.js'\r\n\r\nimport { Grid, Container, Typography, Snackbar } from '@mui/material'\r\n\r\nimport socket from \"../services/Socket\";\r\nimport { useLoadout } from '../services/useLoadout.js';\r\nimport { useInventory } from '../services/useInventory.js';\r\nimport SnackbarFeedback from '../components/snackbarFeedback/SnackbarFeedback.js';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n}));\r\n\r\n\r\nfunction CollectionHome(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [loadout, forceUpdateLoadout] = useLoadout();\r\n    const [inventory, forceUpdateInventory] = useInventory()\r\n\r\n    const [buddyEditor, setBuddyEditor] = useState(null);\r\n\r\n    const [snackbarTrigger, setSnackbarTrigger] = useState(false);\r\n    const [snackbarText, setSnackbarText] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        document.title = \"VIM // Buddies\"\r\n    }, []);\r\n\r\n    async function saveCallback(uuid, name, payload) {\r\n        return new Promise((resolve, reject) => {\r\n            function loadoutCallback(response) {\r\n                console.log(\"loadout put\")\r\n                forceUpdateLoadout(response);\r\n\r\n            }\r\n\r\n            function inventoryCallback(response) {\r\n                console.log(\"inventory put\")\r\n\r\n                var newInventory = { ...inventory }\r\n                newInventory.buddies[uuid] = payload.buddyData;\r\n                forceUpdateInventory(newInventory);\r\n\r\n                setSnackbarText(\"Saved changes to \" + name)\r\n                setSnackbarTrigger(true);\r\n\r\n                resolve();\r\n            }\r\n\r\n            var inventoryChange = {\r\n                \"buddyUuid\": uuid,\r\n                \"newData\": payload.buddyData\r\n            }\r\n\r\n            socket.request({ \"request\": \"put_buddies\", \"args\": { \"payload\": JSON.stringify(payload.loadout) } }, loadoutCallback);\r\n            socket.request({ \"request\": \"update_buddy_inventory\", \"args\": { \"payload\": JSON.stringify(inventoryChange) } }, inventoryCallback);\r\n        })\r\n    }\r\n\r\n    async function favoriteCallback(uuid, payload) {\r\n        return new Promise((resolve, reject) => {\r\n            function inventoryCallback(response) {\r\n                resolve();\r\n            }\r\n\r\n            var inventoryChange = {\r\n                \"buddyUuid\": uuid,\r\n                \"newData\": payload\r\n            }\r\n\r\n            socket.request({ \"request\": \"update_buddy_inventory\", \"args\": { \"payload\": JSON.stringify(inventoryChange) } }, inventoryCallback);\r\n        })\r\n    }\r\n\r\n    async function favoriteAllCallback(fave){\r\n        return new Promise((resolve, reject) => {\r\n            function inventoryCallback(response) {\r\n                forceUpdateInventory(response,\"buddies\");\r\n            }\r\n\r\n            var payload = {\r\n                \"favorite\": fave\r\n            }\r\n            socket.request({ \"request\": \"favorite_all_buddies\", \"args\": { \"payload\": JSON.stringify(payload) } }, inventoryCallback);\r\n        })\r\n    }\r\n\r\n    function openEditor(uuid) {\r\n        console.log(uuid);\r\n        setBuddyEditor(<BuddyEditor data={inventory.buddies[uuid]} loadout={loadout} inventory={inventory} saveCallback={saveCallback} closeEditor={closeEditor} />)\r\n    }\r\n\r\n    function closeEditor() {\r\n        setBuddyEditor(null);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <SnackbarFeedback trigger={snackbarTrigger} setTrigger={setSnackbarTrigger} type=\"success\" text={snackbarText}/>\r\n            <div style={{ width: \"100%\", height: \"100%\", margin: \"auto\", display: \"flex\", flexDirection: \"column\", justifyContent: \"space-between\", overflow: \"auto\", flexGrow: 1 }}>\r\n                <Container maxWidth={null} style={{ height: \"100%\", display: \"flex\", flexGrow: 1, }}>\r\n                    {buddyEditor}\r\n                    <Buddies loadout={loadout} inventory={inventory.buddies} buddyEditorCallback={openEditor} favoriteCallback={favoriteCallback} favoriteAllCallback={favoriteAllCallback} />\r\n                </Container>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default CollectionHome","\r\n\r\nimport {React, useEffect, useState} from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Step, Stepper, StepLabel, Typography, Toolbar, IconButton, Container, Paper } from '@mui/material'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({    \r\n    stepper: {\r\n        margin: \"20px\"\r\n    }\r\n}));\r\n\r\nconst steps = [\r\n    \"Hello!\",\r\n    \"VALORANT Account\",\r\n    \"Settings\",\r\n]\r\n\r\n\r\nfunction OnboardingStepper(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const activeStep = props.activeStep;\r\n\r\n\r\n    return (\r\n        <Stepper activeStep={activeStep} className={classes.stepper}>\r\n            {steps.map((label, index) => {\r\n                return (\r\n                    <Step key={label}>\r\n                        <StepLabel>{label}</StepLabel>\r\n                    </Step>\r\n                );\r\n            })}\r\n        </Stepper>\r\n    )\r\n}\r\n\r\nexport default OnboardingStepper ","\r\n\r\nimport { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { List, ListItem, ListItemText, Typography, Divider, Button, Container, Paper } from '@mui/material'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    headerText: {\r\n        justifySelf: \"center\",\r\n        textAlign: \"center\",\r\n        background: \"linear-gradient(90deg, rgba(173, 81, 89, 1) 0%, rgba(250,117,129,1) 100%, rgba(255,190,190,1) 100%)\",\r\n        WebkitBackgroundClip: \"text\",\r\n        WebkitTextFillColor: \"transparent\",\r\n        alignSelf: \"flex-end\",\r\n    },\r\n\r\n    bodyText: {\r\n        marginTop: \"3px\",\r\n        justifySelf: \"center\",\r\n        textAlign: \"center\",\r\n    },\r\n\r\n    list: {\r\n        width: \"400px\",\r\n        justifySelf: \"center\",\r\n        alignSelf: \"center\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        paddingTop: \"0px\",\r\n    },\r\n\r\n    listItem: {\r\n        justifySelf: \"center\",\r\n        textAlign: \"center\",\r\n        padding: \"2px\",\r\n    },\r\n\r\n    buttonDiv: {\r\n        display: \"flex\",\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        marginTop: \"5px\",\r\n        justifyContent: \"flex-end\",\r\n    },\r\n\r\n    startButton: {\r\n        width: \"100%\",\r\n        height: \"37px\",\r\n        alignSelf: \"center\",\r\n        marginBottom: \"15px\",\r\n    }\r\n}));\r\n\r\n\r\nfunction WelcomePage(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const features = [\r\n        \"favorites system\",\r\n        \"automatic randomization\",\r\n        \"other stuff\",\r\n        \"\",\r\n    ]\r\n\r\n    const style = props.pageStyle\r\n\r\n    return (\r\n        <div style={style}>\r\n            <div style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"center\", alignItems: \"flex-end\", height: \"100%\" }}>\r\n                <Typography variant=\"h2\" className={classes.headerText}>\r\n                    <strong>VIM</strong>\r\n                </Typography>\r\n                {/* <Typography variant=\"subtitle2\" style={{ alignSelf: \"flex-end\" }} >\r\n                    v1.0.0\r\n                </Typography> */}\r\n            </div>\r\n            <Typography variant=\"h6\" className={classes.bodyText}>\r\n                VALORANT inventory management, expanded\r\n            </Typography>\r\n\r\n            {/* <Divider variant=\"middle\" style={{ margin: \"10px\", }} />\r\n\r\n            <List className={classes.list} dense>\r\n                {features.map((feature) => (\r\n                    <ListItem key={feature} className={classes.listItem}>\r\n                        <ListItemText\r\n                            primary={feature}\r\n                        />\r\n                    </ListItem>\r\n                ))}\r\n            </List> */}\r\n\r\n            <div className={classes.buttonDiv}>\r\n                <Button variant=\"outlined\" color=\"primary\" onClick={props.nextCallback} className={classes.startButton}>\r\n                    Get Started\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WelcomePage","\r\n\r\nimport { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { List, ListItem, ListItemText, ListItemAvatar, Avatar, Typography, Collapse, Button, Grow, Fade, Paper } from '@mui/material'\r\n\r\nimport { Place, Public, Person, Autorenew } from '@mui/icons-material';\r\n\r\nimport socket from \"../../services/Socket\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    \"@global\": {\r\n        \"@keyframes spin\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    start: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n    },\r\n\r\n    gameNotRunning: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n    },\r\n\r\n    autodetectClient: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n    },\r\n\r\n    accountDataList: {\r\n        flexGrow: 0,\r\n        marginBottom: \"5px\",\r\n    },\r\n\r\n    loading: {\r\n        animation: \"spin 4s linear infinite\",\r\n    },\r\n\r\n    buttons: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        justifyContent: \"flex-end\",\r\n    },\r\n\r\n    nextButton: {\r\n        width: \"100%\",\r\n        height: \"37px\",\r\n        marginBottom: \"15px\",\r\n    }\r\n\r\n}));\r\n\r\n\r\nfunction AccountPage(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const style = props.pageStyle\r\n\r\n    const [gameRunning, setGameRunning] = useState(false)\r\n    const [enableGameStartButton, setEnableGameStartButton] = useState(true)\r\n    const [ready, setReady] = useState(false)\r\n\r\n    const [accountRetrieved, setaccountRetrieved] = useState(false)\r\n    const [accountData, setAccountData] = useState({})\r\n\r\n    function startGame() {\r\n        function launchCallback(response) {\r\n            if (response === true) {\r\n                setGameRunning(true);\r\n            }\r\n        }\r\n        socket.request({ \"request\": \"start_game\" }, launchCallback)\r\n    }\r\n\r\n    function autodetectAccount() {\r\n        function accountCallback(response){\r\n            setaccountRetrieved(true);\r\n            setAccountData(response)\r\n        }\r\n        socket.request({ \"request\": \"autodetect_account\" }, accountCallback)\r\n    }\r\n\r\n    function isGameRunning() {\r\n        function gameRunningCallback(response){\r\n            setGameRunning(response)\r\n            setReady(true)\r\n        }\r\n        socket.request({ \"request\": \"get_running_state\" }, gameRunningCallback)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!ready) {\r\n            isGameRunning();\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (gameRunning && !accountRetrieved) {\r\n            autodetectAccount();\r\n        }\r\n    }, [gameRunning])\r\n\r\n    return (\r\n        <div style={style}>\r\n\r\n            <div className={classes.start}>\r\n                <Typography variant=\"h4\">Let's get started</Typography>\r\n\r\n                <Fade in={!gameRunning && ready} unmountOnExit mountOnEnter>\r\n                    <div className={classes.gameNotRunning}>\r\n                        <Typography style={{ marginTop: \"12px\", marginBottom: \"10px\" }} variant=\"body2\">It looks like VALORANT isn't open. VALORANT needs to be open to set up VIM.</Typography>\r\n                        <Button variant=\"outlined\" color=\"primary\" disabled={!enableGameStartButton} className={classes.startButton} onClick={startGame}>\r\n                            {enableGameStartButton ? \"Launch VALORANT\" : <Autorenew className={classes.loading} />}\r\n                        </Button>\r\n                    </div>\r\n                </Fade>\r\n\r\n                <Fade in={gameRunning} style={{ transitionDelay: \"200ms\" }} unmountOnExit mountOnEnter>\r\n                    <div className={classes.autodetectClient}>\r\n                        <Typography style={{ marginTop: \"12px\", marginBottom: \"5px\" }} variant=\"body2\">{accountRetrieved ? \"Discovered the following account data:\" : \"Attempting to autodetect your VALORANT account.\"}</Typography>\r\n\r\n                        <Fade in={accountRetrieved} mountOnEnter unmountOnExit>\r\n                            <List className={classes.accountDataList}>\r\n                                <ListItem>\r\n                                    <ListItemAvatar>\r\n                                        <Avatar>\r\n                                            <Person color=\"action\"/>\r\n                                        </Avatar>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText primary={`${accountData.game_name}#${accountData.game_tag}`} />\r\n                                </ListItem>\r\n                                <ListItem>\r\n                                    <ListItemAvatar>\r\n                                        <Avatar>\r\n                                            <Place color=\"action\"/>\r\n                                        </Avatar>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText primary={`Region: ${accountData.region}`} />\r\n                                </ListItem>\r\n                                <ListItem>\r\n                                    <ListItemAvatar>\r\n                                        <Avatar>\r\n                                            <Public color=\"action\"/>\r\n                                        </Avatar>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText primary={`Shard: ${accountData.shard}`} />\r\n                                </ListItem>\r\n                            </List>\r\n                        </Fade>\r\n\r\n                        <Fade in={accountRetrieved} style={{ transitionDelay: \"500ms\" }} mountOnEnter unmountOnExit>\r\n                            <div className={classes.buttons}>\r\n                                <Button variant=\"outlined\" color=\"primary\" onClick={props.nextCallback} className={classes.nextButton}>\r\n                                    Next\r\n                                </Button>\r\n                            </div>\r\n                        </Fade>\r\n\r\n                    </div>\r\n                </Fade>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AccountPage","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Typography, Divider, Select, InputLabel, MenuItem, FormControl, Switch, Container, IconButton, TextField, Fade } from '@mui/material'\r\n\r\n//icons \r\nimport { Close, SettingsInputAntenna } from '@mui/icons-material'\r\n\r\nimport socket from \"../../services/Socket\";\r\nimport { useConfig } from '../../services/useConfig';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    root: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        display: \"flex\",\r\n        justifySelf: \"flex-start\",\r\n        justifyContent: \"center\",\r\n        alignContent: \"flex-start\",\r\n        flexWrap: \"wrap\",\r\n        overflow: \"auto\",\r\n        \"&::-webkit-scrollbar\": {\r\n            width: 4,\r\n        },\r\n        \"&::-webkit-scrollbar-track\": {\r\n            boxShadow: `inset 0 0 6px rgba(0, 0, 0, 0.3)`,\r\n        },\r\n        \"&::-webkit-scrollbar-thumb\": {\r\n            backgroundColor: \"darkgrey\",\r\n            outline: `1px solid slategrey`,\r\n            backgroundClip: \"padding-box\",\r\n        },\r\n    },\r\n\r\n    header: {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n        alignContent: \"center\",\r\n        width: \"100%\",\r\n        height: \"75px\",\r\n        margin: \"0px 20px 10px 20px\",\r\n        backgroundColor: \"transparent\",\r\n        paddingTop: \"0px\",\r\n        position: \"sticky\",\r\n        top: 0,\r\n        zIndex: 3,\r\n    },\r\n\r\n    closeButton: {\r\n        width: \"40px\",\r\n        height: \"40px\",\r\n        alignSelf: \"center\",\r\n        justifySelf: \"flex-end\",\r\n        marginRight: \"0px\",\r\n    },\r\n\r\n    body: {\r\n        width: \"95%\",\r\n        alignSelf: \"center\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignContent: \"flex-start\",\r\n        justifyContent: \"flex-start\",\r\n        overflowY: \"auto\",\r\n    },\r\n\r\n    section: {\r\n        width: \"98%\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        alignSelf: \"center\",\r\n        marginBottom: \"10px\",\r\n    },\r\n\r\n    sectionHeader: {\r\n        marginBottom: \"8px\",\r\n        fontSize: \"1.5rem\",\r\n    },\r\n\r\n    variable: {\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        marginBottom: \"10px\",\r\n    },\r\n\r\n    variableName: {\r\n        fontSize: \"1.2rem\",\r\n        flexGrow: 1,\r\n    },\r\n\r\n    descriptor: {\r\n        width: \"75%\",\r\n    },\r\n\r\n    selector: {\r\n        width: \"25%\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifySelf: \"flex-end\",\r\n        flexGrow: 1,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n    }\r\n\r\n}))\r\n\r\nfunction ConfigItem(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const config = props.config;\r\n    const updateConfig = props.updateConfig\r\n    const section = props.section\r\n\r\n    const key = props.itemKey;\r\n    const data = props.data;\r\n\r\n    const [value, setValue] = useState(data.value);\r\n    const [saving, setSaving] = useState(false);\r\n\r\n    function generateInteraction() {\r\n        if (data.attrs === undefined) {\r\n            data.attrs = [];\r\n        }\r\n        switch (data.type) {\r\n            case \"bool\":\r\n\r\n                function toggle(event) {\r\n                    setValue(event.target.checked);\r\n                    config[section].settings[key].value = event.target.checked;\r\n                    updateConfig({ ...config })\r\n                }\r\n\r\n                return (\r\n                    <Switch color=\"primary\" checked={value} onClick={toggle} disabled={data.attrs.includes(\"locked\")} />\r\n                )\r\n\r\n            case \"list_selection\":\r\n                return (\r\n                    <FormControl style={{ width: \"100%\" }}>\r\n                        <InputLabel id={key} style={{ width: \"100%\", }}>{data.display}</InputLabel>\r\n                        <Select\r\n                            value={value}\r\n                            onChange={(event) => {\r\n                                setValue(event.target.value);\r\n                                config[section].settings[key].value = event.target.value;\r\n                                updateConfig({ ...config })\r\n                            }}\r\n                            disabled={data.attrs.includes(\"locked\")}\r\n                        >\r\n                            {data.options.map((option, index) => {\r\n                                return (\r\n                                    <MenuItem key={option} value={option}>{option}</MenuItem>\r\n                                )\r\n                            })}\r\n                        </Select>\r\n                    </FormControl>\r\n                )\r\n\r\n            case \"string\":\r\n                return (\r\n                    <div className={classes.selector} style={{ width: \"35%\", marginLeft: \"2%\" }}>\r\n                        <TextField\r\n                            id={key}\r\n                            label={data.display}\r\n                            defaultValue={data.value}\r\n                            disabled={data.attrs.includes(\"locked\")}\r\n                            onChange={(event) => {\r\n                                setValue(event.target.value);\r\n                                config[section].settings[key].value = event.target.value;\r\n                                updateConfig({ ...config })\r\n                            }}\r\n                            variant=\"standard\"\r\n                            style={{ width: \"100%\", }}\r\n                        />\r\n                    </div>\r\n                )\r\n\r\n            default:\r\n                return (null)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.variable}>\r\n            <div className={classes.descriptor}>\r\n                <Typography variant=\"subtitle1\" className={classes.variableName} style={{ height: (data.description !== undefined ? \"auto\" : \"100%\"), lineHeight: 1.5, margin: \"auto\", marginBottom: \"5px\" }}>{data.display !== undefined ? data.display : key}</Typography>\r\n\r\n                {data.description !== undefined ?\r\n                    <Typography variant=\"body1\" style={{ marginLeft: \"20px\", }}>{data.description}</Typography>\r\n                    : null\r\n                }\r\n            </div>\r\n            <div className={classes.selector}>\r\n                {generateInteraction()}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nfunction Config(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [config, updateConfig, publishConfig] = useConfig();\r\n    const [saving, setSaving] = useState(false);\r\n\r\n    useEffect(() => {\r\n        console.log(config)\r\n        setSaving(false);\r\n    }, [config])\r\n\r\n    useEffect(() => {\r\n        if (props.saveTrigger === true) {\r\n            saveAndClose()\r\n        }\r\n    }, [props.saveTrigger])\r\n\r\n    function generateSection(section, sectionData) {\r\n        console.log(sectionData)\r\n        return (\r\n            <Fade in>\r\n                <div className={classes.section}>\r\n                    <Typography variant=\"h6\" className={classes.sectionHeader}>{sectionData.display}</Typography>\r\n\r\n                    {Object.keys(sectionData.settings).map(key => {\r\n                        var data = sectionData.settings[key]\r\n                        return (<ConfigItem key={key} itemKey={key} data={data} config={config} updateConfig={updateConfig} section={section} />);\r\n                    })}\r\n\r\n                    <Divider style={{ margin: \"10px 10px\" }} />\r\n                </div>\r\n            </Fade>\r\n        )\r\n    }\r\n\r\n    function generateVisuals() {\r\n        return (\r\n            <Container maxWidth=\"lg\" className={classes.body}>\r\n                {Object.keys(config).map(section => {\r\n                    var sectionData = config[section];\r\n                    return generateSection(section, sectionData);\r\n                })}\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    function saveAndClose() {\r\n        console.log(\"saving\")\r\n        setSaving(true);\r\n        publishConfig(() => { props.close(false) });\r\n    }\r\n\r\n    return <>\r\n        {config !== null ?\r\n            <div className={classes.root}>\r\n                {props.showHeader ?\r\n                    <div className={classes.header}>\r\n                        <Typography variant=\"h4\" style={{ color: theme.palette.primary.light, fontSize: \"2.2rem\", flexGrow: 1, margin: \"auto\" }}>Settings</Typography>\r\n                        <IconButton\r\n                            aria-label=\"randomize\"\r\n                            aria-controls=\"menu-appbar\"\r\n                            aria-haspopup=\"true\"\r\n                            edge=\"end\"\r\n                            color=\"inherit\"\r\n                            className={classes.closeButton}\r\n                            onClick={saveAndClose}\r\n                            disabled={config === null || saving}\r\n                            size=\"large\">\r\n                            <Close />\r\n                        </IconButton>\r\n                    </div>\r\n                    : null}\r\n\r\n                {config !== null ? generateVisuals() : null}\r\n            </div>\r\n        : null }\r\n    </>;\r\n}\r\n\r\nexport default Config;","\r\n\r\nimport { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { List, ListItem, ListItemText, Typography, Divider, Button, Container, Paper } from '@mui/material'\r\nimport Config from \"../config/Config.js\"\r\n\r\nimport socket from \"../../services/Socket\";\r\nimport useLocalStorage from '../../services/useLocalStorage.js';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n\r\n\r\n    buttonDiv: {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        marginTop: \"5px\",\r\n        justifyContent: \"flex-end\",\r\n    },\r\n\r\n    nextButton: {\r\n        width: \"90%\",\r\n        height: \"37px\",\r\n        marginBottom: \"15px\",\r\n    }\r\n}));\r\n\r\n\r\nfunction ConfigPage(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [done, setDone] = useState(false)\r\n    const [onboardingCompleted, setOnboardingCompleted] = useLocalStorage(\"onboardingCompleted\");\r\n\r\n    useEffect(() => {\r\n        console.log(onboardingCompleted)\r\n    }, [])\r\n\r\n    const style = props.pageStyle\r\n\r\n    function finish(){\r\n        setDone(true)\r\n        setOnboardingCompleted(true);\r\n        props.nextCallback()\r\n    }\r\n\r\n    return (\r\n        <div style={{ ...style, width: \"100%\", }}>\r\n            <div style={{ height: \"68%\", padding: \"0px 0px 10px 0px\" }}>\r\n                <Config saveTrigger={done}/>\r\n            </div>\r\n\r\n\r\n            <div className={classes.buttonDiv}>\r\n                <Button variant=\"outlined\" color=\"primary\" onClick={finish} className={classes.nextButton}>\r\n                    Finish\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ConfigPage","import {React, useEffect, useState} from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Step, Stepper, StepLabel, Typography, Toolbar, Grow, Container, Paper } from '@mui/material'\r\nimport OnboardingStepper from \"../components/onboarding/Stepper\";\r\nimport WelcomePage from \"../components/onboarding/WelcomePage\";\r\nimport AccountPage from \"../components/onboarding/AccountPage\";\r\nimport ConfigPage from \"../components/onboarding/ConfigPage\"\r\n\r\n//icons\r\nimport { Settings, Shuffle, Autorenew } from '@mui/icons-material';\r\n\r\nimport { request } from \"../services/Socket\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    paper: {\r\n        width: \"500px\",\r\n        height: \"400px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n    },\r\n\r\n    pageContent: {\r\n        display: \"flex\",\r\n        flexGrow: 1,\r\n        height: \"100%\",\r\n        alignItems: \"center\",\r\n        flexDirection: \"column\",\r\n    }\r\n\r\n}));\r\n\r\nconst pageStyle = {\r\n    width: \"90%\",\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    flexGrow: 1,\r\n}\r\n\r\n\r\nfunction Onboarding(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    \r\n    const pages = [\r\n        <WelcomePage pageStyle={pageStyle} nextCallback={nextStep}/>,\r\n        <AccountPage pageStyle={pageStyle} nextCallback={nextStep}/>,\r\n        <ConfigPage pageStyle={pageStyle} nextCallback={nextStep}/>,\r\n    ]\r\n\r\n    const [activeStep, setActiveStep] = useState(0);\r\n    const [redirect, setRedirect] = useState(null)\r\n\r\n    function nextStep(){\r\n        setActiveStep(activeStep + 1);\r\n        console.log(activeStep)\r\n        if(activeStep+1 > pages.length-1){\r\n            console.log(\"redirect\")\r\n            setRedirect(<Redirect to=\"/vim\"/>)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container maxWidth=\"xl\" className={classes.root}>\r\n            {redirect}\r\n            <Grow in>\r\n                <Paper variant=\"outlined\" className={classes.paper}>\r\n                    <OnboardingStepper activeStep={activeStep}/>\r\n                    <div className={classes.pageContent}>\r\n                        {pages[activeStep]}\r\n                    </div>\r\n                </Paper>\r\n            </Grow>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Onboarding","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\nimport makeStyles from '@mui/styles/makeStyles';\r\nimport { Divider } from '@mui/material'\r\n\r\nimport { Grid, Container, Typography } from '@mui/material'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    header: {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n        alignContent: \"center\",\r\n        width: \"100%\",\r\n        height: \"75px\",\r\n        paddingTop: \"0px\",\r\n    },\r\n\r\n    content: {\r\n        width: \"100%\",\r\n        padding: \"10px\",\r\n        height: \"auto\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n    },\r\n\r\n    section: {\r\n        marginBottom: \"20px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n}));\r\n\r\n\r\nfunction About(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const licenses = {\r\n        \"React\": \"https://raw.githubusercontent.com/facebook/react/main/LICENSE\",\r\n        \"Material-UI\": \"https://raw.githubusercontent.com/mui/material-ui/master/LICENSE\",\r\n        \"Requests\": \"https://raw.githubusercontent.com/psf/requests/main/LICENSE\",\r\n        \"Websockets\": \"https://raw.githubusercontent.com/aaugustin/websockets/main/LICENSE\",\r\n        \"PSUtil\": \"https://raw.githubusercontent.com/giampaolo/psutil/master/LICENSE\",\r\n    }\r\n\r\n    const [licenseTexts, setLicenseTexts] = useState({});\r\n    const [licenseDivs, setLicenseDivs] = useState([]);\r\n    const [date, setDate] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        document.title = \"VIM // About\"\r\n\r\n        setLicenseTexts({});\r\n        setLicenseDivs([]);\r\n        for (const [key, value] of Object.entries(licenses)) {\r\n            fetch(value)\r\n                .then(response => response.text())\r\n                .then(text => setLicenseTexts({ ...licenseTexts, [key]: text }))\r\n        }\r\n        var dt = new Date()\r\n        setDate(dt.getFullYear())\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        for (const [key, value] of Object.entries(licenseTexts)) {\r\n            var name = key;\r\n            var lice = value\r\n            setLicenseDivs([...licenseDivs,\r\n            <div style={{ width: \"100%\", margin: \"10px 0px 20px 0px\" }}>\r\n                <Typography variant=\"h5\" style={{ marginBottom: \"5px\" }}>{name}</Typography>\r\n                <Typography variant=\"body2\" style={{ whiteSpace: \"pre-wrap\" }}>\r\n                    {lice}\r\n                </Typography>\r\n            </div>\r\n            ])\r\n        }\r\n    }, [licenseTexts]);\r\n\r\n    return (\r\n        <>\r\n            <div style={{ height: \"100%\", width: \"100%\", margin: \"auto\", display: \"flex\", flexDirection: \"column\", justifyContent: \"space-between\", overflow: \"auto\", flexGrow: 1 }}>\r\n                <Container maxWidth={\"xl\"} style={{ width: \"100%\", height: \"100%\", display: \"flex\", flexGrow: 1, flexDirection: \"column\", }}>\r\n\r\n                    <div className={classes.header}>\r\n                        <Typography variant=\"h4\" style={{ color: theme.palette.primary.light, fontSize: \"2.2rem\", flexGrow: 1, margin: \"auto\" }}>About VIM</Typography>\r\n                    </div>\r\n\r\n                    <div className={classes.content}>\r\n                        <Typography variant=\"body1\" style={{ marginBottom: \"10px\" }}>\r\n                             2021-{date} Colin Hartigan. All Rights Reserved.\r\n                        </Typography>\r\n\r\n                        <div className={classes.section}>\r\n                            <Typography variant=\"h3\" style={{ color: \"white\", fontSize: \"2rem\", marginBottom: \"10px\", }}>Motivation</Typography>\r\n                            <Typography variant=\"body1\">\r\n                                VIM was created out of frustration for VALORANT's native inventory system. I aimed to create a simple and intuitive interface to expand the functionality of the inventory system without overcomplicating it.\r\n                                Ultimately, I hope Riot recognizes the potential of the additional features I have implemented and adds them to VALORANT natively. With this, VIM should become obselete and the need for an external program\r\n                                to achieve the expected functionality would be removed. Ultimately, VIM was created as a personal exercise in React, Python, and development strategies for fun, but I am thrilled by the support it has gained.\r\n                            </Typography>\r\n                        </div>\r\n                        <div className={classes.section} style={{ marginBottom: \"10px\", }}>\r\n                            <Typography variant=\"h3\" style={{ color: \"white\", fontSize: \"2rem\", marginBottom: \"10px\", }}>Thank yous</Typography>\r\n                            <Typography variant=\"body1\">\r\n                                The creation of VIM would not have been possible without the help of the many members of VALORANT's third party developer community. The communal efforts of the community to reverse-engineer and understand\r\n                                VALORANT's client API were instrumental in VIM's development.\r\n                            </Typography>\r\n                        </div>\r\n                        <Divider style={{ margin: \"15px 0px\" }} />\r\n                        <div className={classes.section} style={{ marginBottom: \"10px\", }}>\r\n                            <Typography variant=\"h3\" style={{ color: \"white\", fontSize: \"2rem\", marginBottom: \"10px\", }}>License</Typography>\r\n                            <Typography variant=\"body1\" style={{ lineHeight: \".5em\", width: \"95%\", marginLeft: \"1%\" }}>\r\n                                <p>MIT License</p>\r\n                                <br />\r\n                                <p>Copyright (c) 2022 Colin Hartigan</p>\r\n                                <br />\r\n                                <p>Permission is hereby granted, free of charge, to any person obtaining a copy</p>\r\n                                <p>of this software and associated documentation files (the \"Software\"), to deal</p>\r\n                                <p>in the Software without restriction, including without limitation the rights</p>\r\n                                <p>to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</p>\r\n                                <p>copies of the Software, and to permit persons to whom the Software is</p>\r\n                                <p>furnished to do so, subject to the following conditions:</p>\r\n                                <br />\r\n                                <p>The above copyright notice and this permission notice shall be included in all</p>\r\n                                <p>copies or substantial portions of the Software.</p>\r\n                                <br />\r\n                                <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</p>\r\n                                <p>IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</p>\r\n                                <p>FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</p>\r\n                                <p>AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</p>\r\n                                <p>LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</p>\r\n                                <p>OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</p>\r\n                                <p>SOFTWARE.</p>\r\n                            </Typography>\r\n                        </div>\r\n\r\n                        <div className={classes.section} style={{ marginBottom: \"10px\", }}>\r\n                            <Typography variant=\"h3\" style={{ color: \"white\", fontSize: \"2rem\", marginBottom: \"10px\", }}>Legal (Riot's Jibber Jabber)</Typography>\r\n                            <Typography variant=\"body1\" style={{ width: \"95%\", marginLeft: \"1%\" }}>\r\n                                <p>This project is not affiliated with Riot Games or any of its employees and therefore does not reflect the views of said parties. This is purely a fan-made project to enhance VALORANT's inventory management.</p>\r\n                                <p>Riot Games does not endorse or sponsor this project. Riot Games, and all associated properties are trademarks or registered trademarks of Riot Games, Inc.</p>\r\n                            </Typography>\r\n                        </div>\r\n\r\n                        <div className={classes.section}>\r\n                            <Typography variant=\"h3\" style={{ color: \"white\", fontSize: \"2rem\", marginBottom: \"10px\", }}>Third-party software</Typography>\r\n                            <Typography variant=\"body1\">\r\n                                licenses for the big dependencies \\_()_/\r\n                            </Typography>\r\n\r\n                            <div style={{ width: \"95%\", marginLeft: \"1%\" }}>\r\n                                {licenseDivs}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </Container>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default About","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\nimport { Divider } from '@mui/material'\r\n\r\nimport { Grid, Container, Typography, Paper } from '@mui/material'\r\n\r\nfunction Statistics(props) {\r\n\r\n    const theme = useTheme();\r\n\r\n    const md = `[![Discord](https://img.shields.io/badge/discord-join-7389D8?style=flat&logo=discord)](https://discord.gg/uGuswsZwAT) ### [installation guide](https://github.com/colinhartigan/valorant-inventory-manager#installationusage) >### VIM is not a \"skin hack\" and you will not get any free skins from using it ## Changelog - fixed white screen bug/freeze during onboarding - fixed compatibility bug with old buddy data structure - updated randomizer behavior - if only one skin is eligible for randomization and it has multiple chromas favorited, a chroma won't be repeated ___ if you encounter any bugs, create an [issue](https://github.com/colinhartigan/valorant-inventory-manager/issues) if you have suggestions or want to contribute, open a [pull request](https://github.com/colinhartigan/valorant-inventory-manager/pulls) https://github.com/colinhartigan/valorant-inventory-manager/compare/v1.0.1...v1.0.0`\r\n\r\n    return (\r\n        <>\r\n            <div style={{ height: \"100%\", width: \"100%\", margin: \"auto\", display: \"flex\", flexDirection: \"column\", justifyContent: \"space-between\", overflow: \"auto\", flexGrow: 1 }}>\r\n                <Container maxWidth={\"xl\"} style={{ width: \"100%\", height: \"100%\", display: \"flex\", flexGrow: 1, flexDirection: \"column\", }}>\r\n\r\n                    <div style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-start\", alignContent: \"center\", width: \"100%\", height: \"75px\", }}>\r\n                        <Typography variant=\"h4\" style={{ color: theme.palette.primary.light, fontSize: \"2.2rem\", flexGrow: 1, margin: \"auto\" }}>Statistics</Typography>\r\n                    </div>\r\n\r\n                    <Grid container spacing={2} sx={{width: \"100%\", height: \"auto\"}}>\r\n                        <Grid item>\r\n                            <Paper variant=\"outlined\" sx={{width: \"auto\", height: \"auto\", padding: \"30px\"}}>\r\n                                <div style={{width: \"100%\", height: \"100%\", display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", alignItems: \"center\"}}>\r\n                                    <Typography variant=\"h2\">\r\n                                        120\r\n                                    </Typography>\r\n                                    <Typography variant=\"h6\">\r\n                                        skins owned\r\n                                    </Typography>\r\n                                </div>\r\n                            </Paper>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n\r\n                </Container>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default Statistics","import { React, useEffect, useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\nimport makeStyles from '@mui/styles/makeStyles';\r\nimport Icon from '@mdi/react'\r\n\r\n//components\r\nimport { Drawer, Divider, List, IconButton, ListItem, ListItemIcon, ListItemText, ListItemButton, } from '@mui/material';\r\n\r\n//icons\r\nimport { ChevronLeft, ChevronRight } from '@mui/icons-material';\r\nimport { mdiPistol, mdiInformation, mdiAlert, mdiSpade, mdiFolderMultiple } from '@mdi/js';\r\n\r\n//services\r\nimport { Config } from '../../services/ClientConfig.js'\r\n\r\n\r\nconst widthClosed = \"59px\";\r\nconst widthOpen = \"200px\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    drawer: {\r\n        overflow: \"hidden\",\r\n        whiteSpace: 'nowrap',\r\n        flexShrink: 1,\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n}));\r\n\r\nfunction NavBar(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const setTarget = props.setTarget;\r\n\r\n    const [open, setOpen] = useState(false)\r\n\r\n    const iconSize = 1.1;\r\n    const tabs = [\r\n        {\r\n            \"name\": \"Skins\",\r\n            \"icon\": mdiPistol,\r\n            \"path\": \"collection\",\r\n            \"enabled\": Config.ENABLED_PAGES.collection,\r\n        },\r\n        {\r\n            \"name\": \"Loadouts\",\r\n            \"icon\": mdiFolderMultiple,\r\n            \"path\": \"loadouts\",\r\n            \"enabled\": Config.ENABLED_PAGES.loadouts,\r\n        },\r\n        {\r\n            \"name\": \"Buddies\",\r\n            \"icon\": mdiSpade,\r\n            \"path\": \"buddies\",\r\n            \"enabled\": Config.ENABLED_PAGES.buddies,\r\n        },\r\n    ]\r\n\r\n    function selectPage(path) {\r\n        setTarget(path)\r\n    }\r\n\r\n    return <>\r\n        {Config.NAVIGATION_ENABLED ?\r\n            <div style={{ display: \"flex\", }}>\r\n                <Drawer\r\n                    variant=\"permanent\"\r\n                    className={classes.drawer}\r\n                    style={{ width: (open ? widthOpen : widthClosed), transition: \"width 0.2s ease\" }}\r\n                >\r\n                    <List style={{ width: (open ? widthOpen : widthClosed), overflow: \"hidden\", flexGrow: 1, transition: \"width 0.2s ease\"}}>\r\n\r\n\r\n                        <div style={{ width: \"100%\", padding: \"10px 5px 10px 5px\" }}>\r\n                            <IconButton onClick={() => {setOpen(!open)}} size=\"large\">\r\n                                { open ? <ChevronLeft /> : <ChevronRight />}\r\n                            </IconButton>\r\n                        </div>\r\n\r\n                        <Divider />\r\n\r\n                        <div style={{ width: \"100%\", marginTop: \"10px\" }}>\r\n                            {tabs.map((tab, index) => (\r\n                                (tab.enabled ? \r\n                                    <ListItemButton key={tab.name} onClick={() => { selectPage(tab.path) }}>\r\n                                        <ListItemIcon><Icon\r\n                                            path={tab.icon}\r\n                                            size={iconSize}\r\n                                        /></ListItemIcon>\r\n                                        <ListItemText primary={tab.name} />\r\n                                    </ListItemButton>\r\n                                : null)\r\n                            ))}\r\n                        </div>\r\n\r\n\r\n                        <div style={{ position: \"absolute\", bottom: 0, width: \"100%\" }}>\r\n                            <Divider />\r\n                            {/* <ListItemButton key={\"statistics\"} onClick={() => {selectPage(\"statistics\")}}>\r\n                                <ListItemIcon><Icon\r\n                                    path={mdiAlert}\r\n                                    size={1}\r\n                                /></ListItemIcon>\r\n                                <ListItemText primary={\"Statistics\"} />\r\n                            </ListItemButton> */}\r\n                            <ListItemButton key={\"about\"} onClick={() => {selectPage(\"about\")}}>\r\n                                <ListItemIcon><Icon\r\n                                    path={mdiInformation}\r\n                                    size={1}\r\n                                /></ListItemIcon>\r\n                                <ListItemText primary={\"About\"} />\r\n                            </ListItemButton>\r\n                        </div>\r\n                    </List>\r\n                </Drawer>\r\n            </div>\r\n            : null}\r\n    </>;\r\n}\r\n\r\nexport default NavBar;","import { React, useEffect, useState, forwardRef } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Paper, Dialog, Slide, Divider, Select, InputLabel, MenuItem, FormControl } from '@mui/material'\r\n\r\n//icons \r\nimport { Theaters, TheatersOutlined, Palette, Loyalty, LoyaltyOutlined, PaletteOutlined, PlayArrowOutlined, StopOutlined } from '@mui/icons-material'\r\n\r\nimport Config from \"./Config.js\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    backdrop: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n    mainPaper: {\r\n        margin: \"auto\",\r\n        width: \"40%\",\r\n        height: \"70vh\",\r\n        minWidth: \"450px\",\r\n        maxWidth: \"600px\",\r\n\r\n        display: \"flex\",\r\n        justifySelf: \"flex-start\",\r\n        justifyContent: \"center\",\r\n        alignContent: \"flex-start\",\r\n        flexWrap: \"wrap\",\r\n        overflow: \"auto\",\r\n    },\r\n\r\n}))\r\n\r\nconst Transition = forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nfunction BackdroppedConfig(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    return (\r\n        <Dialog fullScreen open={props.open} TransitionComponent={Transition} onClose={props.handleClose}>\r\n            <Config close={props.close} showHeader/>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default BackdroppedConfig;","import React, { useEffect } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Grid, Grow, Typography, Toolbar, IconButton, Slide, Paper, Tooltip } from '@mui/material'\r\n\r\n//icons\r\nimport { Settings, Shuffle, Autorenew, SportsEsports } from '@mui/icons-material';\r\n\r\nimport BackdroppedConfig from \"../config/BackdroppedConfig.js\"\r\n\r\nimport socket from \"../../services/Socket\";\r\nimport useKeyboardListener from '../../services/useKeyboardListener.js';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    \"@global\": {\r\n        \"@keyframes spin\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    appBar: {\r\n        margin: \"12px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        height: \"50px\",\r\n        zIndex: 2,\r\n        backgroundColor: \"rgba(0, 0, 0, 0)\",\r\n        border: \"0px rgb(255,255,255) solid\",\r\n    },\r\n\r\n    statusBar: {\r\n        alignSelf: \"center\",\r\n        justifySelf: \"center\",\r\n        display: \"flex\",\r\n        marginRight: theme.spacing(1),\r\n        flexGrow: 1,\r\n    },\r\n\r\n    inGameIndicator: {\r\n        alignSelf: \"center\",\r\n        color: \"#9de069\",\r\n    },\r\n\r\n    action: {\r\n        width: \"40px\",\r\n        height: \"40px\",\r\n        margin: theme.spacing(.25),\r\n    },\r\n\r\n    loading: {\r\n        animation: \"spin 4s linear infinite\",\r\n    },\r\n\r\n}));\r\n\r\n\r\nfunction Header(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [randomizing, setRandomizing] = React.useState(false);\r\n    const [inGame, setInGame] = React.useState(false);\r\n\r\n    const [openSettings, setOpenSettings] = React.useState(false);\r\n    const [keysDown] = useKeyboardListener();\r\n\r\n    useEffect(() => {\r\n        function ingameCallback(response){\r\n            setInGame(response.state)\r\n        }\r\n        socket.subscribe(\"game_state\",ingameCallback)\r\n        socket.send({\"request\": \"force_update_game_state\"})\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (String(keysDown) === \"r\"){\r\n            randomize();\r\n        }\r\n    }, [keysDown])\r\n\r\n    async function randomize() {\r\n        setRandomizing(true);\r\n        function callback(response) {\r\n            setRandomizing(false);\r\n        }\r\n        \r\n        socket.request({ \"request\": \"randomize_skins\" }, callback);\r\n        socket.request({ \"request\": \"randomize_buddies\" }, callback);\r\n    }\r\n    \r\n\r\n    return <>\r\n        <BackdroppedConfig open={openSettings} close={setOpenSettings}/>\r\n        <Slide direction=\"down\" in>\r\n            <Paper variant=\"outlined\" className={classes.appBar} position=\"static\">\r\n                <Toolbar style={{height: \"100%\", width: \"100%\",}}>\r\n\r\n                    <Typography variant=\"h5\" style={{ flexGrow: 0, marginRight: theme.spacing(2) }}>\r\n                        VIM\r\n                    </Typography>\r\n\r\n                    <div className={classes.statusBar}>\r\n                        <Grow in={inGame}>\r\n                            <Tooltip title=\"In game\">\r\n                                <SportsEsports className={classes.inGameIndicator} />\r\n                            </Tooltip>\r\n                        </Grow>\r\n                    </div>\r\n\r\n                    <div className={classes.actions}>\r\n\r\n                        {/* shuffle */}\r\n                        <IconButton\r\n                            aria-label=\"randomize\"\r\n                            aria-controls=\"menu-appbar\"\r\n                            aria-haspopup=\"true\"\r\n                            edge=\"end\"\r\n                            onClick={randomizing ? null : randomize}\r\n                            color=\"inherit\"\r\n                            className={classes.action}\r\n                            size=\"medium\"\r\n                        >\r\n                            {randomizing ? <Autorenew className={classes.loading} /> : <Shuffle />}\r\n                        </IconButton>\r\n\r\n                        {/* settings */}\r\n                        <IconButton\r\n                            aria-label=\"settings button lol\"\r\n                            aria-controls=\"menu-appbar\"\r\n                            aria-haspopup=\"true\"\r\n                            edge=\"end\"\r\n                            // onClick={}\r\n                            color=\"inherit\"\r\n                            className={classes.action}\r\n                            onClick={() => setOpenSettings(true)}\r\n                            size=\"large\">\r\n                            <Settings/>\r\n                        </IconButton>\r\n\r\n                    </div>\r\n                </Toolbar>\r\n            </Paper>\r\n        </Slide>\r\n    </>;\r\n}\r\n\r\nexport default Header","import React, { useEffect } from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Grid, Grow, Typography, Toolbar, IconButton, Slide, Paper, Tooltip } from '@mui/material'\r\n\r\n//icons\r\nimport { Settings, Shuffle, Autorenew, SportsEsports } from '@mui/icons-material';\r\n\r\nimport socket from \"../../services/Socket\";\r\nimport { Config, ServerVersion } from \"../../services/ClientConfig\"\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    footer: {\r\n        alignSelf: \"flex-end\",\r\n        justifySelf: \"flex-end\",\r\n        height: \"50px\",\r\n        width: \"100%\",\r\n        padding: \"10px\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n    },\r\n\r\n    versionText: {\r\n        alignSelf: \"flex-end\",\r\n        width: \"50%\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-end\",\r\n        alignItems: \"center\",\r\n        flexGrow: 1,\r\n        opacity: .5,\r\n    }\r\n\r\n}));\r\n\r\n\r\nfunction Footer(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className={classes.footer}>\r\n                <div className={classes.versionText}>\r\n                    <Typography variant=\"subtitle2\">\r\n                        client v{Config.FRONTEND_VERSION} / companion v{ServerVersion}\r\n                    </Typography>\r\n                </div>\r\n\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Footer","import {React, useEffect, useState} from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Step, Stepper, StepLabel, Typography, Button, Grow, Backdrop, Paper } from '@mui/material'\r\n\r\n//icons\r\nimport { Settings, Shuffle, Autorenew } from '@mui/icons-material';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        backgroundColor: theme.palette.background.default,\r\n        zIndex: 100,\r\n    },\r\n\r\n    main: {\r\n        width: \"400px\",\r\n        height: \"230px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    content: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    retryButton: {\r\n        alignSelf: \"center\",\r\n        height: \"45px\",\r\n        width: \"80%\",\r\n    },\r\n\r\n    buttons: {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        justifyContent: \"center\",\r\n    }\r\n\r\n}));\r\n\r\n\r\nfunction ConnectionFailed(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    return (\r\n        <Backdrop open className={classes.root}>\r\n            <Grow in>\r\n                <div className={classes.main}>\r\n                    <div className={classes.content}>\r\n                        <Typography variant=\"h4\">Connection failed</Typography>\r\n                        <Typography variant=\"body1\" style={{textAlign: \"center\", marginTop: \"10px\",}}>Couldn't connect to your computer. Is the VIM client companion running?</Typography>\r\n\r\n                        <div className={classes.buttons}> \r\n                            <Button variant=\"outlined\" color=\"primary\" onClick={props.retry} className={classes.retryButton}>\r\n                                Retry\r\n                            </Button>\r\n                            <Button target=\"_blank\" href=\"https://github.com/colinhartigan/valorant-inventory-manager\" variant=\"outlined\" color=\"primary\" className={classes.retryButton} style={{marginTop: \"15px\", height: \"35px\"}}>\r\n                                Github\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </Grow>\r\n        </Backdrop>\r\n    )\r\n}\r\n\r\nexport default ConnectionFailed","import {React, useEffect, useState} from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Step, Stepper, StepLabel, Typography, Button, Grow, Backdrop, Paper } from '@mui/material'\r\n\r\n//icons\r\nimport { Settings, Shuffle, Autorenew, TramRounded, ContactsOutlined } from '@mui/icons-material';\r\n\r\nimport socket from \"../../services/Socket\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \"@global\": {\r\n        \"@keyframes spin\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    root: {\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        backgroundColor: theme.palette.background.default,\r\n        zIndex: 100,\r\n    },\r\n\r\n    main: {\r\n        width: \"400px\",\r\n        height: \"200px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    content: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    retryButton: {\r\n        alignSelf: \"center\",\r\n        height: \"45px\",\r\n        width: \"80%\",\r\n    },\r\n\r\n    buttons: {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n    loading: {\r\n        animation: \"spin 4s linear infinite\",\r\n    },\r\n\r\n}));\r\n\r\n\r\nfunction GameNotRunning(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [enableGameStartButton, setEnableGameStartButton] = useState(true);\r\n    const [open, setOpen] = useState(true)\r\n\r\n    function launch() {\r\n        setEnableGameStartButton(false);\r\n        socket.send({\"request\": \"start_game\"})\r\n    }\r\n\r\n    return (\r\n        <Backdrop open className={classes.root}>\r\n            <Grow in={open}>\r\n                <div className={classes.main}>\r\n                    <div className={classes.content}>\r\n                        <Typography variant=\"h4\">VALORANT not open</Typography>\r\n                        <Typography variant=\"body1\" style={{textAlign: \"center\", marginTop: \"10px\",}}>Couldn't detect VALORANT running on your computer.</Typography>\r\n\r\n                        <div className={classes.buttons}> \r\n                            <Button variant=\"outlined\" color=\"primary\" onClick={launch} disabled={!enableGameStartButton} className={classes.retryButton}>\r\n                                {enableGameStartButton ? \"Launch VALORANT\" : <Autorenew className={classes.loading}/>}\r\n\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </Grow>\r\n        </Backdrop>\r\n    )\r\n}\r\n\r\nexport default GameNotRunning","import {React, useEffect, useState} from 'react';\r\n\r\n//utilities\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport { Step, Stepper, StepLabel, Typography, Button, Grow, Backdrop, Paper } from '@mui/material'\r\n\r\n//icons\r\nimport { Settings, Shuffle, Autorenew } from '@mui/icons-material';\r\n\r\nimport { Config, ServerVersion } from \"../../services/ClientConfig\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        backgroundColor: theme.palette.background.default,\r\n        zIndex: 100,\r\n    },\r\n\r\n    main: {\r\n        width: \"400px\",\r\n        height: \"200px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    content: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    retryButton: {\r\n        alignSelf: \"center\",\r\n        height: \"45px\",\r\n        width: \"80%\",\r\n    },\r\n\r\n    buttons: {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        justifyContent: \"center\",\r\n    }\r\n\r\n}));\r\n\r\n\r\nfunction WrongVersion(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [newVersion, setNewVersion] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        fetch(\"https://api.github.com/repos/colinhartigan/valorant-inventory-manager/releases\")\r\n            .then(res => res.json())\r\n            .then((dat) => {\r\n                var data = dat[0]; \r\n                console.log(data)\r\n                setNewVersion(data.tag_name);\r\n            })\r\n    }, [])\r\n\r\n    return (\r\n        <Backdrop open className={classes.root}>\r\n            <Grow in>\r\n                <div className={classes.main}>\r\n                    <div className={classes.content}>\r\n                        <Typography variant=\"h4\" style={{textAlign: \"center\"}}>Client Companion version mismatch</Typography>\r\n                        <Typography variant=\"body1\" style={{textAlign: \"center\", marginTop: \"10px\", marginBottom: \"10px\"}}>Your VIM client companion version is not supported. ({ServerVersion} {''} {newVersion})</Typography>\r\n\r\n                        <div className={classes.buttons}> \r\n                            <Button target=\"_blank\" href=\"https://github.com/colinhartigan/valorant-inventory-manager/releases/latest\" variant=\"outlined\" color=\"primary\" className={classes.retryButton}>\r\n                                View latest release \r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </Grow>\r\n        </Backdrop>\r\n    )\r\n}\r\n\r\nexport default WrongVersion","import {React, useEffect, useState} from 'react';\r\n\r\nimport makeStyles from '@mui/styles/makeStyles';\r\n\r\n//components\r\nimport {\r\n    Backdrop,\r\n    CircularProgress,\r\n    Typography,\r\n    Box,\r\n    Container,\r\n    ThemeProvider,\r\n    StyledEngineProvider,\r\n} from '@mui/material';\r\n\r\n//icons\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        color: \"#fff\",\r\n    }\r\n\r\n}));\r\n\r\n\r\nfunction WebsocketHandshake(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Backdrop className={classes.backdrop} open={props.open}>\r\n            <Box>\r\n                <CircularProgress color=\"primary\"/>\r\n            </Box>\r\n        </Backdrop>\r\n    )\r\n}\r\n\r\nexport default WebsocketHandshake","import { useEffect, useState, useRef } from \"react\";\r\n\r\n//utilities\r\nimport { ThemeProvider, StyledEngineProvider, createTheme } from \"@mui/material/styles\";\r\nimport { Typography } from \"@mui/material\";\r\nimport CssBaseline from \"@mui/material/CssBaseline\";\r\nimport { BrowserRouter as Switch, Route, HashRouter, Redirect } from \"react-router-dom\";\r\nimport useLocalStorage from \"./services/useLocalStorage\";\r\nimport { Config, setVersion, ServerVersion } from \"./services/ClientConfig\"\r\n\r\nimport socket from \"./services/Socket\";\r\n\r\nimport { useLoadoutRunner } from \"./services/useLoadout.js\";\r\nimport { useInventoryRunner } from \"./services/useInventory.js\"\r\nimport { useConfigRunner } from \"./services/useConfig\";\r\nimport { useProfilesRunner } from \"./services/useProfiles\";\r\n\r\n\r\n//pages\r\nimport CollectionHome from \"./pages/CollectionHome\"\r\nimport LoadoutsHome from \"./pages/LoadoutsHome\"\r\nimport BuddiesHome from \"./pages/BuddiesHome\"\r\nimport Onboarding from \"./pages/Onboarding\"\r\nimport About from \"./pages/About\"\r\nimport Statistics from \"./pages/Statistics\"\r\n\r\n//components\r\nimport NavBar from './components/misc/Navigation'\r\nimport Header from './components/misc/Header.js'\r\nimport Footer from './components/misc/Footer.js'\r\n\r\n//error pages\r\nimport ConnectionFailed from \"./components/errors/ConnectionFailed.js\"\r\nimport GameNotRunning from \"./components/errors/GameNotRunning.js\"\r\nimport WrongVersion from \"./components/errors/WrongVersion.js\"\r\n\r\n//components\r\nimport WebsocketHandshake from \"./components/misc/WebsocketHandshake\";\r\n\r\nconst mainTheme = createTheme({\r\n    palette: {\r\n        mode: \"dark\",\r\n        primary: {\r\n            main: \"#fa7581\",\r\n        },\r\n        secondary: {\r\n            main: \"#454545\",\r\n        },\r\n    },\r\n    typography: {\r\n        fontFamily: [\r\n            'Chivo',\r\n            '-apple-system',\r\n            'BlinkMacSystemFont',\r\n            '\"Segoe UI\"',\r\n            'Roboto',\r\n            '\"Helvetica Neue\"',\r\n            'Arial',\r\n            'sans-serif',\r\n            '\"Apple Color Emoji\"',\r\n            '\"Segoe UI Emoji\"',\r\n            '\"Segoe UI Symbol\"',\r\n        ].join(','),\r\n    },\r\n    overrides: {\r\n        MuiCssBaseline: {\r\n            // this is fine for now but perhaps make the background transparent in the future\r\n            \"@global\": {\r\n                body: {\r\n                    \"&::-webkit-scrollbar\": {\r\n                        width: 6,\r\n                    },\r\n                    \"&::-webkit-scrollbar-track\": {\r\n                        boxShadow: `inset 0 0 6px rgba(0, 0, 0, 0.3)`,\r\n                    },\r\n                    \"&::-webkit-scrollbar-thumb\": {\r\n                        backgroundColor: \"darkgrey\",\r\n                        outline: `1px solid slategrey`,\r\n                    },\r\n                },\r\n            },\r\n        },\r\n    },\r\n})\r\n\r\n\r\nfunction App(props) {\r\n    const [isLoading, setLoading] = useState(true);\r\n    const [showLoad, setShowLoad] = useState(true);\r\n\r\n    const [connected, setConnected] = useState(false);\r\n\r\n    const [onboardingCompleted, setOnboardingCompleted] = useLocalStorage(\"onboardingCompleted\", false);\r\n    const [gameRunning, setGameRunning] = useState(false);\r\n\r\n    const [ready, setReady] = useState(false);\r\n    const [awaitingStates, setAwaitingStates] = useState(false);\r\n\r\n    const [errorPage, setErrorPage] = useState(null);\r\n\r\n    const [config, activateConfig] = useConfigRunner();\r\n\r\n    // WEBSOCKETS MAKE ME WANT TO KILL MYSELF (9/6/2021)\r\n    //----------------------------------------------------------------------------------\r\n\r\n    //connect socket -> check for onboarding -> set ready true\r\n\r\n    useEffect(() => {\r\n        socket.subscribe(\"onclose\", disconnect, false, \"onclose\");\r\n        socket.subscribe(\"game_not_running\", gameClosed, false)\r\n        socket.subscribe(\"start_game\", gameOpened, false)\r\n        console.log(\"onboarding\", onboardingCompleted)\r\n        startup();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (errorPage !== null) {\r\n            setLoading(false)\r\n        }\r\n    })\r\n\r\n    useEffect(() => {\r\n        checkVersion()\r\n    }, [ServerVersion])\r\n\r\n    useEffect(() => {\r\n        if (awaitingStates) {\r\n            if (gameRunning) {\r\n                forceRefreshInventory()\r\n                stopLoading();\r\n                setReady(true)\r\n                setAwaitingStates(false);\r\n                activateConfig();\r\n                console.log(\"ready\")\r\n            }\r\n        }\r\n    }, [onboardingCompleted, gameRunning])\r\n\r\n    function startup() {\r\n        //reset all states\r\n        setLoading(true);\r\n        setReady(false);\r\n        setConnected(false);\r\n        setErrorPage(null);\r\n        setGameRunning(false)\r\n\r\n        console.log(\"awaiting socket\")\r\n        connectSocket()\r\n            .then(() => {\r\n                setAwaitingStates(true)\r\n                getStates();\r\n                console.log(\"awaing states for ready\")\r\n            });\r\n\r\n    }\r\n\r\n    function forceRefreshInventory() {\r\n        socket.send({ \"request\": \"refresh_buddy_inventory\" })\r\n        socket.send({ \"request\": \"refresh_skin_inventory\" })\r\n        socket.send({ \"request\": \"refresh_profiles\" })\r\n    }\r\n\r\n    function stopLoading() {\r\n        setTimeout(() => {\r\n            setLoading(false);\r\n        }, 300)\r\n    }\r\n\r\n    function gameOpened(response) {\r\n        console.log(\"game opened\", response)\r\n        if (response === true) {\r\n            startup();\r\n        }\r\n    }\r\n\r\n    function checkVersion() {\r\n        if (ServerVersion !== \"\" && Config.VERSION_CHECK_ENABLED) {\r\n            if (!Config.SERVER_VERSION_COMPATABILITY.includes(ServerVersion)) {\r\n                setErrorPage(<WrongVersion />)\r\n            } else {\r\n                console.log(\"version matches\")\r\n            }\r\n        }\r\n    }\r\n\r\n    async function connectSocket() {\r\n        return new Promise((resolve, reject) => {\r\n            console.log(\"asdf\")\r\n            socket.connect()\r\n                .then((response) => {\r\n                    console.log(\"socket connected\")\r\n                    setConnected(true);\r\n                    return resolve();\r\n                })\r\n                .catch(() => {\r\n                    console.log(\"caught something\")\r\n                    setConnected(false);\r\n                    setErrorPage(<ConnectionFailed retry={startup} />)\r\n                    return reject();\r\n                })\r\n        });\r\n    }\r\n\r\n    function getStates() {\r\n\r\n        function gameRunningCallback(response) {\r\n            console.log(`game running: ${response}`)\r\n            setGameRunning(response)\r\n            if (response === false) {\r\n                setErrorPage(<GameNotRunning />)\r\n            }\r\n        }\r\n        socket.request({ \"request\": \"get_running_state\" }, gameRunningCallback)\r\n\r\n        function serverVersionCallback(response) {\r\n            console.log(`server version: ${response}`)\r\n            console.log(`client version: ${Config.FRONTEND_VERSION}`)\r\n            setVersion(response)\r\n            checkVersion();\r\n        }\r\n        socket.request({ \"request\": \"get_server_version\" }, serverVersionCallback)\r\n    }\r\n\r\n\r\n    function startupLoading() {\r\n        if (isLoading) {\r\n            return (<WebsocketHandshake open />)\r\n        }\r\n    }\r\n\r\n    function disconnect() {\r\n        console.log(\"disconnected\")\r\n        setConnected(false);\r\n        setReady(false)\r\n        setErrorPage(<ConnectionFailed retry={startup} />)\r\n    }\r\n\r\n    function gameClosed() {\r\n        setGameRunning(false)\r\n        setReady(false)\r\n        setErrorPage(<GameNotRunning />)\r\n    }\r\n\r\n    return (\r\n        <StyledEngineProvider injectFirst>\r\n            <ThemeProvider theme={mainTheme}>\r\n                <CssBaseline />\r\n                {/* <AnimatedCursor\r\n                    color=\"255,255,255\"\r\n                    innerSize={12}\r\n                    outerSize={18}\r\n                    outerScale={1.5}\r\n                    trailingSpeed={4}\r\n                /> */}\r\n                {Config.TEST_BUILD ?\r\n                    <div style={{ width: \"100vw\", height: \"100vh\", zIndex: 2000, border: \".2rem solid red\", position: \"absolute\", display: \"flex\", flexDirection: \"column\", justifyContent: \"flex-start\", alignItems: \"center\", pointerEvents: \"none\" }}>\r\n                        <Typography variant=\"body1\" sx={{ background: \"red\", padding: \"5px\" }}>VIM TEST BUILD</Typography>\r\n                    </div>\r\n                    : null}\r\n                {errorPage}\r\n\r\n                {startupLoading()}\r\n\r\n                {ready ?\r\n                    <HashRouter basename=\"/\">\r\n                        <Route exact path=\"/\">\r\n                            {onboardingCompleted ? <Redirect to=\"/vim\" /> : <Redirect to=\"/onboarding\" />}\r\n                        </Route>\r\n                        <Route path=\"/onboarding\">\r\n                            <Onboarding />\r\n                        </Route>\r\n\r\n                        <Route path=\"/vim\">\r\n                            <VIMmain />\r\n                        </Route>\r\n                    </HashRouter>\r\n\r\n                    : null}\r\n\r\n\r\n            </ThemeProvider>\r\n        </StyledEngineProvider>\r\n    );\r\n}\r\n\r\nfunction VIMmain(props) {\r\n    const [target, setTarget] = useLocalStorage(\"lastVisitedPage\", \"collection\")\r\n\r\n    //global states\r\n    const [loadout] = useLoadoutRunner();\r\n    const [inv] = useInventoryRunner();\r\n    const [profile] = useProfilesRunner();\r\n\r\n    const routes = {\r\n        \"collection\": Config.ENABLED_PAGES.collection === true ? <CollectionHome /> : <Redirect to=\"/\" />,\r\n        \"buddies\": Config.ENABLED_PAGES.buddies === true ? <BuddiesHome /> : <Redirect to=\"/\" />,\r\n        \"loadouts\": Config.ENABLED_PAGES.loadouts === true ? <LoadoutsHome /> : <Redirect to=\"/\" />,\r\n\r\n        \"statistics\": <Statistics />,\r\n        \"about\": <About />,\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div style={{ height: \"100vh\", width: \"100vw\", display: \"flex\", flexDirection: \"row\", overflow: \"auto\" }}>\r\n                <NavBar setTarget={setTarget} />\r\n                <div style={{ width: \"100%\", height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\r\n                    <Header />\r\n                    {routes[target]}\r\n                    <Footer />\r\n                </div>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();"],"sourceRoot":""}