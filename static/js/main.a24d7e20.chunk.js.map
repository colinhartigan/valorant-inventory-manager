{"version":3,"sources":["services/ClientConfig.js","services/Socket.js","services/useLocalStorage.js","components/config/Config.js","components/config/BackdroppedConfig.js","services/useKeyboardListener.js","components/misc/Header.js","components/misc/Footer.js","components/weaponEditor/sub/LevelSelector.js","components/weaponEditor/sub/ChromaSelector.js","components/weaponEditor/sub/SkinGridItem.js","components/weaponEditor/sub/WeaponHeader.js","components/weaponEditor/sub/ActionsDrawer.js","components/weaponEditor/sub/WeightDialog.js","components/weaponEditor/WeaponEditor.js","services/useWindowDimensions.js","components/collection/sub/WeaponCollectionItem.js","components/collection/sub/SkinChangerWarning.js","components/collection/Collection.js","pages/CollectionHome.js","components/buddies/sub/BuddyItem.js","components/buddyEditor/BuddyEditor.js","components/buddies/Buddies.js","pages/BuddiesHome.js","components/onboarding/Stepper.js","components/onboarding/WelcomePage.js","components/onboarding/AccountPage.js","components/onboarding/ConfigPage.js","pages/Onboarding.js","components/misc/Navigation.js","components/errors/ConnectionFailed.js","components/errors/GameNotRunning.js","components/errors/WrongVersion.js","components/misc/WebsocketHandshake.js","App.js","reportWebVitals.js","index.js"],"names":["Config","FRONTEND_VERSION","SERVER_VERSION_COMPATABILITY","VERSION_CHECK_ENABLED","WEBSOCKET_URL","SOCKET_RETRY_THRESHOLD","WEIGHT_INTERVALS","SKIN_CHANGER_WARNING_THRESHOLD","NAVIGATION_ENABLED","ENABLED_PAGES","ServerVersion","Socket","this","socket","subscriptions","listening","a","Promise","resolve","reject","readyState","console","log","WebSocket","onerror","event","onopen","messageHandler","error","data","send","JSON","stringify","callback","subscribe","request","removable","type","undefined","existing","action","push","filter","length","onmessage","response","parse","Object","keys","forEach","subscribedEvent","unsubscribe","onclose","useLocalStorage","key","initialValue","useState","window","item","localStorage","getItem","storedValue","setStoredValue","value","valueToStore","Function","setItem","useStyles","makeStyles","theme","root","width","height","display","justifySelf","justifyContent","alignContent","flexWrap","overflow","boxShadow","backgroundColor","outline","backgroundClip","header","flexDirection","margin","paddingTop","position","top","zIndex","closeButton","alignSelf","marginRight","body","overflowY","section","flexGrow","marginBottom","sectionHeader","fontSize","variable","variableName","descriptor","selector","alignItems","ConfigItem","props","classes","config","useTheme","updateConfig","itemKey","setValue","className","Typography","variant","style","description","lineHeight","marginLeft","attrs","Switch","color","checked","onClick","target","settings","disabled","includes","FormControl","InputLabel","id","Select","onChange","options","map","option","index","MenuItem","TextField","label","defaultValue","generateInteraction","saving","setSaving","saveAndClose","close","useEffect","fetchConfig","saveTrigger","showHeader","palette","primary","light","IconButton","edge","Close","Container","maxWidth","sectionData","Fade","in","Divider","generateSection","backdrop","mainPaper","minWidth","Transition","forwardRef","ref","Slide","direction","BackdroppedConfig","Dialog","fullScreen","open","TransitionComponent","onClose","handleClose","useKeyboardListener","keysDown","setKeysDown","useEventListener","k","String","k2","transform","appBar","border","statusBar","spacing","inGameIndicator","loading","animation","Header","React","randomizing","setRandomizing","inGame","setInGame","openSettings","setOpenSettings","randomize","state","Paper","Toolbar","Grow","Tooltip","title","SportsEsports","actions","size","Autorenew","Shuffle","Settings","footer","padding","versionText","opacity","Footer","LevelSelector","selectedChromaIndex","maxLevel","levelData","toString","selectedLevelIndex","selectedLevel","setSelectedLevel","values","setter","ToggleButtonGroup","exclusive","newLevel","uuid","level_type","unlocked","arrow","ToggleButton","selected","favorite","shorthand_display_name","display_name","ChromaSelector","maxChroma","chromaData","setSelectedChroma","swatch_icon","alt","src","weaponPaper","transition","main","container","tierImage","bottom","objectFit","objectPosition","favoriteButton","right","Weapon","skinData","isMelee","weaponData","isFavorite","isselected","setIsselected","isHovered","setIsHovered","equip","warning","onMouseEnter","onMouseLeave","backgroundImage","display_icon","backgroundSize","backgroundRepeat","backgroundPosition","content_tier","left","marginTop","headerButton","WeaponHeader","selectedSkinData","inventoryWeaponData","saveCallback","favoriteCallback","locked","isLocked","lockCallback","weightCallback","dev_name","Math","round","weight","total_weights","mountOnEnter","unmountOnExit","FitnessCenter","Favorite","FavoriteBorder","orientation","Lock","LockOpen","selectedActions","previewAction","previewActionIcon","ActionsDrawer","hasAlternateMedia","showingVideo","changeVideoState","changeVideoStateCallback","showingControls","changeControlsState","changeControlsStateCallback","levelFavorited","isFavoriteLevel","chromaFavorited","isFavoriteChroma","toggleFavoriteLevelCallback","toggleFavoriteChromaCallback","canFavoriteLevel","canFavoriteChroma","visible","outlinecolor","Zoom","Loyalty","LoyaltyOutlined","Palette","PaletteOutlined","StopOutlined","PlayArrowOutlined","Theaters","TheatersOutlined","content","WeightDialog","setWeight","startTotalMinusThis","totalWeights","total","setTotal","cancel","fullWidth","DialogTitle","DialogContent","DialogContentText","Slider","valueLabelDisplay","step","marks","min","max","e","DialogActions","Button","paperOnTopContent","background","paddingBottom","mainSkinMedia","maxHeight","overflowX","paperCustomizingContent","levelSelectors","skinSelector","WeaponEditor","inventoryData","weaponUuid","skinsData","skins","initSkinData","initialSkinData","skin_uuid","setselectedSkinData","levels","loadoutWeaponData","level_uuid","selectedLevelData","setselectedLevelData","chromas","chroma_uuid","selectedChromaData","setselectedChromaData","isFavoriteSkin","setIsFavoriteSkin","favoriteLevels","setFavoriteLevels","favoriteChromas","setFavoriteChromas","setCanFavoriteLevel","setCanFavoriteChroma","setIsFavoriteLevel","setIsFavoriteChroma","setIsLocked","changeOpenState","hasUpgrades","setHasUpgrades","hasWallpaper","setHasWallpaper","changeAlternateMediaState","weightDialogOpen","setWeightDialogOpen","save","skinUuid","levelUuid","chromaUuid","oldSkinId","oldChromaId","oldLevelId","sameSkin","payload","then","setTimeout","closeEditor","equipSkin","highestLevelIndex","i","j","wallpaper","toggleLock","toggleFavoritedSkin","document","video_preview","favLevels","level","refreshFavoritedLevels","favChromas","chroma","refreshFavoritedChromas","join","Backdrop","showChromaVideo","showLevelImage","controls","autoPlay","onEnded","getSkinMedia","levelUuidOverride","stateOverride","newState","currentlyFavoritedLevels","splice","indexOf","chromaUuidOverride","currentlyFavoritedChromas","trainsition","Grid","xs","sm","getWindowDimensions","innerWidth","innerHeight","useWindowDimensions","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","scaleOverrides","weaponContainerVideo","weaponImage","backfaceVisibility","bottomGradient","dataContainer","textContainer","paddingLeft","buddyContainer","buddyImage","weaponLabelHolder","skinLabelHolder","weaponLabel","textAlign","textOverflow","isUpdatingImage","setUpdatingImage","setUpdatingBuddy","updateSkinData","showSkinName","updateSkinNameVisibility","scaleIndex","setScaleIndex","setImage","bugged","comparisonTarget","skin_image","buddy_name","transitionDelay","weaponEditorCallback","displayName","Collapse","skin_name","isSidearm","buddy_image","SkinChangerWarning","skinsOwned","acknowledged","setAcknowledged","enableButton","setEnableButton","setOpen","collectionItem","minHeight","grid","Collection","smallWindow","setSmallWindow","useLargeWeaponImage","setUseLargeWeaponImage","AspectRatio","loadout","row","md","sidearm","CollectionHome","loaded","setLoaded","updateInventoryData","showWeaponEditor","setWeaponEditorState","setLoadout","weaponEditor","setWeaponEditor","uniqueSkinsOwned","setUniqueSkinsOwned","updateInventory","updateLoadout","weapon","paper","tags","bottomContent","BuddyItem","buddyData","numericToIcon","mdiNumeric1Box","mdiNumeric2Box","mdiNumeric3Box","mdiNumeric4Box","mdiNumeric5Box","mdiNumeric6Box","mdiNumeric7Box","mdiNumeric8Box","mdiNumeric9Box","equippedWeaponImages","setEquippedWeaponImages","images","buddy_uuid","weapon_killstream_icon","whiteSpace","instances","instanceBuddyData","locked_weapon_uuid","Chip","avatar","locked_weapon_display_name","image","float","path","instance_count","headerContent","equippedWeapons","borderRadius","buddyInstance","buddyInstanceHeader","instanceHeaderButton","buddyInstanceActions","BuddyEditor","StarBorder","gridContainer","mainGrid","serachContainer","search","shape","searchIcon","pointerEvents","inputRoot","inputInput","Buddies","inventory","searchTerm","setSearchTerm","searchResults","setSearchResults","fuse","setFuse","searchBank","Fuse","threshold","results","matches","Search","InputBase","placeholder","input","inputProps","xl","lg","buddies","stepper","steps","OnboardingStepper","activeStep","Stepper","Step","StepLabel","headerText","WebkitBackgroundClip","WebkitTextFillColor","bodyText","list","listItem","buttonDiv","startButton","WelcomePage","pageStyle","nextCallback","start","gameNotRunning","autodetectClient","accountDataList","buttons","nextButton","AccountPage","gameRunning","setGameRunning","enableGameStartButton","ready","setReady","accountRetrieved","setaccountRetrieved","accountData","setAccountData","List","ListItem","ListItemAvatar","Avatar","Person","ListItemText","game_name","game_tag","Place","region","Public","shard","ConfigPage","done","setDone","onboardingCompleted","setOnboardingCompleted","pageContent","Onboarding","pages","nextStep","setActiveStep","redirect","setRedirect","to","widthClosed","widthOpen","drawer","flexShrink","NavBar","tabs","mdiPistol","collection","mdiSpade","Drawer","ChevronLeft","ChevronRight","tab","enabled","button","ListItemIcon","icon","name","mdiAlert","mdiInformation","default","retryButton","ConnectionFailed","retry","GameNotRunning","setEnableGameStartButton","WrongVersion","newVersion","setNewVersion","fetch","res","json","dat","tag_name","href","WebsocketHandshake","Box","CircularProgress","mainTheme","createTheme","secondary","typography","fontFamily","overrides","MuiCssBaseline","VIMMain","routes","BuddiesHome","App","isLoading","setLoading","setConnected","awaitingStates","setAwaitingStates","errorPage","setErrorPage","startup","connectSocket","gameRunningCallback","serverVersionCallback","checkVersion","getStates","gameOpened","connect","catch","disconnect","gameClosed","ThemeProvider","CssBaseline","startupLoading","basename","exact","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a24d7e20.chunk.js","sourcesContent":["const Config = {\r\n    FRONTEND_VERSION: \"1.0.0b3\",\r\n    SERVER_VERSION_COMPATABILITY: [\"1.0.0b3\"],\r\n    VERSION_CHECK_ENABLED: true,\r\n\r\n    WEBSOCKET_URL: \"ws://localhost:8765\", \r\n    SOCKET_RETRY_THRESHOLD: 5,\r\n\r\n    WEIGHT_INTERVALS: 10,\r\n    SKIN_CHANGER_WARNING_THRESHOLD: 10,\r\n\r\n    NAVIGATION_ENABLED: false,\r\n    ENABLED_PAGES: {\r\n        \"collection\": true,\r\n        \"buddies\": false,\r\n    }\r\n}\r\n\r\nvar ServerVersion = \"\";\r\n\r\nfunction setVersion(version) {\r\n    ServerVersion = version;\r\n}\r\n\r\nexport {Config, ServerVersion, setVersion}","import React from 'react';\r\n\r\nimport {Config} from './ClientConfig';\r\n\r\nclass Socket {\r\n    constructor() {\r\n        this.socket = null\r\n        this.subscriptions = {}\r\n        this.listening = false\r\n    }\r\n\r\n    async connect() {\r\n        this.listening = false;\r\n        return new Promise((resolve, reject) => {\r\n            if (this.socket === null || (this.socket !== null && this.socket.readyState !== 1)) {\r\n                try {\r\n                    console.log(\"connecting\")\r\n                    this.socket = new WebSocket(Config.WEBSOCKET_URL);\r\n                    console.log(this.socket)\r\n                    this.socket.onerror = (event) => {\r\n                        console.log(event)\r\n\r\n                        socket = null\r\n                        return reject();\r\n                    }\r\n                    this.socket.onopen = (event) => {\r\n                        console.log(\"opened\")\r\n                        console.log(this.socket)\r\n                        this.messageHandler()\r\n                        return resolve();\r\n                    }\r\n                } catch (error) {\r\n                    console.log(\"rip\")\r\n                    this.socket = null;\r\n                    return reject();\r\n                }\r\n            } else {\r\n                return resolve();\r\n            }\r\n        })\r\n    }\r\n\r\n    async send(data) {\r\n        if (this.socket !== null) {\r\n            try {\r\n                // console.log(`sending request for ${data.request}`)\r\n                this.socket.send(JSON.stringify(data));\r\n            } catch {\r\n                console.log(\"you fucking moron this state should never occur\")\r\n            }\r\n        } else {\r\n\r\n        }\r\n    }\r\n\r\n    async request(data, callback) {\r\n        if (this.socket !== null) {\r\n            try {\r\n                // console.log(`sending request for ${data.request}`)\r\n                this.socket.send(JSON.stringify(data));\r\n            } catch {\r\n                console.log(\"you fucking moron this state should never occur\")\r\n                return false;\r\n            }\r\n\r\n            this.subscribe(data.request, callback, true)\r\n        } else {\r\n            return false\r\n        }\r\n    }\r\n\r\n    subscribe(event, callback, removable = false, type = \"message\") {\r\n        if (this.subscriptions[event] === undefined) {\r\n            this.subscriptions[event] = []\r\n        }\r\n        //check if the callback is already in the subscriptions for the event\r\n        var existing = false\r\n        for (const action in this.subscriptions[event]) {\r\n            if (action.callback === callback){\r\n                existing = true\r\n            }\r\n        }\r\n        console.log(`existing for ${event}: ${existing}`)\r\n        if(existing === false) {\r\n            this.subscriptions[event].push({\r\n                \"callback\": callback,\r\n                \"removable\": removable,\r\n                \"type\": type,\r\n            })\r\n        }\r\n        \r\n        //console.log(this.subscriptions) \r\n    }\r\n    unsubscribe(event, callback) {\r\n        if (this.subscriptions[event] !== undefined) {\r\n            this.subscriptions[event] = this.subscriptions[event].filter(action => action.callback !== callback)\r\n        }\r\n        if (this.subscriptions[event].length === 0) {\r\n            delete this.subscriptions[event]\r\n        } \r\n    }\r\n\r\n    messageHandler() {\r\n        if (!this.listening) {\r\n            this.listening = true\r\n            this.socket.onmessage = async (event) => {\r\n                const response = JSON.parse(event.data);\r\n                console.log(response)\r\n                Object.keys(this.subscriptions).forEach(subscribedEvent => {\r\n                    if (response.event === subscribedEvent) {\r\n                        for (const action of this.subscriptions[subscribedEvent]) {\r\n                            if (action.type === \"message\") {\r\n                                action.callback(response.data)\r\n                                if (action.removable) {\r\n                                    this.unsubscribe(subscribedEvent, action.callback)\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n            this.socket.onclose = async (event) => {\r\n                console.log(\"closed\")\r\n                for (const action of this.subscriptions[\"onclose\"]) {\r\n                    console.log(action)\r\n                    if (action.type === \"onclose\") {\r\n                        action.callback()\r\n                        if (action.removable) {\r\n                            this.unsubscribe(\"onclose\", action.callback)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nvar socket = new Socket()\r\nexport default socket","import { useState, useEffect } from \"react\";\r\n\r\nfunction useLocalStorage(key, initialValue) {\r\n    // State to store our value\r\n    // Pass initial state function to useState so logic is only executed once\r\n    const [storedValue, setStoredValue] = useState(() => {\r\n        if (typeof window === \"undefined\") {\r\n            return initialValue;\r\n        }\r\n        try {\r\n            // Get from local storage by key\r\n            const item = window.localStorage.getItem(key);\r\n            // Parse stored json or if none return initialValue\r\n            return item ? JSON.parse(item) : initialValue;\r\n        } catch (error) {\r\n            // If error also return initialValue\r\n            console.log(error);\r\n            return initialValue;\r\n        }\r\n    });\r\n    // Return a wrapped version of useState's setter function that ...\r\n    // ... persists the new value to localStorage.\r\n    const setValue = (value) => {\r\n        try {\r\n            // Allow value to be a function so we have same API as useState\r\n            const valueToStore =\r\n                value instanceof Function ? value(storedValue) : value;\r\n            // Save state\r\n            setStoredValue(valueToStore);\r\n            // Save to local storage\r\n            if (typeof window !== \"undefined\") {\r\n                window.localStorage.setItem(key, JSON.stringify(valueToStore));\r\n            }\r\n        } catch (error) {\r\n            // A more advanced implementation would handle the error case\r\n            console.log(error);\r\n        }\r\n    };\r\n    return [storedValue, setValue];\r\n}\r\n\r\nexport default useLocalStorage","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Typography, Divider, Select, InputLabel, MenuItem, FormControl, Switch, Container, IconButton, TextField, Fade } from '@material-ui/core'\r\n\r\n//icons \r\nimport { Close, SettingsInputAntenna } from '@material-ui/icons'\r\n\r\nimport socket from \"../../services/Socket\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    root: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        display: \"flex\",\r\n        justifySelf: \"flex-start\",\r\n        justifyContent: \"center\",\r\n        alignContent: \"flex-start\",\r\n        flexWrap: \"wrap\",\r\n        overflow: \"auto\",\r\n        \"&::-webkit-scrollbar\": {\r\n            width: 4,\r\n        },\r\n        \"&::-webkit-scrollbar-track\": {\r\n            boxShadow: `inset 0 0 6px rgba(0, 0, 0, 0.3)`,\r\n        },\r\n        \"&::-webkit-scrollbar-thumb\": {\r\n            backgroundColor: \"darkgrey\",\r\n            outline: `1px solid slategrey`,\r\n            backgroundClip: \"padding-box\",\r\n        },\r\n    },\r\n\r\n    header: {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n        alignContent: \"center\",\r\n        width: \"100%\",\r\n        height: \"75px\",\r\n        margin: \"0px 20px 10px 20px\",\r\n        backgroundColor: \"#424242\",\r\n        paddingTop: \"0px\",\r\n        position: \"sticky\",\r\n        top: 0,\r\n        zIndex: 3,\r\n    },\r\n\r\n    closeButton: {\r\n        width: \"40px\",\r\n        height: \"40px\",\r\n        alignSelf: \"center\",\r\n        justifySelf: \"flex-end\",\r\n        marginRight: \"0px\",\r\n    },\r\n\r\n    body: {\r\n        width: \"95%\",\r\n        alignSelf: \"center\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignContent: \"flex-start\",\r\n        justifyContent: \"flex-start\",\r\n        overflowY: \"auto\",\r\n    },\r\n\r\n    section: {\r\n        width: \"98%\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        alignSelf: \"center\",\r\n        marginBottom: \"10px\",\r\n    },\r\n\r\n    sectionHeader: {\r\n        marginBottom: \"8px\",\r\n        fontSize: \"1.5rem\",\r\n    },\r\n\r\n    variable: {\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        marginBottom: \"10px\",\r\n    },\r\n\r\n    variableName: {\r\n        fontSize: \"1.2rem\",\r\n        flexGrow: 1,\r\n    },\r\n\r\n    descriptor: {\r\n        width: \"75%\",\r\n    },\r\n\r\n    selector: {\r\n        width: \"25%\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifySelf: \"flex-end\",\r\n        flexGrow: 1,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n    }\r\n\r\n}))\r\n\r\nfunction ConfigItem(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const config = props.config;\r\n    const updateConfig = props.updateConfig\r\n    const section = props.section\r\n\r\n    const key = props.itemKey;\r\n    const data = props.data;\r\n\r\n    const [value, setValue] = useState(data.value);\r\n    const [saving, setSaving] = useState(false);\r\n\r\n    function generateInteraction() {\r\n        if (data.attrs === undefined) {\r\n            data.attrs = [];\r\n        }\r\n        switch (data.type) {\r\n            case \"bool\":\r\n\r\n                function toggle(event) {\r\n                    setValue(event.target.checked);\r\n                    config[section].settings[key].value = event.target.checked;\r\n                    updateConfig({ ...config })\r\n                }\r\n\r\n                return (\r\n                    <Switch color=\"primary\" checked={value} onClick={toggle} disabled={data.attrs.includes(\"locked\")} />\r\n                )\r\n\r\n            case \"list_selection\":\r\n                return (\r\n                    <FormControl style={{ width: \"100%\" }}>\r\n                        <InputLabel id={key} style={{ width: \"100%\", }}>{data.display}</InputLabel>\r\n                        <Select\r\n                            value={value}\r\n                            onChange={(event) => {\r\n                                setValue(event.target.value);\r\n                                config[section].settings[key].value = event.target.value;\r\n                                updateConfig({ ...config })\r\n                            }}\r\n                            disabled={data.attrs.includes(\"locked\")}\r\n                        >\r\n                            {data.options.map((option, index) => {\r\n                                return (\r\n                                    <MenuItem key={option} value={option}>{option}</MenuItem>\r\n                                )\r\n                            })}\r\n                        </Select>\r\n                    </FormControl>\r\n                )\r\n\r\n            case \"string\":\r\n                return (\r\n                    <div className={classes.selector} style={{ width: \"35%\", marginLeft: \"2%\" }}>\r\n                        <TextField\r\n                            id={key}\r\n                            label={data.display}\r\n                            defaultValue={data.value}\r\n                            disabled={data.attrs.includes(\"locked\")}\r\n                            onChange={(event) => {\r\n                                setValue(event.target.value);\r\n                                config[section].settings[key].value = event.target.value;\r\n                                updateConfig({ ...config })\r\n                            }}\r\n                            variant=\"standard\"\r\n                            style={{ width: \"100%\", }}\r\n                        />\r\n                    </div>\r\n                )\r\n\r\n            default:\r\n                return (null)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.variable}>\r\n            <div className={classes.descriptor}>\r\n                <Typography variant=\"subtitle1\" className={classes.variableName} style={{ height: (data.description !== undefined ? \"auto\" : \"100%\"), lineHeight: 1.5, margin: \"auto\", marginBottom: \"5px\" }}>{data.display !== undefined ? data.display : key}</Typography>\r\n\r\n                {data.description !== undefined ?\r\n                    <Typography variant=\"body1\" style={{ marginLeft: \"20px\", }}>{data.description}</Typography>\r\n                    : null\r\n                }\r\n            </div>\r\n            <div className={classes.selector}>\r\n                {generateInteraction()}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nfunction Config(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [config, updateConfig] = useState(null);\r\n    const [saving, setSaving] = useState(false);\r\n\r\n    useEffect(() => {\r\n        fetchConfig();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        console.log(config)\r\n        setSaving(false);\r\n    }, [config])\r\n\r\n    useEffect(() => {\r\n        if(props.saveTrigger === true){\r\n            saveAndClose()\r\n        }\r\n    }, [props.saveTrigger])\r\n\r\n    function fetchConfig() {\r\n        function callback(response) {\r\n            console.log(response)\r\n            updateConfig(response);\r\n        }\r\n        socket.request({ \"request\": \"fetch_config\" }, callback);\r\n    }\r\n\r\n    function generateSection(section, sectionData) {\r\n        return (\r\n            <Fade in>\r\n                <div className={classes.section}>\r\n                    <Typography variant=\"h6\" className={classes.sectionHeader}>{sectionData.display}</Typography>\r\n\r\n                    {Object.keys(sectionData.settings).map(key => {\r\n                        var data = sectionData.settings[key]\r\n                        return (<ConfigItem key={key} itemKey={key} data={data} config={config} updateConfig={updateConfig} section={section} />);\r\n                    })}\r\n\r\n                    <Divider style={{ margin: \"10px 10px\" }} />\r\n                </div>\r\n            </Fade>\r\n        )\r\n    }\r\n\r\n    function generateVisuals() {\r\n        return (\r\n            <Container maxWidth=\"xl\" className={classes.body}>\r\n                {Object.keys(config).map(section => {\r\n                    var sectionData = config[section];\r\n                    return generateSection(section, sectionData);\r\n                })}\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    function saveAndClose() {\r\n        console.log(\"saving\")\r\n        setSaving(true);\r\n        socket.request({ \"request\": \"update_config\", \"args\": { \"new_config\": config } }, () => {\r\n            props.close(false)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            {props.showHeader ?\r\n                <div className={classes.header}>\r\n                    <Typography variant=\"h4\" style={{ color: theme.palette.primary.light, fontSize: \"2.2rem\", flexGrow: 1, margin: \"auto\" }}>Settings</Typography>\r\n                    <IconButton\r\n                        aria-label=\"randomize\"\r\n                        aria-controls=\"menu-appbar\"\r\n                        aria-haspopup=\"true\"\r\n                        edge=\"end\"\r\n                        color=\"inherit\"\r\n                        className={classes.closeButton}\r\n                        onClick={saveAndClose}\r\n                        disabled={config === null || saving}\r\n                    >\r\n                        <Close />\r\n                    </IconButton>\r\n                </div>\r\n                : null}\r\n\r\n            {config !== null ? generateVisuals() : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Config;","import { React, useEffect, useState, forwardRef } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Paper, Dialog, Slide, Divider, Select, InputLabel, MenuItem, FormControl } from '@material-ui/core'\r\n\r\n//icons \r\nimport { Theaters, TheatersOutlined, Palette, Loyalty, LoyaltyOutlined, PaletteOutlined, PlayArrowOutlined, StopOutlined } from '@material-ui/icons'\r\n\r\nimport Config from \"./Config.js\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    backdrop: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n    mainPaper: {\r\n        margin: \"auto\",\r\n        width: \"40%\",\r\n        height: \"70vh\",\r\n        minWidth: \"450px\",\r\n        maxWidth: \"600px\",\r\n\r\n        display: \"flex\",\r\n        justifySelf: \"flex-start\",\r\n        justifyContent: \"center\",\r\n        alignContent: \"flex-start\",\r\n        flexWrap: \"wrap\",\r\n        overflow: \"auto\",\r\n    },\r\n\r\n}))\r\n\r\nconst Transition = forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nfunction BackdroppedConfig(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    return (\r\n        <Dialog fullScreen open={props.open} TransitionComponent={Transition} onClose={props.handleClose}>\r\n            <Config close={props.close} showHeader/>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default BackdroppedConfig;","import { useState, useEffect } from 'react';\r\nimport useEventListener from '@use-it/event-listener'\r\n\r\nexport default function useKeyboardListener() {\r\n    const [keysDown, setKeysDown] = useState([])\r\n\r\n    useEventListener(\"keydown\", ({ key }) => {\r\n        var k = String(key)\r\n        if(!keysDown.includes(k)){\r\n            setKeysDown([...keysDown, k])\r\n        }\r\n    })\r\n    useEventListener(\"keyup\", ({ key }) => {\r\n        var k = String(key)\r\n        setKeysDown(keysDown.filter(k2 => k2 !== k))\r\n    })\r\n\r\n    return [keysDown];\r\n} ","import React, { useEffect } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Grid, Grow, Typography, Toolbar, IconButton, Slide, Paper, Tooltip } from '@material-ui/core'\r\n\r\n//icons\r\nimport { Settings, Shuffle, Autorenew, SportsEsports } from '@material-ui/icons';\r\n\r\nimport BackdroppedConfig from \"../config/BackdroppedConfig.js\"\r\n\r\nimport socket from \"../../services/Socket\";\r\nimport useKeyboardListener from '../../services/useKeyboardListener.js';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    \"@global\": {\r\n        \"@keyframes spin\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    appBar: {\r\n        margin: \"12px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        height: \"50px\",\r\n        zIndex: 2,\r\n        backgroundColor: \"rgba(0, 0, 0, 0)\",\r\n        border: \"0px rgb(255,255,255) solid\",\r\n    },\r\n\r\n    statusBar: {\r\n        alignSelf: \"center\",\r\n        justifySelf: \"center\",\r\n        display: \"flex\",\r\n        marginRight: theme.spacing(1),\r\n        flexGrow: 1,\r\n    },\r\n\r\n    inGameIndicator: {\r\n        alignSelf: \"center\",\r\n        color: \"#9de069\",\r\n    },\r\n\r\n    action: {\r\n        width: \"40px\",\r\n        height: \"40px\",\r\n        margin: theme.spacing(.25),\r\n    },\r\n\r\n    loading: {\r\n        animation: \"spin 4s linear infinite\",\r\n    },\r\n\r\n}));\r\n\r\n\r\nfunction Header(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [randomizing, setRandomizing] = React.useState(false);\r\n    const [inGame, setInGame] = React.useState(false);\r\n\r\n    const [openSettings, setOpenSettings] = React.useState(false);\r\n    const [keysDown] = useKeyboardListener();\r\n\r\n    useEffect(() => {\r\n        function ingameCallback(response){\r\n            setInGame(response.state)\r\n        }\r\n        socket.subscribe(\"game_state\",ingameCallback)\r\n        socket.send({\"request\": \"force_update_game_state\"})\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (String(keysDown) === \"r\"){\r\n            randomize();\r\n        }\r\n    }, [keysDown])\r\n\r\n    async function randomize() {\r\n        setRandomizing(true);\r\n        function callback(response) {\r\n            setRandomizing(false);\r\n        }\r\n        \r\n        socket.request({ \"request\": \"randomize_skins\" }, callback);\r\n    }\r\n    \r\n\r\n    return (\r\n        <>\r\n            <BackdroppedConfig open={openSettings} close={setOpenSettings}/>\r\n            <Slide direction=\"down\" in>\r\n                <Paper variant=\"outlined\" className={classes.appBar} position=\"static\">\r\n                    <Toolbar style={{height: \"100%\", width: \"100%\",}}>\r\n\r\n                        <Typography variant=\"h5\" style={{ flexGrow: 0, marginRight: theme.spacing(2) }}>\r\n                            VIM\r\n                        </Typography>\r\n\r\n                        <div className={classes.statusBar}>\r\n                            <Grow in={inGame}>\r\n                                <Tooltip title=\"In game\">\r\n                                    <SportsEsports className={classes.inGameIndicator} />\r\n                                </Tooltip>\r\n                            </Grow>\r\n                        </div>\r\n\r\n                        <div className={classes.actions}>\r\n\r\n                            {/* shuffle */}\r\n                            <IconButton\r\n                                aria-label=\"randomize\"\r\n                                aria-controls=\"menu-appbar\"\r\n                                aria-haspopup=\"true\"\r\n                                edge=\"end\"\r\n                                onClick={randomizing ? null : randomize}\r\n                                color=\"inherit\"\r\n                                className={classes.action}\r\n                                size=\"medium\"\r\n                            >\r\n                                {randomizing ? <Autorenew className={classes.loading} /> : <Shuffle />}\r\n                            </IconButton>\r\n\r\n                            {/* settings */}\r\n                            <IconButton\r\n                                aria-label=\"settings button lol\"\r\n                                aria-controls=\"menu-appbar\"\r\n                                aria-haspopup=\"true\"\r\n                                edge=\"end\"\r\n                                // onClick={}\r\n                                color=\"inherit\"\r\n                                className={classes.action}\r\n                                onClick={() => setOpenSettings(true)}\r\n                            >\r\n                                <Settings/>\r\n                            </IconButton>\r\n\r\n                        </div>\r\n                    </Toolbar>\r\n                </Paper>\r\n            </Slide>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Header","import React, { useEffect } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Grid, Grow, Typography, Toolbar, IconButton, Slide, Paper, Tooltip } from '@material-ui/core'\r\n\r\n//icons\r\nimport { Settings, Shuffle, Autorenew, SportsEsports } from '@material-ui/icons';\r\n\r\nimport socket from \"../../services/Socket\";\r\nimport { Config, ServerVersion } from \"../../services/ClientConfig\"\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    footer: {\r\n        alignSelf: \"flex-end\",\r\n        justifySelf: \"flex-end\",\r\n        height: \"50px\",\r\n        width: \"100%\",\r\n        padding: \"10px\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n    },\r\n\r\n    versionText: {\r\n        alignSelf: \"flex-end\",\r\n        width: \"50%\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-end\",\r\n        alignItems: \"center\",\r\n        flexGrow: 1,\r\n        opacity: .5,\r\n    }\r\n\r\n}));\r\n\r\n\r\nfunction Footer(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className={classes.footer}>\r\n                <div className={classes.versionText}>\r\n                    <Typography variant=\"subtitle2\">\r\n                        client v{Config.FRONTEND_VERSION} / companion v{ServerVersion}\r\n                    </Typography>\r\n                </div>\r\n\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Footer","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Tooltip, Container, Typography, Toolbar, IconButton, Slide, AppBar } from '@material-ui/core';\r\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n\r\n}));\r\n\r\n\r\nfunction LevelSelector(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const selectedChromaIndex = props.selectedChromaIndex;\r\n    const maxLevel = Object.keys(props.levelData).length.toString();\r\n\r\n    const [selectedLevel, setSelectedLevel] = useState(props.selectedLevelIndex.toString());\r\n\r\n    function handleLevelChange(event, newLevel) {\r\n        if (newLevel !== null) {\r\n            setSelectedLevel(newLevel);\r\n            var levelData = Object.values(props.levelData)[newLevel - 1]\r\n            props.setter(levelData)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (selectedChromaIndex !== 1 && selectedLevel !== maxLevel) {\r\n            setSelectedLevel(maxLevel);\r\n            var levelData = Object.values(props.levelData)[maxLevel - 1]\r\n            props.setter(levelData)\r\n        }\r\n    }, [selectedChromaIndex])\r\n\r\n    useEffect(() => {\r\n        setSelectedLevel(props.selectedLevelIndex.toString())\r\n    }, [props.selectedLevelIndex])\r\n\r\n    if (maxLevel !== \"1\"){\r\n        return (\r\n            <div style={{ width: \"50%\", display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-start\", height: \"45px\", }}>\r\n\r\n                <ToggleButtonGroup\r\n                    value={selectedLevel}\r\n                    exclusive\r\n                    onChange={handleLevelChange}\r\n                    aria-label=\"chroma level\"\r\n                    style={{ width: \"90%\", height: \"95%\" }}\r\n                >\r\n                    {Object.keys(props.levelData).map(uuid => {\r\n                        var data = props.levelData[uuid]\r\n                        var index = data.index.toString();\r\n                        return (\r\n                            <Tooltip key={data.display_name} title={data.level_type} disabled={!data.unlocked || (!(selectedChromaIndex === 1 && index !== 1) && index !== maxLevel)} arrow>\r\n                                <ToggleButton selected={selectedLevel === index} value={index} aria-label={data.index} style={{ border: (data.favorite ? `1px #996D2D solid` : null) }}>\r\n                                    {data.shorthand_display_name}\r\n                                </ToggleButton>\r\n                            </Tooltip>\r\n                        )\r\n                    })}\r\n\r\n                </ToggleButtonGroup>\r\n\r\n            </div>\r\n        )\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\nexport default LevelSelector","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Tooltip, Container, Typography, Toolbar, IconButton, Slide, AppBar } from '@material-ui/core';\r\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n}));\r\n\r\n\r\nfunction ChromaSelector(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    const selectedLevelIndex = props.selectedLevelIndex;\r\n    const maxChroma = Object.keys(props.chromaData).length.toString();\r\n    const maxLevel = Object.keys(props.levelData).length.toString();\r\n\r\n    const [selectedChromaIndex, setSelectedChroma] = useState(props.selectedChromaIndex.toString())\r\n\r\n    function handleChromaChange(event, newLevel) {\r\n        if (newLevel !== null) {\r\n            setSelectedChroma(newLevel);\r\n            var chromaData = Object.values(props.chromaData)[newLevel - 1]\r\n            props.setter(chromaData)\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        setSelectedChroma(props.selectedChromaIndex.toString())\r\n    }, [props.selectedChromaIndex])\r\n\r\n    if (maxChroma !== \"1\"){\r\n        return (\r\n            <div style={{ flexGrow: 1, width: \"50%\", display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-end\", height: \"45px\", }}>\r\n                <ToggleButtonGroup\r\n                    value={selectedChromaIndex}\r\n                    exclusive\r\n                    onChange={handleChromaChange}\r\n                    aria-label=\"skin level\"\r\n                    style={{ width: \"90%\", height: \"95%\", justifyContent: \"flex-end\", marginLeft: 0 }}\r\n                >\r\n    \r\n                    {Object.keys(props.chromaData).map(uuid => {\r\n                        var data = props.chromaData[uuid]\r\n                        var index = data.index.toString()\r\n                        if (data.swatch_icon !== null) {\r\n                            return (\r\n                                <Tooltip key={data.display_name} title={data.unlocked ? (data.favorite ? `Favorited - ${data.display_name}` : data.display_name) : `${data.display_name} (Locked)`} disabled={!data.unlocked} arrow>\r\n                                    <ToggleButton selected={selectedChromaIndex === index} value={index} aria-label={data.index} style={{ border: (data.favorite ? `1px #996D2D solid` : null) }}>\r\n                                        <img alt={data.display_name} src={data.swatch_icon} style={{ width: \"25px\", height: \"auto\", filter: !data.unlocked ? \"grayscale(90%)\" : \"\" }} />\r\n                                    </ToggleButton>\r\n                                </Tooltip>\r\n                            )\r\n                        } else {\r\n                            return null\r\n                        }\r\n                    })}\r\n                </ToggleButtonGroup>\r\n            </div>\r\n        )\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\nexport default ChromaSelector;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Paper, Typography, Box, CircularProgress } from '@material-ui/core'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    weaponPaper: {\r\n        width: \"100%\",\r\n        height: \"75px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        transition: \"0.1s ease-out !important\",\r\n        \"&:hover\": {\r\n            border: `1px ${theme.palette.primary.main} solid`,\r\n        },\r\n    },\r\n\r\n    container: {\r\n        width: \"93%\",\r\n        height: \"90%\",\r\n        display: \"flex\",\r\n    },\r\n\r\n    tierImage: {\r\n        height: \"25px\",\r\n        alignSelf: \"flex-end\",\r\n        margin: \"3px 3px\",\r\n        position: \"relative\",\r\n        bottom: \"-2px\",\r\n        objectFit: \"contain\",\r\n        objectPosition: \"left center\",\r\n    },\r\n\r\n    favoriteButton: {\r\n        alignSelf: \"flex-end\",\r\n        right: \"2px\",\r\n        height: \"25px\",\r\n        objectPosition: \"center center\"\r\n    }\r\n\r\n}));\r\n\r\nfunction Weapon(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const skinData = props.skinData;\r\n    const weaponData = props.weaponData;\r\n    const isMelee = weaponData.uuid === \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\"\r\n\r\n    const isFavorite = props.skinData.favorite\r\n\r\n    const [isselected, setIsselected] = useState(skinData.uuid === props.selected.uuid);\r\n    const [isHovered, setIsHovered] = useState(false);\r\n\r\n    function equip() {\r\n        props.equip(skinData.uuid);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (props.selected.uuid === skinData.uuid) {\r\n            setIsselected(true);\r\n        } else {\r\n            setIsselected(false);\r\n        }\r\n    }, [props.selected]);\r\n\r\n    return (\r\n        <Paper\r\n            variant=\"outlined\"\r\n            className={classes.weaponPaper}\r\n            onClick={equip}\r\n            style={{\r\n                border: ((isFavorite && !isHovered) ? `1px ${theme.palette.warning.light} solid` : (isselected ? `1px ${theme.palette.primary.light} solid` : null)),\r\n            }}\r\n            onMouseEnter={() => setIsHovered(true)}\r\n            onMouseLeave={() => setIsHovered(false)}\r\n        >\r\n            <div className={classes.container} style={{\r\n                backgroundImage: `url(${skinData.display_icon})`,\r\n                backgroundSize: !isMelee ? \"contain\" : \"auto 87%\",\r\n                backgroundRepeat: \"no-repeat\",\r\n                backgroundPosition: \"50% 50%\",\r\n\r\n                flexDirection: isMelee ? \"column\" : \"row\",\r\n                justifyContent: isMelee ? \"flex-end\" : null,\r\n            }}>\r\n\r\n                {/* <Box position=\"relative\" display=\"inline-flex\">\r\n                    <CircularProgress variant=\"determinate\" value={100} />\r\n                    <Box\r\n                        top={0}\r\n                        left={0}\r\n                        bottom={0}\r\n                        right={0}\r\n                        position=\"absolute\"\r\n                        display=\"flex\"\r\n                        alignItems=\"center\"\r\n                        justifyContent=\"center\"\r\n                    >\r\n                        <Typography variant=\"caption\" component=\"div\" color=\"textSecondary\">{`${Math.round(\r\n                            props.value,\r\n                        )}%`}</Typography>\r\n                        <img component=\"div\" src={skinData.content_tier.display_icon} alt=\"tier\" style={{ height: \"100%\", objectFit: \"contain\", }} />\r\n                    </Box>\r\n                </Box> */}\r\n\r\n                <img alt={skinData.content_tier.display_name} src={skinData.content_tier.display_icon} className={classes.tierImage} style={{ left: !isMelee ? \"-6px\" : \"6px\" }} />\r\n\r\n            </div>\r\n        </Paper>\r\n    )\r\n\r\n}\r\n\r\nexport default Weapon;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Typography, Tooltip, IconButton, Grow, Divider } from '@material-ui/core'\r\n\r\n//icons\r\nimport { Close, Autorenew, LockOpen, Lock, Favorite, FavoriteBorder, FitnessCenter, } from '@material-ui/icons'\r\n\r\nimport { Config } from \"../../../services/ClientConfig\"\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \"@global\": {\r\n        \"@keyframes spin\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    header: {\r\n        width: \"auto\",\r\n        display: \"flex\",\r\n        marginTop: \"15px\",\r\n        flexWrap: \"wrap\",\r\n        flexDirection: \"row-reverse\"\r\n    },\r\n\r\n    headerButton: {\r\n        marginLeft: theme.spacing(.25),\r\n        marginRight: theme.spacing(.25),\r\n    },\r\n\r\n    loading: {\r\n        animation: \"spin 4s linear infinite\",\r\n    }\r\n\r\n}))\r\n\r\nfunction WeaponHeader(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const selectedSkinData = props.selectedSkinData;\r\n    const inventoryWeaponData = props.inventoryWeaponData;\r\n\r\n    const saving = props.saving;\r\n    const saveCallback = props.saveCallback;\r\n\r\n    const favorite = props.isFavorite\r\n    const favoriteCallback = props.favoriteCallback;\r\n    \r\n    const locked = props.isLocked\r\n    const lockCallback = props.lockCallback;\r\n\r\n    const weightCallback = props.weightCallback;\r\n\r\n    return (\r\n        <div className={classes.header}>\r\n            <div style={{ display: \"flex\", \"order\": 2, flexGrow: 1 }}>\r\n                <div style={{ width: \"auto\", alignSelf: \"center\" }}>\r\n                    {selectedSkinData.content_tier.dev_name !== \"Standard\" ? \r\n                    <img alt={selectedSkinData.content_tier.dev_name} src={selectedSkinData.content_tier.display_icon} style={{ width: \"auto\", height: \"40px\", justifySelf: \"center\", marginRight: \"10px\" }} />\r\n                    : null}\r\n                </div>\r\n\r\n                <div>\r\n                    <Typography variant=\"h5\">\r\n                        {selectedSkinData.display_name}\r\n                    </Typography>\r\n                    <Typography variant=\"overline\">\r\n                        {selectedSkinData.content_tier.dev_name !== \"Battlepass\" ? selectedSkinData.content_tier.dev_name : \"Unlockable\"} {inventoryWeaponData.display_name} {selectedSkinData.favorite ? `// ${Math.round((selectedSkinData.weight/inventoryWeaponData.total_weights)*100)}% CHANCE (${selectedSkinData.weight}/${inventoryWeaponData.total_weights})` : null}\r\n                    </Typography>\r\n                </div>\r\n            </div>\r\n\r\n            <div style={{ flexGrow: 1, display: \"flex\", justifyContent: \"flex-end\" }}>\r\n\r\n                <Grow in={favorite} mountOnEnter unmountOnExit>\r\n                    <Tooltip title=\"Set randomizer weight\" className={classes.headerButton}>\r\n                        <IconButton onClick={() => {weightCallback(true)}} style={{ height: \"40px\", width: \"40px\" }}>\r\n                            <FitnessCenter />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                </Grow>\r\n\r\n                <Tooltip title={favorite ? \"Remove skin from favorites\" : \"Add skin to favorites\"} className={classes.headerButton}>\r\n                    <IconButton onClick={favoriteCallback} style={{ height: \"40px\", width: \"40px\" }}>\r\n                        {favorite ? <Favorite /> : <FavoriteBorder />}\r\n                    </IconButton>\r\n                </Tooltip>\r\n\r\n                <Divider orientation=\"vertical\" variant=\"middle\" style={{height: \"40px\", marginLeft: \"10px\", marginRight: \"10px\"}} />\r\n\r\n                <Tooltip title={locked ? \"Unlock weapon from randomization\" : \"Lock weapon from randomization\"} className={classes.headerButton}>\r\n                    <IconButton onClick={lockCallback} style={{ height: \"40px\", width: \"40px\" }}>\r\n                        {locked ? <Lock /> : <LockOpen />}\r\n                    </IconButton>\r\n                </Tooltip>\r\n\r\n                <Tooltip title=\"Save\" className={classes.headerButton}>\r\n                    <IconButton onClick={saveCallback} style={{ height: \"40px\", width: \"40px\" }}>\r\n                        {saving ? <Autorenew className={classes.loading} /> : <Close />}\r\n                    </IconButton>\r\n                </Tooltip>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WeaponHeader;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Paper, Tooltip, CircularProgress, IconButton, Zoom, Grow } from '@material-ui/core'\r\n\r\n//icons \r\nimport { Theaters, TheatersOutlined, Palette, Loyalty, LoyaltyOutlined, PaletteOutlined, PlayArrowOutlined, StopOutlined } from '@material-ui/icons'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    selectedActions: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        marginTop: \"10px\",\r\n        marginLeft: \"10px\",\r\n        padding: \"2px\",\r\n        transition: \"all .2s ease !important\",\r\n    },\r\n\r\n    previewAction: {\r\n        height: \"35px\",\r\n        width: \"35px\",\r\n        alignSelf: \"center\",\r\n        margin: theme.spacing(.25),\r\n        transition: \"all .2s ease !important\",\r\n    },\r\n\r\n    previewActionIcon: {\r\n        width: \"20px\",\r\n        height: \"20px\",\r\n    },\r\n\r\n}))\r\n\r\nfunction ActionsDrawer(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const hasAlternateMedia = props.hasAlternateMedia\r\n    const showingVideo = props.showingVideo\r\n    const changeVideoState = props.changeVideoStateCallback\r\n\r\n    const showingControls = props.showingControls \r\n    const changeControlsState = props.changeControlsStateCallback\r\n\r\n    const levelFavorited = props.isFavoriteLevel\r\n    const chromaFavorited = props.isFavoriteChroma\r\n    const toggleFavoriteLevelCallback = props.toggleFavoriteLevelCallback\r\n    const toggleFavoriteChromaCallback = props.toggleFavoriteChromaCallback\r\n    const canFavoriteLevel = props.canFavoriteLevel\r\n    const canFavoriteChroma = props.canFavoriteChroma\r\n\r\n    const visible = (hasAlternateMedia || canFavoriteLevel || canFavoriteChroma)\r\n\r\n    return (\r\n        <>\r\n            <Grow in={visible} mountOnEnter unmountOnExit>\r\n                <Paper variant=\"outlined\" outlinecolor=\"secondary\" className={classes.selectedActions}>\r\n\r\n                    <Zoom in={canFavoriteLevel} mountOnEnter unmountOnExit>\r\n                        <Tooltip title={levelFavorited ? \"Remove level from favorites\" : \"Add level to favorites\"}>\r\n                            <IconButton onClick={() => {toggleFavoriteLevelCallback()}} aria-label=\"favorite level\" className={classes.previewAction}>\r\n                                {levelFavorited ? <Loyalty className={classes.previewActionIcon} /> : <LoyaltyOutlined className={classes.previewActionIcon} />}\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </Zoom>\r\n\r\n                    <Zoom in={canFavoriteChroma} mountOnEnter unmountOnExit>\r\n                        <Tooltip title={chromaFavorited ? \"Remove chroma from favorites\" : \"Add chroma to favorites\"}>\r\n                            <IconButton onClick={() => {toggleFavoriteChromaCallback()}} aria-label=\"favorite chroma\" className={classes.previewAction}>\r\n                                {chromaFavorited ? <Palette className={classes.previewActionIcon} /> : <PaletteOutlined className={classes.previewActionIcon} />}\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </Zoom>\r\n\r\n                    <Zoom in={hasAlternateMedia} mountOnEnter unmountOnExit>\r\n                        <Tooltip title={showingVideo ? \"Stop video preview\" : \"Play video preview\"}>\r\n                            <IconButton onClick={() => { changeVideoState(!showingVideo) }} aria-label=\"preview\" className={classes.previewAction}>\r\n                                {showingVideo ? <StopOutlined className={classes.previewActionIcon} /> : <PlayArrowOutlined className={classes.previewActionIcon} />}\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </Zoom>\r\n\r\n                    <Zoom in={showingVideo} mountOnEnter unmountOnExit>\r\n                        <Tooltip title={showingControls ? \"Hide video controls\" : \"Show video controls\"}>\r\n                            <IconButton onClick={() => { changeControlsState(!showingControls) }} aria-label=\"preview\" className={classes.previewAction}>\r\n                                {showingControls ? <Theaters className={classes.previewActionIcon} /> : <TheatersOutlined className={classes.previewActionIcon} />}\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </Zoom>\r\n\r\n                </Paper>\r\n            </Grow>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ActionsDrawer;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button, Slider } from '@material-ui/core'\r\n\r\n\r\nimport { Config } from '../../../services/ClientConfig';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \"@global\": {\r\n        \"@keyframes spin\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    content: {\r\n        margin: \"0px 10px 0px 10px\"\r\n    }\r\n\r\n}))\r\n\r\nfunction WeightDialog(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [weight, setWeight] = useState(0);\r\n\r\n    const startTotalMinusThis = props.totalWeights - props.weight\r\n    const [total, setTotal] = useState(startTotalMinusThis);\r\n\r\n    useEffect(() => {\r\n        if (props.open) {\r\n            setWeight(props.weight)\r\n            setTotal(startTotalMinusThis + weight);\r\n        }\r\n    }, [props.open])\r\n\r\n    useEffect(() => {\r\n        setTotal(startTotalMinusThis + weight);\r\n    }, [weight])\r\n\r\n    useEffect(() => {\r\n        setWeight(props.weight)\r\n    }, [props.weight])\r\n\r\n    function cancel() {\r\n        props.close(false)\r\n        setWeight(props.weight)\r\n    }\r\n\r\n    function save() {\r\n        props.saveCallback(weight, total)\r\n    }\r\n\r\n    return (\r\n        <Dialog open={props.open} fullWidth maxWidth=\"xs\" onClose={cancel}>\r\n            <DialogTitle>Randomizer Weight</DialogTitle>\r\n            <DialogContent className={classes.content}>\r\n                <DialogContentText style={{ marginBottom: \"20px\", }}>\r\n                    Weights are relative, so there is a <strong>{Math.round((weight / total) * 100)}%</strong> chance this skin will be selected.\r\n                </DialogContentText>\r\n                <Slider\r\n                    valueLabelDisplay=\"auto\"\r\n                    step={1}\r\n                    marks\r\n                    min={1}\r\n                    max={Config.WEIGHT_INTERVALS}\r\n                    value={weight}\r\n                    onChange={(e, value) => setWeight(value)}\r\n                />\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button color=\"primary\" onClick={cancel}>\r\n                    Cancel\r\n                </Button>\r\n                <Button color=\"primary\" onClick={save}>\r\n                    Save\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default WeightDialog;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Grow, Backdrop, Paper, Grid, Container, Divider, IconButton, Tooltip, ClickAwayListener } from '@material-ui/core';\r\n\r\nimport LevelSelector from './sub/LevelSelector.js';\r\nimport ChromaSelector from './sub/ChromaSelector.js';\r\nimport Weapon from './sub/SkinGridItem.js';\r\nimport WeaponHeader from './sub/WeaponHeader.js';\r\nimport ActionsDrawer from './sub/ActionsDrawer.js';\r\nimport WeightDialog from './sub/WeightDialog.js'\r\n\r\nimport useKeyboardListener from '../../services/useKeyboardListener.js'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    backdrop: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n    mainPaper: {\r\n        margin: \"auto\",\r\n        width: \"100%\",\r\n        height: \"90vh\",\r\n        minWidth: \"400px\",\r\n        maxWidth: \"800px\",\r\n\r\n        display: \"flex\",\r\n        justifySelf: \"flex-start\",\r\n        justifyContent: \"center\",\r\n        alignContent: \"flex-start\",\r\n        flexWrap: \"wrap\",\r\n        overflow: \"auto\",\r\n        \"&::-webkit-scrollbar\": {\r\n            width: 4,\r\n        },\r\n        \"&::-webkit-scrollbar-track\": {\r\n            boxShadow: `inset 0 0 6px rgba(0, 0, 0, 0.3)`,\r\n        },\r\n        \"&::-webkit-scrollbar-thumb\": {\r\n            backgroundColor: \"darkgrey\",\r\n            outline: `1px solid slategrey`,\r\n            backgroundClip: \"padding-box\",\r\n        },\r\n    },\r\n\r\n\r\n    // stuff like skin name, weapon name, skin image\r\n    paperOnTopContent: {\r\n        width: \"93%\",\r\n        background: \"#424242\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        paddingBottom: \"5px\",\r\n        position: \"sticky\",\r\n        top: 0,\r\n        zIndex: 4,\r\n    },\r\n\r\n    mainSkinMedia: {\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        alignContent: \"center\",\r\n        justifyContent: \"center\",\r\n        marginTop: \"10px\",\r\n        maxHeight: \"350px\",\r\n        maxWidth: \"100%\",\r\n        overflowX: \"hidden\",\r\n        transition: \"all 0.5s ease-in-out\",\r\n    },\r\n\r\n    //container for subcomponents\r\n    paperCustomizingContent: {\r\n        width: \"93%\",\r\n        height: \"auto\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        overflowY: \"auto\",\r\n        alignItems: \"stretch\",\r\n        top: 0,\r\n    },\r\n\r\n    levelSelectors: {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        width: \"100%\",\r\n        flexGrow: 1,\r\n        transition: \"all .2s ease\",\r\n    },\r\n\r\n    skinSelector: {\r\n        marginBottom: \"15px\",\r\n        marginTop: \"15px\",\r\n        padding: \"2px 2px\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n\r\n\r\n}));\r\n\r\n\r\nfunction WeaponEditor(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const inventoryWeaponData = props.inventoryData[props.weaponUuid]\r\n    const skinsData = inventoryWeaponData.skins\r\n    const initSkinData = props.initialSkinData\r\n\r\n    //skin data states\r\n    const [selectedSkinData, setselectedSkinData] = useState(skinsData[initSkinData.skin_uuid]);\r\n    const [selectedLevelData, setselectedLevelData] = useState(skinsData[initSkinData.skin_uuid].levels[props.loadoutWeaponData.level_uuid])\r\n    const [selectedChromaData, setselectedChromaData] = useState(skinsData[initSkinData.skin_uuid].chromas[props.loadoutWeaponData.chroma_uuid])\r\n\r\n    //favorites states\r\n    const [isFavoriteSkin, setIsFavoriteSkin] = useState(skinsData[initSkinData.skin_uuid].favorite)\r\n    const [favoriteLevels, setFavoriteLevels] = useState();\r\n    const [favoriteChromas, setFavoriteChromas] = useState();\r\n\r\n    const [canFavoriteLevel, setCanFavoriteLevel] = useState(true)\r\n    const [canFavoriteChroma, setCanFavoriteChroma] = useState(true)\r\n\r\n    const [isFavoriteLevel, setIsFavoriteLevel] = useState(false);\r\n    const [isFavoriteChroma, setIsFavoriteChroma] = useState(false);\r\n\r\n    //locked states\r\n    const [isLocked, setIsLocked] = useState(inventoryWeaponData.locked);\r\n\r\n    //modal states\r\n    const [open, changeOpenState] = useState(true);\r\n    const [saving, setSaving] = useState(false);\r\n    const [hasUpgrades, setHasUpgrades] = useState(false);\r\n    const [hasWallpaper, setHasWallpaper] = useState(false);\r\n\r\n    //video states\r\n    const [showingVideo, changeVideoState] = useState(false);\r\n    const [hasAlternateMedia, changeAlternateMediaState] = useState(false);\r\n    const [showingControls, changeControlsState] = useState(false);\r\n\r\n    //weight dialog states\r\n    const [weightDialogOpen, setWeightDialogOpen] = useState(false);\r\n\r\n    //keyboard state\r\n    const [keysDown] = useKeyboardListener();\r\n\r\n\r\n    //effect listeners\r\n    useEffect(() => {\r\n        if (open) {\r\n            document.title = `VIM // ${inventoryWeaponData.display_name}`\r\n        }\r\n    }, [open])\r\n\r\n    // things that should update whenever skin, level, or chroma changes\r\n    useEffect(() => {\r\n        refresh();\r\n    }, [selectedSkinData, selectedLevelData, selectedChromaData])\r\n\r\n    // on initial open, update level/chroma selectors\r\n    useEffect(() => {\r\n        equipSkin(initSkinData.skin_uuid);\r\n        setselectedLevelData(skinsData[initSkinData.skin_uuid].levels[props.loadoutWeaponData.level_uuid])\r\n        setselectedChromaData(skinsData[initSkinData.skin_uuid].chromas[props.loadoutWeaponData.chroma_uuid])\r\n    }, [])\r\n\r\n\r\n    // keyboard listeners\r\n    useEffect(() => {\r\n        console.log(keysDown)\r\n\r\n        switch (keysDown.join(' ')){\r\n            case 'f':\r\n                toggleFavoritedSkin();\r\n                break;\r\n            \r\n            case 'l':\r\n                toggleLock();\r\n                break;\r\n\r\n            case 'Escape':\r\n                save();\r\n                break; \r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n    }, [keysDown])\r\n\r\n    // functions\r\n    function refresh() {\r\n        updateAlternateMedia();\r\n        refreshFavorited();\r\n        refreshFavoritedLevels();\r\n        refreshFavoritedChromas();\r\n    }\r\n\r\n    function save() {\r\n        //update if there were changes to favorites and stuff\r\n        setSaving(true);\r\n        var data = {\r\n            weaponUuid: props.weaponUuid,\r\n            skinUuid: selectedSkinData[\"uuid\"],\r\n            levelUuid: selectedLevelData[\"uuid\"],\r\n            chromaUuid: selectedChromaData[\"uuid\"],\r\n            inventoryData: inventoryWeaponData,\r\n            skinsData: skinsData,\r\n        }\r\n        var oldSkinId = initSkinData.skin_uuid\r\n        var oldChromaId = initSkinData.chroma_uuid\r\n        var oldLevelId = initSkinData.level_uuid\r\n        var sameSkin = selectedLevelData[\"uuid\"] === oldLevelId && selectedChromaData[\"uuid\"] === oldChromaId && selectedSkinData[\"uuid\"] === oldSkinId;\r\n\r\n        var payload = JSON.stringify(data);\r\n        props.saveCallback(payload, sameSkin)\r\n            .then(() => {\r\n                close();\r\n            });\r\n    }\r\n\r\n    function close() {\r\n        changeOpenState(false);\r\n        setTimeout(() => {\r\n            props.closeEditor();\r\n        }, 100)\r\n    }\r\n\r\n    function equipSkin(skinUuid) {\r\n        var skinData = skinsData[skinUuid];\r\n        var highestLevelIndex = 0;\r\n        var highestChromaIndex = 0;\r\n\r\n        for (var i = 0; i < Object.keys(skinData.levels).length; i++) {\r\n            if (skinData.levels[Object.keys(skinData.levels)[i]].unlocked === true) {\r\n                highestLevelIndex = skinData.levels[Object.keys(skinData.levels)[i]].index;\r\n            }\r\n        }\r\n        for (var j = 0; j < Object.keys(skinData.chromas).length; j++) {\r\n            if (skinData.chromas[Object.keys(skinData.chromas)[j]].unlocked === true) {\r\n                highestChromaIndex = skinData.chromas[Object.keys(skinData.chromas)[j]].index;\r\n            }\r\n        }\r\n\r\n        if (Object.keys(skinData.levels).length === 1 && Object.keys(skinData.chromas).length === 1) {\r\n            setHasUpgrades(false);\r\n        } else {\r\n            setHasUpgrades(true);\r\n        }\r\n\r\n        if (skinData.wallpaper !== null) {\r\n            setHasWallpaper(true);\r\n        } else {\r\n            setHasWallpaper(false);\r\n        }\r\n\r\n        setselectedSkinData(skinData);\r\n        setselectedLevelData(skinData.levels[Object.keys(skinData.levels)[highestLevelIndex - 1]]);\r\n        setselectedChromaData(skinData.chromas[Object.keys(skinData.chromas)[0]]);\r\n        changeVideoState(false);\r\n        changeControlsState(false);\r\n    }\r\n\r\n    // lock a weapon's skin so it can't be changed by randomizer\r\n    function toggleLock() {\r\n        setIsLocked(!inventoryWeaponData.locked);\r\n        inventoryWeaponData.locked = !inventoryWeaponData.locked;\r\n    }\r\n\r\n    //favorites system\r\n    //if a chroma is favorited, level 4 must also be favorited\r\n    //if a level is favorited, chroma 1 must also be favorited\r\n    function toggleFavoritedSkin() {\r\n        skinsData[selectedSkinData.uuid].favorite = !isFavoriteSkin;\r\n        if (!isFavoriteSkin) {\r\n            inventoryWeaponData.total_weights += selectedSkinData.weight;\r\n        } else {\r\n            inventoryWeaponData.total_weights -= selectedSkinData.weight;\r\n        }\r\n        setIsFavoriteSkin(!isFavoriteSkin);\r\n    }\r\n\r\n    function toggleFavoritedLevel(levelUuidOverride = null, stateOverride = null) {\r\n\r\n        var levelUuid\r\n        if (levelUuidOverride === null) {\r\n            levelUuid = selectedLevelData.uuid;\r\n        } else {\r\n            levelUuid = levelUuidOverride;\r\n        }\r\n\r\n        var currentlyFavoritedLevels = favoriteLevels;\r\n\r\n        var newState\r\n        if (stateOverride === null) {\r\n            newState = !currentlyFavoritedLevels.includes(selectedLevelData.uuid)\r\n        } else {\r\n            newState = stateOverride;\r\n        }\r\n\r\n        if (newState && !currentlyFavoritedLevels.includes(levelUuid)) {\r\n            currentlyFavoritedLevels.push(levelUuid);\r\n        } else if (!newState && currentlyFavoritedLevels.includes(levelUuid)) {\r\n            currentlyFavoritedLevels.splice(currentlyFavoritedLevels.indexOf(levelUuid), 1);\r\n        }\r\n\r\n        setIsFavoriteLevel(newState);\r\n        setFavoriteLevels(currentlyFavoritedLevels);\r\n        skinsData[selectedSkinData.uuid].levels[selectedLevelData.uuid].favorite = newState;\r\n    }\r\n\r\n    function toggleFavoritedChroma(chromaUuidOverride = null, stateOverride = null) {\r\n        var chromaUuid\r\n        if (chromaUuidOverride === null) {\r\n            chromaUuid = selectedChromaData.uuid;\r\n            console.log(chromaUuid)\r\n        } else {\r\n            chromaUuid = chromaUuidOverride;\r\n        }\r\n\r\n        var currentlyFavoritedChromas = favoriteChromas;\r\n\r\n        var newState\r\n        if (stateOverride === null) {\r\n            newState = !currentlyFavoritedChromas.includes(selectedChromaData.uuid)\r\n        } else {\r\n            newState = stateOverride\r\n        }\r\n\r\n        if (newState && !currentlyFavoritedChromas.includes(chromaUuid)) {\r\n            currentlyFavoritedChromas.push(chromaUuid);\r\n        } else if (!newState && currentlyFavoritedChromas.includes(chromaUuid)) {\r\n            currentlyFavoritedChromas.splice(currentlyFavoritedChromas.indexOf(chromaUuid), 1);\r\n        }\r\n\r\n        setIsFavoriteChroma(newState);\r\n        setFavoriteChromas(currentlyFavoritedChromas);\r\n        skinsData[selectedSkinData.uuid].chromas[chromaUuid].favorite = newState;\r\n    }\r\n\r\n    function refreshFavorited() {\r\n        setIsFavoriteSkin(selectedSkinData.favorite);\r\n    }\r\n\r\n    function refreshFavoritedLevels() {\r\n        var levels = selectedSkinData.levels;\r\n        var favLevels = [];\r\n        for (const level_uuid of Object.keys(levels)) {\r\n            var level = levels[level_uuid];\r\n            if (level.favorite) {\r\n                favLevels.push(level.uuid);\r\n            }\r\n        }\r\n        setFavoriteLevels(favLevels);\r\n\r\n        if (favLevels.includes(selectedLevelData.uuid)) {\r\n            setIsFavoriteLevel(true);\r\n        } else {\r\n            setIsFavoriteLevel(false);\r\n        }\r\n\r\n        // cant favorite stuff with only one level\r\n        if (Object.keys(levels).length === 1) {\r\n            setCanFavoriteLevel(false);\r\n        } else {\r\n            setCanFavoriteLevel(true);\r\n        }\r\n\r\n    }\r\n\r\n    function refreshFavoritedChromas() {\r\n        var chromas = selectedSkinData.chromas;\r\n        var favChromas = [];\r\n        for (const chroma_uuid of Object.keys(chromas)) {\r\n            var chroma = chromas[chroma_uuid];\r\n            if (chroma.favorite) {\r\n                favChromas.push(chroma.uuid);\r\n            }\r\n        }\r\n        setFavoriteChromas(favChromas)\r\n\r\n        if (favChromas.includes(selectedChromaData.uuid)) {\r\n            setIsFavoriteChroma(true);\r\n        } else {\r\n            setIsFavoriteChroma(false);\r\n        }\r\n\r\n        if (Object.keys(chromas).length === 1) {\r\n            setCanFavoriteChroma(false);\r\n        } else {\r\n            setCanFavoriteChroma(true);\r\n        }\r\n    }\r\n\r\n    // --------------------------------------------------\r\n\r\n    //skin media stuff\r\n    function updateAlternateMedia() {\r\n        changeAlternateMediaState(selectedChromaData.video_preview !== null || selectedLevelData.video_preview !== null)\r\n    }\r\n\r\n    function getSkinMedia() {\r\n        var showChromaVideo = false;\r\n        var showLevelImage = false;\r\n        if (selectedChromaData.video_preview !== null) {\r\n            showChromaVideo = true;\r\n        }\r\n        if (selectedChromaData.index === 1 && selectedLevelData.display_icon !== null && !(selectedSkinData.display_name.includes(\"Standard\"))) {\r\n            showLevelImage = true;\r\n        }\r\n        if (!showingVideo) {\r\n            return (\r\n                <Grow in>\r\n                    <img alt={selectedChromaData.display_name} src={showLevelImage ? selectedLevelData.display_icon : selectedChromaData.display_icon} style={{ maxWidth: \"90%\", maxHeight: \"85%\", objectFit: \"contain\", alignSelf: \"center\", overflow: \"hidden\" }} />\r\n                </Grow>\r\n            )\r\n        } else if (showingVideo && selectedLevelData.video_preview !== null) {\r\n            return (\r\n                <Grow in>\r\n                    <video src={showChromaVideo ? selectedChromaData.video_preview : selectedLevelData.video_preview} type=\"video/mp4\" controls={showingControls} autoPlay onEnded={() => { changeVideoState(false) }} style={{ width: \"auto\", height: \"100%\", overflow: \"hidden\", objectFit: \"contain\", flexGrow: 1, alignSelf: \"center\" }} />\r\n                </Grow>\r\n            )\r\n        } else {\r\n            changeVideoState(false);\r\n        }\r\n\r\n    }\r\n\r\n    function saveWeight(weight, total) {\r\n        setWeightDialogOpen(false);\r\n        selectedSkinData.weight = weight;\r\n        inventoryWeaponData.total_weights = total;\r\n        console.log(weight);\r\n    }\r\n\r\n\r\n    if (inventoryWeaponData == null && initSkinData == null) {\r\n\r\n        return (\r\n            null// TODO: THIS SHOULD RETURN SOME SORT OF ERROR\r\n        )\r\n\r\n    } else {\r\n\r\n        return (\r\n            <Backdrop open={open} className={classes.backdrop} style={{ zIndex: 4 }}>\r\n                <WeightDialog\r\n                    open={weightDialogOpen}\r\n                    close={setWeightDialogOpen}\r\n                    saveCallback={saveWeight}\r\n                    weight={selectedSkinData.weight}\r\n                    totalWeights={inventoryWeaponData.total_weights}\r\n                />\r\n                <Container maxWidth={\"lg\"}>\r\n                    <Paper className={classes.mainPaper} variant=\"outlined\">\r\n                        <div className={classes.paperOnTopContent}>\r\n\r\n                            <WeaponHeader\r\n                                selectedSkinData={selectedSkinData}\r\n                                inventoryWeaponData={inventoryWeaponData}\r\n                                saving={saving}\r\n                                saveCallback={save}\r\n                                isFavorite={isFavoriteSkin}\r\n                                favoriteCallback={toggleFavoritedSkin}\r\n                                isLocked={isLocked}\r\n                                lockCallback={toggleLock}\r\n                                weightCallback={setWeightDialogOpen}\r\n                            />\r\n\r\n                            <div style={{ width: \"100%\", display: \"flex\", flexDirection: \"row\" }}>\r\n\r\n                                <Paper\r\n                                    variant=\"outlined\"\r\n                                    outlinecolor=\"secondary\"\r\n                                    className={classes.mainSkinMedia}\r\n                                    style={{ height: (showingVideo ? \"35vh\" : \"125px\"), backgroundImage: (hasWallpaper ? `linear-gradient(90deg, rgba(66, 66, 66,.5) 0%, rgba(66, 66, 66,.5) 100%), url(${selectedSkinData.wallpaper})` : null), backgroundSize: \"cover\", backgroundPosition: \"center\", transition: \"background-image 0.5s ease, height 0.2s ease\" }}\r\n                                >\r\n                                    {getSkinMedia()}\r\n                                </Paper>\r\n\r\n                                <ActionsDrawer\r\n                                    hasAlternateMedia={hasAlternateMedia}\r\n                                    showingVideo={showingVideo}\r\n                                    changeVideoStateCallback={changeVideoState}\r\n                                    showingControls={showingControls}\r\n                                    changeControlsStateCallback={changeControlsState}\r\n                                    toggleFavoriteLevelCallback={toggleFavoritedLevel}\r\n                                    isFavoriteLevel={isFavoriteLevel}\r\n                                    toggleFavoriteChromaCallback={toggleFavoritedChroma}\r\n                                    isFavoriteChroma={isFavoriteChroma}\r\n                                    canFavoriteLevel={canFavoriteLevel}\r\n                                    canFavoriteChroma={canFavoriteChroma}\r\n                                />\r\n\r\n                            </div>\r\n\r\n                            <div className={classes.levelSelectors} style={{ marginTop: (hasUpgrades ? \"12px\" : \"0px\"), height: (hasUpgrades ? \"auto\" : \"0px\"), trainsition: \"height 0.5s ease\" }}>\r\n                                <Grid container spacing={0}>\r\n                                    <Grid item xs={12} sm={6} style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-start\" }}>\r\n                                        <LevelSelector levelData={selectedSkinData.levels} selectedLevelIndex={selectedLevelData.index} selectedChromaIndex={selectedChromaData.index} setter={setselectedLevelData} />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={6} style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-end\" }}>\r\n                                        <ChromaSelector levelData={selectedSkinData.levels} chromaData={selectedSkinData.chromas} selectedLevelIndex={selectedLevelData.index} selectedChromaIndex={selectedChromaData.index} setter={setselectedChromaData} />\r\n                                    </Grid>\r\n                                </Grid>\r\n\r\n                            </div>\r\n\r\n                            {hasUpgrades ? <Divider variant=\"middle\" style={{marginTop: \"10px\",}} /> : null}\r\n\r\n                            \r\n                        </div>\r\n\r\n                        <div className={classes.paperCustomizingContent} style={{ transition: \"all 0.5s ease\" }}>\r\n\r\n\r\n                            <div className={classes.skinSelector}>\r\n                                <Grid style={{ width: \"100%\", height: \"100%\", justifySelf: \"center\" }} container justifyContent=\"flex-start\" direction=\"row\" alignItems=\"center\" spacing={2}>\r\n\r\n                                    {Object.keys(skinsData).map(uuid => {\r\n                                        var data = skinsData[uuid];\r\n                                        return (\r\n                                            <Grid item key={data.display_name} xs={4}>\r\n                                                <Weapon skinData={data} weaponData={inventoryWeaponData} equip={equipSkin} selected={selectedSkinData} />\r\n                                            </Grid>\r\n                                        )\r\n                                    })}\r\n                                </Grid>\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n\r\n                    </Paper>\r\n                </Container>\r\n            </Backdrop>\r\n        )\r\n    }\r\n}\r\n\r\nexport default WeaponEditor","import { useState, useEffect } from 'react';\r\n\r\nfunction getWindowDimensions() {\r\n    const { innerWidth: width, innerHeight: height } = window;\r\n    return {\r\n        \"width\": width,\r\n        \"height\": height\r\n    };\r\n}\r\n\r\nexport default function useWindowDimensions() {\r\n    const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\r\n    useEffect(() => {\r\n        function handleResize() {\r\n            setWindowDimensions(getWindowDimensions());\r\n        }\r\n\r\n        window.addEventListener('resize', handleResize);\r\n        return () => window.removeEventListener('resize', handleResize);\r\n    }, []);\r\n\r\n    return [windowDimensions.width, windowDimensions.height];\r\n} ","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport useWindowDimensions from '../../../services/useWindowDimensions.js';\r\n\r\n//components\r\nimport { Grid, Grow, Typography, Paper, Fade, Collapse } from '@material-ui/core'\r\n\r\nconst stockImageSize = \"250px\";\r\n\r\nconst backup = { //unused backups which had true sizing instead of scaling with percentages\r\n    //fisrt num = base width, second num == number to add for larger width\r\n    \"29a0cfab-485b-f5d5-779a-b59f85e204a8\": [\"100px\", \"20px\"], //classic\r\n    \"42da8ccc-40d5-affc-beec-15aa47b42eda\": [\"130px\", \"30px\"], //shorty\r\n    \"44d4e95c-4157-0037-81b2-17841bf2e8e3\": [\"100px\", \"10px\"], //frenzy\r\n    \"1baa85b4-4c70-1284-64bb-6481dfc3bb4e\": [\"140px\", \"35px\"], //ghost\r\n    \"e336c6b8-418d-9340-d77f-7a9e4cfe0702\": [\"140px\", \"20px\"], //sheriff\r\n\r\n    \"f7e1b454-4ad4-1063-ec0a-159e56b58941\": [\"195px\", \"20px\"], //stinger\r\n    \"462080d1-4035-2937-7c09-27aa2a5c27a7\": [\"200px\", \"20px\"], //spectre\r\n\r\n    \"910be174-449b-c412-ab22-d0873436b21b\": [\"240px\", \"40px\"], //bucky\r\n    \"ec845bf4-4f79-ddda-a3da-0db3774b2794\": [\"240px\", \"30px\"], //judge\r\n\r\n    \"ae3de142-4d85-2547-dd26-4e90bed35cf7\": [\"240px\", \"20px\"], //bulldog\r\n    \"4ade7faa-4cf1-8376-95ef-39884480959b\": [\"240px\", \"60px\"], //guardian\r\n    \"ee8e8d15-496b-07ac-e5f6-8fae5d4c7b1a\": [\"250px\", \"30px\"], //phantom\r\n    \"9c82e19d-4575-0200-1a81-3eacf00cf872\": [\"240px\", \"30px\"], //vandal\r\n\r\n    \"c4883e50-4494-202c-3ec3-6b8a9284f00b\": [\"250px\", \"70px\"], //marshal\r\n    \"a03b24d3-4319-996d-0f8c-94bbfba1dfc7\": [\"240px\", \"100px\"], //operator\r\n\r\n    \"55d8a0f4-4274-ca67-fe2c-06ab45efdf58\": [\"260px\", \"80px\"], //ares\r\n    \"63e6c2b6-4a8e-869c-3d4c-e38355226584\": [\"270px\", \"40px\"], //odin\r\n\r\n    \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\": [\"auto\", \"20px\"], //melee\r\n}\r\n\r\nconst scaleOverrides = {\r\n    \"29a0cfab-485b-f5d5-779a-b59f85e204a8\": [\"45% auto\", \"auto 60%\"], //classic\r\n    \"42da8ccc-40d5-affc-beec-15aa47b42eda\": [\"60% auto\", \"auto 35%\"], //shorty\r\n    \"44d4e95c-4157-0037-81b2-17841bf2e8e3\": [\"45% auto\", \"auto 60%\"], //frenzy\r\n    \"1baa85b4-4c70-1284-64bb-6481dfc3bb4e\": [\"65% auto\", \"auto 45%\"], //ghost\r\n    \"e336c6b8-418d-9340-d77f-7a9e4cfe0702\": [\"60% auto\", \"auto 60%\"], //sheriff\r\n\r\n    \"f7e1b454-4ad4-1063-ec0a-159e56b58941\": [\"52% auto\", \"auto 65%\"], //stinger\r\n    \"462080d1-4035-2937-7c09-27aa2a5c27a7\": [\"55% auto\", \"auto 65%\"], //spectre\r\n\r\n    \"910be174-449b-c412-ab22-d0873436b21b\": [\"75% auto\", \"auto 40%\"], //bucky\r\n    \"ec845bf4-4f79-ddda-a3da-0db3774b2794\": [\"65% auto\", \"auto 60%\"], //judge\r\n\r\n    \"ae3de142-4d85-2547-dd26-4e90bed35cf7\": [\"65% auto\", \"auto 65%\"], //bulldog\r\n    \"4ade7faa-4cf1-8376-95ef-39884480959b\": [\"75% auto\", \"auto 50%\"], //guardian\r\n    \"ee8e8d15-496b-07ac-e5f6-8fae5d4c7b1a\": [\"73% auto\", \"auto 55%\"], //phantom\r\n    \"9c82e19d-4575-0200-1a81-3eacf00cf872\": [\"65% auto\", \"auto 70%\"], //vandal\r\n\r\n    \"c4883e50-4494-202c-3ec3-6b8a9284f00b\": [\"80% auto\", \"auto 42%\"], //marshal\r\n    \"a03b24d3-4319-996d-0f8c-94bbfba1dfc7\": [\"80% auto\", \"auto 50%\"], //operator\r\n\r\n    \"55d8a0f4-4274-ca67-fe2c-06ab45efdf58\": [\"80% auto\", \"auto 45%\"], //ares\r\n    \"63e6c2b6-4a8e-869c-3d4c-e38355226584\": [\"80% auto\", \"auto 60%\"], //odin\r\n\r\n    \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\": [\"auto 70%\", \"auto 70%\"], //melee\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    \"@global\": {\r\n        \"@keyframes fadeOut\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    weaponContainerVideo: {\r\n        position: \"absolute\",\r\n        objectFit: \"cover\",\r\n        width: \"auto\",\r\n        height: \"auto\",\r\n    },\r\n\r\n    weaponPaper: {\r\n        flexDirection: \"row\",\r\n        position: \"relative\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        background: \"transparent\",\r\n        transition: \".5s ease !important\",\r\n        \"&:hover\": {\r\n            border: `1px ${theme.palette.primary.main} solid`\r\n        },\r\n    },\r\n\r\n    weaponImage: {\r\n        zIndex: 1,\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        position: \"relative\",\r\n        backgroundPosition: \"center\",\r\n        backgroundRepeat: \"no-repeat\",\r\n        background: \"transparent\",\r\n        // transition: \".25s ease !important\",\r\n        backfaceVisibility: \"hidden\",\r\n    },\r\n\r\n    bottomGradient: {\r\n        //background: \"linear-gradient(to bottom, rgba(0,0,0,0) 60%,rgba(255,255,255,.15) 100%)\",\r\n        zIndex: 5,\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        top: \"-100%\",\r\n    },\r\n\r\n    dataContainer: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        display: \"flex\",\r\n        position: \"relative\",\r\n        top: \"-100%\"\r\n    },\r\n\r\n    textContainer: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"flex-end\",\r\n        backgroundPosition: \"center\",\r\n        overflow: \"visible\",\r\n        paddingLeft: \"12px\",\r\n        paddingBottom: \"8px\",\r\n        zIndex: 2,\r\n    },\r\n\r\n    buddyContainer: {\r\n        display: \"flex\",\r\n        maxWidth: \"100px\",\r\n        height: \"100%\",\r\n        position: \"relative\",\r\n        right: 0,\r\n        bottom: 7,\r\n        zIndex: 2,\r\n    },\r\n\r\n    buddyImage: {\r\n        width: \"100%\",\r\n        height: \"auto\",\r\n        objectFit: \"contain\",\r\n        position: \"relative\",\r\n        alignSelf: \"flex-end\",\r\n    },\r\n\r\n    weaponLabelHolder: {\r\n        display: \"flex\",\r\n        width: \"80%\",\r\n        height: \"25px\",\r\n        position: \"relative\",\r\n        alignSelf: \"flex-start\",\r\n    },\r\n\r\n    skinLabelHolder: {\r\n        width: \"80%\",\r\n        alignSelf: \"flex-start\",\r\n        position: \"relative\",\r\n    },\r\n\r\n    weaponLabel: {\r\n        textAlign: \"left\",\r\n        width: \"100%\",\r\n        flexGrow: 1,\r\n        position: \"relative\",\r\n        textOverflow: \"ellipsis\",\r\n        bottom: 0,\r\n    },\r\n\r\n}));\r\n\r\n\r\nfunction Weapon(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [width, height] = useWindowDimensions();\r\n\r\n    var db = false;\r\n    const [isUpdatingImage, setUpdatingImage] = useState(true);\r\n    const [isUpdatingBuddy, setUpdatingBuddy] = useState(false);\r\n    const [skinData, updateSkinData] = useState({});\r\n    const [showSkinName, updateSkinNameVisibility] = useState(false);\r\n\r\n    const [scaleIndex, setScaleIndex] = useState(0);\r\n\r\n    const [weaponImage, setImage] = useState(\"\");\r\n\r\n    const favorite = props.data !== undefined ? props.data.favorite : \"\";\r\n    const locked = props.data !== undefined ? props.data.locked : \"\";\r\n    const bugged = props.data !== undefined ? props.data.bugged : \"\";\r\n\r\n    useEffect(() => {\r\n        if (props.data !== undefined) {\r\n            var comparisonTarget = skinData !== null ? skinData.skin_image : \"\"\r\n            if (db === false && props.data.skin_image !== comparisonTarget) {\r\n\r\n                setUpdatingImage(true)\r\n                setTimeout(() => {\r\n                    setImage(props.data.skin_image)\r\n                    updateSkinData(props.data);\r\n                    setUpdatingImage(false);\r\n                }, 300)\r\n\r\n            }\r\n\r\n            //update buddy\r\n            if (props.data.buddy_name !== skinData.buddy_name) {\r\n\r\n                setUpdatingBuddy(true);\r\n                setTimeout(() => {\r\n                    updateSkinData(props.data);\r\n                    setUpdatingBuddy(false);\r\n                }, 300);\r\n            }\r\n        }\r\n    }, [props.data]);\r\n\r\n    useEffect(() => {\r\n        if (width / height > 1.75) {\r\n            setScaleIndex(1);\r\n        } else {\r\n            setScaleIndex(0);\r\n        }\r\n    }, [width, height])\r\n\r\n    function onHover() {\r\n        updateSkinNameVisibility(true);\r\n    };\r\n\r\n    function offHover() {\r\n        updateSkinNameVisibility(false);\r\n    };\r\n\r\n    function select() {\r\n        if(!bugged && props.data !== undefined){\r\n            console.log(props)\r\n            // make sure the skin isn't falsely being displayed in inventory (if it's refunded everything breaks)\r\n            props.weaponEditorCallback(props.uuid);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Fade in style={{ transitionDelay: '500ms' }}>\r\n            <Paper\r\n                className={classes.weaponPaper}\r\n                variant=\"outlined\"\r\n                onMouseEnter={onHover}\r\n                onMouseLeave={offHover}\r\n                onClick={select}\r\n\r\n            >\r\n                <Fade in={!isUpdatingImage}>\r\n                    <div\r\n                        className={classes.weaponImage}\r\n                        style={{\r\n                            //backgroundPosition: props.uuid === \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\" ? \"50% 35%\" : (!props.useLargeWeaponImage ? \"50% 40%\" : \"50% 50%\"), \r\n                            backgroundPosition: \"50% 50%\",\r\n                            backgroundImage: skinData !== {} ? `url(${weaponImage})` : `url(\"https://media.valorant-api.com/weapons/${props.uuid}/displayicon.png\")`,\r\n                            backgroundSize: scaleOverrides[props.uuid][scaleIndex],\r\n                            //props.uuid !== \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\" ? (!props.useLargeWeaponImage ? `${props.uuid in scaleOverrides ? scaleOverrides[props.uuid][0] : stockImageSize} auto` : `calc(${scaleOverrides[props.uuid][0]} + ${scaleOverrides[props.uuid][1]}) auto`) : \"auto 80%\",\r\n                        }}\r\n                    />\r\n                </Fade>\r\n\r\n                {/* <div className={classes.bottomGradient} /> */}\r\n\r\n                <div className={classes.dataContainer}>\r\n                    <div className={classes.textContainer}>\r\n                        <div className={classes.weaponLabelHolder}>\r\n                            <Typography className={classes.weaponLabel} variant=\"overline\">{locked ? \" \" : null}{props.displayName}</Typography>\r\n                        </div>\r\n                        <div className={classes.skinLabelHolder}>\r\n                            <Collapse in={showSkinName}>\r\n                                <Typography className={classes.weaponLabel} variant=\"body1\" style={{ marginBottom: \"4px\" }}>{favorite ? \" \" : null}{skinData.skin_name}</Typography>\r\n                            </Collapse>\r\n                        </div>\r\n                    </div>\r\n                    <Grow in>\r\n                        <div className={classes.buddyContainer} style={{ width: props.isSidearm ? \"20%\" : \"14%\" }}>\r\n                            {props.uuid !== \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\" ?\r\n                                <img alt={skinData.buddy_name} className={classes.buddyImage} src={skinData.buddy_image !== \"\" ? skinData.buddy_image : null} />\r\n                                : <img alt=\"\" src=\"\" />\r\n                            }\r\n                        </div>\r\n                    </Grow>\r\n                </div>\r\n            </Paper>\r\n        </Fade>\r\n    )\r\n\r\n}\r\n\r\nexport default Weapon","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button, Slider } from '@material-ui/core'\r\n\r\nimport useLocalStorage from '../../../services/useLocalStorage.js';\r\nimport {Config} from '../../../services/ClientConfig';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n}));\r\n\r\nfunction SkinChangerWarning(props){\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const skinsOwned = props.skinsOwned\r\n\r\n    const [acknowledged, setAcknowledged] = useLocalStorage(\"skinChangerWarningAcknowledged\", false);\r\n    const [enableButton, setEnableButton] = useState(false);\r\n    const [open, setOpen] = useState(false);\r\n    \r\n    useEffect(() => {\r\n        if(skinsOwned > Config.SKIN_CHANGER_WARNING_THRESHOLD && skinsOwned !== -1){\r\n            setAcknowledged(true);\r\n        }\r\n        if((!acknowledged && skinsOwned < Config.SKIN_CHANGER_WARNING_THRESHOLD) && skinsOwned !== -1){\r\n            setOpen(true);\r\n        }\r\n    }, [skinsOwned]);\r\n\r\n    useEffect(() => {\r\n        if(open){\r\n            setTimeout(() => {\r\n                setEnableButton(true);\r\n            }, 3000);\r\n        }\r\n    }, [open])\r\n\r\n    return (\r\n        <Dialog open={open} fullWidth maxWidth=\"xs\" onClose={null}>\r\n            <DialogTitle> VIM is NOT a skin changer </DialogTitle>\r\n            <DialogContent className={classes.content}>\r\n                <DialogContentText style={{ }}>\r\n                    You own {skinsOwned} skins. VIM is NOT a skin changer and will not give you \"free skins\". VIM only works with skins you own.\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button disabled={!enableButton} color=\"primary\" onClick={() => {setAcknowledged(true); setOpen(false);}}>\r\n                    I understand\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n\r\n}\r\n\r\nexport default SkinChangerWarning;\r\n","import { React, useState, useRef, useEffect } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Grid, Container, Typography } from '@material-ui/core';\r\n\r\n//icons\r\nimport { AspectRatio } from '@material-ui/icons';\r\n\r\nimport Weapon from './sub/WeaponCollectionItem.js'\r\nimport SkinChangerWarning from './sub/SkinChangerWarning.js';\r\n\r\nimport useWindowDimensions from '../../services/useWindowDimensions.js';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        margin: \"auto\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        flexGrow: 1,\r\n    },\r\n\r\n    collectionItem: {\r\n        display: \"flex\",\r\n        height: \"20%\",\r\n        minHeight: \"115px\",\r\n        flexGrow: 1,\r\n    },\r\n}));\r\n\r\n\r\nconst grid = [\r\n    [\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": true,\r\n            \"uuid\": \"29a0cfab-485b-f5d5-779a-b59f85e204a8\",\r\n            \"displayName\": \"Classic\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"f7e1b454-4ad4-1063-ec0a-159e56b58941\",\r\n            \"displayName\": \"Stinger\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"ae3de142-4d85-2547-dd26-4e90bed35cf7\",\r\n            \"displayName\": \"Bulldog\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"c4883e50-4494-202c-3ec3-6b8a9284f00b\",\r\n            \"displayName\": \"Marshal\",\r\n        },\r\n    ],\r\n    [\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": true,\r\n            \"uuid\": \"42da8ccc-40d5-affc-beec-15aa47b42eda\",\r\n            \"displayName\": \"Shorty\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"462080d1-4035-2937-7c09-27aa2a5c27a7\",\r\n            \"displayName\": \"Spectre\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"4ade7faa-4cf1-8376-95ef-39884480959b\",\r\n            \"displayName\": \"Guardian\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"a03b24d3-4319-996d-0f8c-94bbfba1dfc7\",\r\n            \"displayName\": \"Operator\",\r\n        },\r\n    ],\r\n    [\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": true,\r\n            \"uuid\": \"44d4e95c-4157-0037-81b2-17841bf2e8e3\",\r\n            \"displayName\": \"Frenzy\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"910be174-449b-c412-ab22-d0873436b21b\",\r\n            \"displayName\": \"Bucky\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"ee8e8d15-496b-07ac-e5f6-8fae5d4c7b1a\",\r\n            \"displayName\": \"Phantom\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"55d8a0f4-4274-ca67-fe2c-06ab45efdf58\",\r\n            \"displayName\": \"Ares\",\r\n        },\r\n    ],\r\n    [\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": true,\r\n            \"uuid\": \"1baa85b4-4c70-1284-64bb-6481dfc3bb4e\",\r\n            \"displayName\": \"Ghost\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"ec845bf4-4f79-ddda-a3da-0db3774b2794\",\r\n            \"displayName\": \"Judge\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"9c82e19d-4575-0200-1a81-3eacf00cf872\",\r\n            \"displayName\": \"Vandal\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"63e6c2b6-4a8e-869c-3d4c-e38355226584\",\r\n            \"displayName\": \"Odin\",\r\n        },\r\n    ],\r\n    [\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": true,\r\n            \"uuid\": \"e336c6b8-418d-9340-d77f-7a9e4cfe0702\",\r\n            \"displayName\": \"Sheriff\",\r\n        },\r\n        {\r\n            \"type\": \"placeholder\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\",\r\n            \"displayName\": \"Melee\",\r\n        },\r\n    ],\r\n]\r\n\r\n\r\nfunction Collection(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [width, height] = useWindowDimensions();\r\n\r\n    const [smallWindow, setSmallWindow] = useState(false);\r\n    const [useLargeWeaponImage, setUseLargeWeaponImage] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setSmallWindow(width < 960);\r\n        setUseLargeWeaponImage(width < 960 || width > 1300);\r\n    }, [width])\r\n\r\n    return (\r\n        <>\r\n            {!smallWindow ?\r\n                (\r\n                    <>\r\n                        {props.loadout !== null ? <SkinChangerWarning skinsOwned={props.skinsOwned}/> : null}\r\n                        <Grid className={classes.root} style={props.style} container justifyContent=\"center\" direction=\"row\" alignItems=\"center\" spacing={3}>\r\n                            {grid.map(row => {\r\n                                if (props.loadout !== null) {\r\n                                    return (\r\n                                        row.map(data => {\r\n                                            if (data.type === \"weapon\") {\r\n                                                return <Grid className={classes.collectionItem} item key={data.uuid} md={data.sidearm === true ? 2 : 3} sm={12} xs={12}><Weapon data={props.loadout[data.uuid]} uuid={data.uuid} displayName={data.displayName} useLargeWeaponImage={useLargeWeaponImage} weaponEditorCallback={props.weaponEditorCallback} isSidearm={data.sidearm} /></Grid>\r\n                                            }\r\n                                            else {\r\n                                                return (<Grid key=\"placeholder\" className={classes.collectionItem} item md={6} sm={false} xs={false} />);\r\n                                            }\r\n                                        })\r\n                                    )\r\n                                } else {\r\n                                    return null;\r\n                                }\r\n                            })}\r\n                        </Grid>\r\n                    </>\r\n                ) : (\r\n                    <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\", justifyContent: \"center\", width: \"100%\", height: \"100%\" }}>\r\n                        <AspectRatio style={{ fontSize: 60 }} />\r\n                        <Typography variant=\"h6\" style={{ marginTop: \"10px\" }}>\r\n                            Make your window bigger for this page to work properly\r\n                        </Typography>\r\n                    </div>\r\n                )\r\n            }\r\n        </>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Collection;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport Header from '../components/misc/Header.js'\r\nimport Footer from '../components/misc/Footer.js'\r\nimport WeaponEditor from '../components/weaponEditor/WeaponEditor.js'\r\nimport Collection from '../components/collection/Collection.js'\r\n\r\nimport socket from \"../services/Socket\";\r\n\r\nimport { Grid, Container, Typography } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n}));\r\n\r\n\r\nfunction CollectionHome(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [loaded, setLoaded] = useState(false);\r\n    const [inventoryData, updateInventoryData] = useState({});\r\n    const [showWeaponEditor, setWeaponEditorState] = useState(false);\r\n    const [loadout, setLoadout] = useState({});\r\n    const [weaponEditor, setWeaponEditor] = useState();\r\n    const [uniqueSkinsOwned, setUniqueSkinsOwned] = useState(-1);\r\n\r\n    useEffect(() => {\r\n        if (!loaded) {\r\n            load();\r\n            setLoaded(true);\r\n        }\r\n\r\n        function updatedLoadoutCallback(response) {\r\n            console.log(response);\r\n            setLoadout(response.loadout)\r\n        }\r\n        socket.subscribe(\"loadout_updated\", updatedLoadoutCallback)\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!showWeaponEditor) {\r\n            document.title = \"VIM // Collection\"\r\n        }\r\n    }, [showWeaponEditor])\r\n\r\n    useEffect(() => {\r\n        // count how many skins are owned for skin changer warning dialog\r\n        var skinsOwned = -1;\r\n\r\n        for (var weapon in inventoryData) {\r\n            skinsOwned += Object.keys(inventoryData[weapon].skins).length - 1;\r\n        }\r\n        if(skinsOwned !== -1){\r\n            setUniqueSkinsOwned(skinsOwned + 1);\r\n        }\r\n        \r\n    }, [inventoryData])\r\n\r\n    function load() {\r\n        updateInventory();\r\n        updateLoadout();\r\n    }\r\n\r\n    function updateInventory() {\r\n        function callback(response) {\r\n            updateInventoryData(response.skins);\r\n        }\r\n        socket.request({ \"request\": \"fetch_inventory\" }, callback)\r\n    }\r\n\r\n    function updateLoadout() {\r\n        function callback(response) {\r\n            setLoadout(response.loadout);\r\n        }\r\n        socket.request({ \"request\": \"fetch_loadout\" }, callback)\r\n    }\r\n\r\n    function modificationMenu(uuid) {\r\n        setWeaponEditorState(true);\r\n        setWeaponEditor(<WeaponEditor weaponUuid={uuid} initialSkinData={loadout[uuid]} inventoryData={inventoryData} loadoutWeaponData={loadout[uuid]} saveCallback={saveCallback} closeEditor={closeEditor} />)\r\n    };\r\n\r\n    async function saveCallback(payload, sameSkin) {\r\n        return new Promise((resolve, reject) => {\r\n\r\n            function inventoryCallback(response) {\r\n                updateInventoryData(response);\r\n                resolve();\r\n            }\r\n\r\n            function putCallback(response) {\r\n                console.log(\"put\")\r\n                setLoadout(response.loadout);\r\n            }\r\n\r\n            socket.request({ \"request\": \"update_inventory\", \"args\": { \"payload\": payload } }, inventoryCallback);\r\n            if (!sameSkin) {\r\n                socket.request({ \"request\": \"put_weapon\", \"args\": { \"payload\": payload } }, putCallback);\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n\r\n    function closeEditor() {\r\n        setWeaponEditorState(false);\r\n        setWeaponEditor(null);\r\n    }\r\n\r\n    return (\r\n        <div style={{ height: \"100%\", margin: \"auto\", display: \"flex\", flexDirection: \"column\", justifyContent: \"space-between\", overflow: \"auto\", flexGrow: 1 }}>\r\n            <Header />\r\n            {inventoryData !== {} ?\r\n                <Container maxWidth={false} style={{ display: \"flex\", height: \"auto\", flexGrow: 1, }}>\r\n                    {weaponEditor}\r\n                    <Collection style={{ padding: \"20px 0px 20px 0px\" }} weaponEditorCallback={modificationMenu} loadout={loadout} setLoadout={setLoadout} skinsOwned={uniqueSkinsOwned} />\r\n                </Container>\r\n                : null}\r\n            <Footer />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default CollectionHome","import { React, useState, useRef, useEffect } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Fade, Grow, Paper, Typography, Chip } from '@material-ui/core';\r\nimport Icon from '@mdi/react'\r\n\r\n//icons\r\nimport { Lock } from '@material-ui/icons'\r\nimport { mdiNumeric1Box, mdiNumeric2Box, mdiNumeric3Box, mdiNumeric4Box, mdiNumeric5Box, mdiNumeric6Box, mdiNumeric7Box, mdiNumeric8Box, mdiNumeric9Box } from '@mdi/js';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: \"100%\",\r\n        height: \"125px\",\r\n    },\r\n\r\n    paper: {\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n    },\r\n\r\n    content: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n    },\r\n\r\n    header: {\r\n        height: \"30px\",\r\n        width: \"90%\",\r\n        margin: \"10px 0px 0px 15px\",\r\n    },\r\n\r\n    tags: {\r\n        width: \"100%\",\r\n        height: \"27px\",\r\n        marginTop: \"5px\",\r\n        marginLeft: \"15px\",\r\n        '& > *': {\r\n            margin: \"0px 5px 0px 0px\",\r\n        },\r\n    },\r\n\r\n    bottomContent: {\r\n        width: \"100%\",\r\n        height: \"33px\",\r\n        marginTop: \"10px\",\r\n        padding: \"0px 10px 0px 10px\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n    }\r\n\r\n}));\r\n\r\n\r\nfunction BuddyItem(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const buddyData = props.data\r\n    const loadout = props.loadout\r\n\r\n    const numericToIcon = {\r\n        1: mdiNumeric1Box,\r\n        2: mdiNumeric2Box,\r\n        3: mdiNumeric3Box,\r\n        4: mdiNumeric4Box,\r\n        5: mdiNumeric5Box,\r\n        6: mdiNumeric6Box,\r\n        7: mdiNumeric7Box,\r\n        8: mdiNumeric8Box,\r\n        9: mdiNumeric9Box,\r\n    }\r\n\r\n    const [equippedWeaponImages, setEquippedWeaponImages] = useState([])\r\n\r\n    useEffect(() => {\r\n        var images = []\r\n        //console.log(loadout)\r\n        Object.keys(loadout).forEach(key => {\r\n            var weapon = loadout[key]\r\n            if (weapon.buddy_uuid === buddyData.uuid) {\r\n                //console.log(weapon)\r\n                if (!images.includes(weapon.weapon_killstream_icon)) {\r\n                    images.push(weapon.weapon_killstream_icon)\r\n                }\r\n            }\r\n        })\r\n        setEquippedWeaponImages(images)\r\n    }, [loadout])\r\n\r\n\r\n    return (\r\n        <Grow in>\r\n            <div className={classes.root}>\r\n                <Paper className={classes.paper} style={{\r\n                    backgroundColor: \"transparent\",\r\n                    backgroundImage: `url('${buddyData.display_icon}')`,\r\n                    backgroundSize: \"auto 70%\",\r\n                    backgroundRepeat: \"no-repeat\",\r\n                    backgroundPosition: \"100% 50%\",\r\n                }} variant=\"outlined\">\r\n\r\n                    <div className={classes.content}>\r\n                        <div className={classes.header}>\r\n                            <Typography variant=\"h5\" style={{ textOverflow: \"ellipsis\", whiteSpace: \"nowrap\", overflow: \"hidden\" }}>\r\n                                {buddyData.display_name}\r\n                            </Typography>\r\n                        </div>\r\n                        <div className={classes.tags}>\r\n                            {\r\n                                Object.keys(buddyData.instances).map((key) => {\r\n                                    var instanceBuddyData = buddyData.instances[key]\r\n                                    if (instanceBuddyData.locked_weapon_uuid !== \"\") {\r\n                                        return (\r\n                                            <Chip\r\n                                                avatar={<Lock style={{ background: \"transparent\" }} />}\r\n                                                label={instanceBuddyData.locked_weapon_display_name}\r\n                                                color=\"primary\"\r\n                                                size=\"small\"\r\n                                            />\r\n                                        )\r\n                                    } else {\r\n                                        return null\r\n                                    }\r\n                                })\r\n                            }\r\n                        </div>\r\n                        <div className={classes.bottomContent}>\r\n                            <div style={{ width: \"90%\", height: \"100%\", display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-start\", alignItems: \"center\", overflow: \"hidden\" }}>\r\n                                {\r\n                                    equippedWeaponImages.map((image, i) => {\r\n                                        return (\r\n                                            <Fade in>\r\n                                                <img src={image} alt=\"weapon\" style={{ width: \"auto\", height: \"100%\", objectFit: \"contain\", float: \"left\", filter: \"opacity(0.5)\", marginRight: \"10px\", }} />\r\n                                            </Fade>\r\n                                            )\r\n                                    })\r\n                                }\r\n                            </div>\r\n\r\n                            <div style={{ width: \"auto\", height: \"100%\", display: \"flex\", marginLeft: \"auto\", flexDirection: \"row\", justifyContent: \"flex-end\", alignItems: \"cetner\" }}>\r\n                                <Icon path={numericToIcon[buddyData.instance_count]} size={1.1} color=\"white\" style={{ height: \"100%\", marginLeft: \"auto\", marginTop: \"auto\", filter: \"opacity(0.5)\" }} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </Paper>\r\n            </div>\r\n        </Grow>\r\n    )\r\n\r\n}\r\n\r\nexport default BuddyItem; ","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Typography, Backdrop, Paper, Grid, Container, Divider, IconButton, Tooltip, Button } from '@material-ui/core';\r\nimport Icon from '@mdi/react'\r\n\r\n//icons\r\nimport { FavoriteBorder, StarBorder, Star, Lock, LockOpen } from '@material-ui/icons';\r\nimport { mdiNumeric1Box, mdiNumeric2Box, mdiNumeric3Box, mdiNumeric4Box, mdiNumeric5Box, mdiNumeric6Box, mdiNumeric7Box, mdiNumeric8Box, mdiNumeric9Box } from '@mdi/js';\r\nimport { mergeClasses } from '@material-ui/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    backdrop: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n    mainPaper: {\r\n        margin: \"auto\",\r\n        width: \"100%\",\r\n        height: \"auto\",\r\n        minWidth: \"400px\",\r\n        maxWidth: \"600px\",\r\n\r\n        display: \"flex\",\r\n        justifySelf: \"flex-start\",\r\n        justifyContent: \"center\",\r\n        alignContent: \"flex-start\",\r\n        flexWrap: \"wrap\",\r\n        overflow: \"auto\",\r\n        \"&::-webkit-scrollbar\": {\r\n            width: 4,\r\n        },\r\n        \"&::-webkit-scrollbar-track\": {\r\n            boxShadow: `inset 0 0 6px rgba(0, 0, 0, 0.3)`,\r\n        },\r\n        \"&::-webkit-scrollbar-thumb\": {\r\n            backgroundColor: \"darkgrey\",\r\n            outline: `1px solid slategrey`,\r\n            backgroundClip: \"padding-box\",\r\n        },\r\n    },\r\n\r\n    content: {\r\n        height: \"auto\",\r\n        width: \"95%\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    headerContent: {\r\n        width: \"100%\",\r\n        height: \"auto\",\r\n        marginBottom: \"18px\",\r\n    },\r\n\r\n    header: {\r\n        height: \"60px\",\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    equippedWeapons: {\r\n        height: \"30px\",\r\n        width: \"100%\",\r\n        overflow: \"hidden\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    instances: {\r\n        height: \"auto\",\r\n        width: \"95%\",\r\n        border: `1px rgba(255,255,255,.2) solid`,\r\n        borderRadius: \"5px\",\r\n        padding: \"10px 10px 10px 10px\",\r\n        marginBottom: \"10px\",\r\n    },\r\n\r\n    buddyInstance: {\r\n        height: \"auto\",\r\n        width: \"100%\",\r\n    },\r\n\r\n    buddyInstanceHeader: {\r\n        width: \"100%\",\r\n        height: \"40px\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"center\",\r\n        marginBottom: \"10px\",\r\n    },\r\n\r\n    instanceHeaderButton: {\r\n        width: \"40px\",\r\n        height: \"40px\",\r\n        margin: \"0px 3px 0px 3px\"\r\n    },\r\n\r\n    buddyInstanceActions: {\r\n        width: \"100%\",\r\n        height: \"40px\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n    }\r\n}))\r\n\r\n\r\nfunction BuddyEditor(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const numericToIcon = {\r\n        1: mdiNumeric1Box,\r\n        2: mdiNumeric2Box,\r\n        3: mdiNumeric3Box,\r\n        4: mdiNumeric4Box,\r\n        5: mdiNumeric5Box,\r\n        6: mdiNumeric6Box,\r\n        7: mdiNumeric7Box,\r\n        8: mdiNumeric8Box,\r\n        9: mdiNumeric9Box,\r\n    }\r\n\r\n    const [open, setOpen] = useState(false);\r\n\r\n    return (\r\n        <Backdrop open={true} className={classes.backdrop} style={{ zIndex: 4 }}>\r\n            <Container maxWidth={\"lg\"}>\r\n                <Paper className={classes.mainPaper} variant=\"outlined\">\r\n\r\n                    {/* \r\n                    - buddy name\r\n                    - buddy image\r\n                    - buddy instance count\r\n\r\n                    - box to show what its equipped on\r\n                    \r\n                    - option to favorite it\r\n                    - option to add \"super favorite\" or something (always in the randomizer pool, but can only choose (total weapons - weapons w/ locked buddies) buddies)\r\n                        - guarantees at least one instance of the buddy will be equipped\r\n\r\n                    - repeatable instance menu thing\r\n                        - option to lock it to specific weapon (dropdown or make a diff modal thats more intuitive?)\r\n                        \r\n                    */}\r\n\r\n                    <div className={classes.content}>\r\n\r\n                        <div className={classes.headerContent} style={{ backgroundImage: \"url('https://media.valorant-api.com/buddies/ad508aeb-44b7-46bf-f923-959267483e78/displayicon.png')\", backgroundSize: \"auto 80%\", backgroundRepeat: \"no-repeat\", backgroundPosition: \"100%\" }}>\r\n                            <div className={classes.header}>\r\n                                <Icon path={numericToIcon[1]} size={1.1} color=\"white\" style={{ height: \"100%\", marginRight: \"10px\", filter: \"opacity(0.5)\" }} />\r\n                                <Typography variant=\"h5\">\r\n                                    Fist Bump Buddy\r\n                                </Typography>\r\n                            </div>\r\n\r\n                            <div className={classes.equippedWeapons}>\r\n                                <img src=\"https://media.valorant-api.com/weapons/ae3de142-4d85-2547-dd26-4e90bed35cf7/killstreamicon.png\" alt=\"weapon\" style={{ width: \"auto\", height: \"100%\", objectFit: \"contain\", float: \"left\", filter: \"opacity(0.5)\", marginRight: \"10px\", }} />\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div className={classes.instances}>\r\n                            <div className={classes.buddyInstance}>\r\n                                <div className={classes.buddyInstanceHeader}>\r\n\r\n                                    <div style={{ width: \"50%\", height: \"100%\", display: \"flex\", flexDirection: \"column\", justifyContent: \"flex-start\", alignItems: \"flex-start\" }}>\r\n                                        <Typography variant=\"body1\" style={{}}>INSTANCE 1</Typography>\r\n                                        <Typography variant=\"overline\" style={{ lineHeight: \"1.1\", color: \"rgba(255,255,255,.45)\" }}>Bulldog</Typography>\r\n                                    </div>\r\n\r\n\r\n                                    <div style={{ width: \"50%\", height: \"100%\", display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-end\", alignItems: \"center\", }}>\r\n\r\n                                        <Tooltip title={\"Lock instance to current weapon\"}>\r\n                                            <IconButton onClick={null} className={classes.instanceHeaderButton}>\r\n                                                <LockOpen />\r\n                                            </IconButton>\r\n                                        </Tooltip>\r\n\r\n                                        <Divider orientation=\"vertical\" variant=\"middle\" style={{height: \"90%\", margin: \"5px\"}} />\r\n\r\n                                        <Tooltip title={\"Super Favorite (x left)\"}>\r\n                                            <IconButton onClick={null} className={classes.instanceHeaderButton}>\r\n                                                <StarBorder />\r\n                                            </IconButton>\r\n                                        </Tooltip>\r\n\r\n                                        <Tooltip title={\"Favorite\"}>\r\n                                            <IconButton onClick={null} className={classes.instanceHeaderButton}>\r\n                                                <FavoriteBorder />\r\n                                            </IconButton>\r\n                                        </Tooltip>\r\n\r\n                                    </div>\r\n\r\n                                </div>\r\n\r\n                                <div className={classes.buddyInstanceActions}>\r\n                                    <Grid container spacing={1} style={{ width: \"100%\" }}>\r\n                                        <Grid item xs={6}>\r\n                                            <Button variant=\"outlined\" color=\"primary\" style={{ width: \"100%\", }}>Equip</Button>\r\n                                        </Grid>\r\n                                        <Grid item xs={6}>\r\n                                            <Button variant=\"outlined\" color=\"primary\" style={{ width: \"100%\", }}>idk what this one does</Button>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </Paper>\r\n            </Container>\r\n        </Backdrop>\r\n    )\r\n}\r\n\r\nexport default BuddyEditor","import { React, useState, useRef, useEffect } from 'react';\r\nimport Fuse from 'fuse.js'\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Grid, InputBase } from '@material-ui/core';\r\n\r\n//icons\r\nimport { Search } from '@material-ui/icons'\r\n\r\nimport BuddyItem from './sub/BuddyItem.js'\r\nimport BuddyEditor from '../buddyEditor/BuddyEditor.js'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n    gridContainer: {\r\n        height: \"calc(100% - 70px)\",\r\n        width: \"100%\",\r\n        overflowY: \"auto\",\r\n        \"&::-webkit-scrollbar\": {\r\n            width: 4,\r\n        },\r\n        \"&::-webkit-scrollbar-track\": {\r\n            boxShadow: `inset 0 0 6px rgba(0, 0, 0, 0.3)`,\r\n        },\r\n        \"&::-webkit-scrollbar-thumb\": {\r\n            backgroundColor: \"darkgrey\",\r\n            outline: `1px solid slategrey`,\r\n            backgroundClip: \"padding-box\",\r\n        },\r\n    },\r\n\r\n    mainGrid: {\r\n        maxHeight: \"100%\",\r\n        width: \"100%\",\r\n    },\r\n\r\n    serachContainer: {\r\n        height: \"60px\",\r\n        marginBottom: \"10px\",\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    search: {\r\n        position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n        width: '300px',\r\n        backgroundColor: \"#565656\"\r\n    },\r\n    searchIcon: {\r\n        padding: theme.spacing(0, 2),\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n        color: 'inherit',\r\n        width: \"100%\"\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 0),\r\n        paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n        width: '100%',\r\n    },\r\n}));\r\n\r\nfunction Buddies(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const loadout = props.loadout\r\n    const inventory = props.inventory\r\n\r\n    const [searchTerm, setSearchTerm] = useState(\"\")\r\n    const [searchResults, setSearchResults] = useState([])\r\n\r\n    const [fuse, setFuse] = useState(null)\r\n\r\n    const searchBank = []\r\n\r\n    useEffect(() => {\r\n        for (const item in inventory) {\r\n            var data = inventory[item]\r\n            searchBank.push(data.display_name)\r\n        }\r\n        setFuse(new Fuse(searchBank, {threshold: 0.4}))\r\n    }, [inventory])\r\n\r\n    useEffect(() => {\r\n        if (fuse !== null) {\r\n            const results = fuse.search(searchTerm)\r\n            var matches = []\r\n            for (const item in results) {\r\n                matches.push(results[item].item)\r\n            }\r\n            setSearchResults(matches)\r\n        }\r\n    }, [searchTerm])\r\n\r\n\r\n    // useEffect(() => {\r\n    //     console.log(\"sorting\")\r\n    //     const invClone = JSON.parse(JSON.stringify(inventory));\r\n    //     var equipped = {}\r\n        \r\n    //     function checkLoadout(buddyUuid){\r\n    //         Object.keys(loadout).forEach(key => {\r\n    //             var weapon = loadout[key]\r\n    //             if (weapon.buddy_uuid === buddyUuid) {\r\n    //                 console.log(\"match\")\r\n    //                 return true;\r\n    //             } else {\r\n    //                 return false\r\n    //             }\r\n    //         })\r\n    //     }\r\n\r\n    //     Object.keys(inventory).forEach((key) => {\r\n    //         console.log(\"e\")\r\n    //         var buddy = invClone[key]\r\n\r\n    //         if (checkLoadout(buddy.uuid) === true) {\r\n    //             //console.log(buddy)\r\n    //             equipped[key] = buddy\r\n    //             delete invClone[key]\r\n    //         }\r\n    //     })\r\n\r\n    //     Object.keys(invClone).forEach((key) => {\r\n    //         var buddy = invClone[key]\r\n    //         //console.log(buddy)\r\n    //         equipped[key] = buddy\r\n    //     })\r\n\r\n    //     setSortedInventory(equipped)\r\n    //     console.log(equipped)\r\n    // }, [loadout])\r\n\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n\r\n            <BuddyEditor/>\r\n\r\n            <div className={classes.serachContainer}>\r\n                <div className={classes.search}>\r\n                    <div className={classes.searchIcon}>\r\n                        <Search />\r\n                    </div>\r\n                    <InputBase\r\n                        placeholder=\"Search\"\r\n                        classes={{\r\n                            root: classes.inputRoot,\r\n                            input: classes.inputInput,\r\n                        }}\r\n                        inputProps={{ 'aria-label': 'search' }}\r\n                        onChange={(event) => { setSearchTerm(event.target.value) }}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div className={classes.gridContainer}>\r\n                <Grid container spacing={3} className={classes.mainGrid} direction=\"row\" justifyContent=\"flex-start\" alignItems=\"flex-start\">\r\n                    {Object.keys(inventory).map((key) => {\r\n                        var data = inventory[key]\r\n\r\n                        return (\r\n                            searchResults.includes(data.display_name) || searchResults.length === 0 ?  \r\n                                <Grid item key={data.display_name} xl={3} lg={4} md={6} sm={12} xs={12}>\r\n                                    <BuddyItem data={data} loadout={loadout}/>\r\n                                </Grid>\r\n                            : null\r\n                        )\r\n                    })}\r\n\r\n                </Grid>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Buddies;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport Header from '../components/misc/Header.js'\r\nimport Footer from '../components/misc/Footer.js'\r\n\r\nimport Buddies from '../components/buddies/Buddies.js'\r\n\r\nimport { Grid, Container, Typography } from '@material-ui/core'\r\n\r\nimport socket from \"../services/Socket\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n}));\r\n\r\n\r\nfunction CollectionHome(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [inventoryData, updateInventoryData] = useState({});\r\n    const [loadout, setLoadout] = useState({});\r\n\r\n    useEffect(() => {\r\n        updateInventory();\r\n        updateLoadout();\r\n        document.title = \"VIM // Buddies\"\r\n    }, []);\r\n\r\n    function updateLoadout() {\r\n        function callback(response) {\r\n            console.log(\"loadout\")\r\n            console.log(response.loadout)\r\n            setLoadout(response.loadout);\r\n        }\r\n        socket.request({ \"request\": \"fetch_loadout\" }, callback)\r\n        socket.subscribe(\"loadout_updated\", callback)\r\n    }\r\n\r\n    function updateInventory() {\r\n        function callback(response) {\r\n            updateInventoryData(response.buddies);\r\n        }\r\n        socket.request({ \"request\": \"fetch_inventory\" }, callback)\r\n    }\r\n\r\n    return ( \r\n        <>\r\n            <div style={{ height: \"100vh\", width: \"100vw\", display: \"flex\", overflow: \"auto\" }}>\r\n                <div style={{ height: \"100%\", margin: \"auto\", display: \"flex\", flexDirection: \"column\", justifyContent: \"space-between\", overflow: \"auto\", flexGrow: 1 }}>\r\n                    <Header />\r\n                    <Container maxWidth={null} style={{ maxHeight: \"calc(100% - 122px)\", display: \"flex\", flexGrow: 1, }}>\r\n                        <Buddies loadout={loadout} inventory={inventoryData}/>\r\n                    </Container>\r\n                    <Footer />\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default CollectionHome","\r\n\r\nimport {React, useEffect, useState} from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Step, Stepper, StepLabel, Typography, Toolbar, IconButton, Container, Paper } from '@material-ui/core'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({    \r\n    stepper: {\r\n        \r\n    }\r\n}));\r\n\r\nconst steps = [\r\n    \"Hello!\",\r\n    \"VALORANT Account\",\r\n    \"Settings\",\r\n]\r\n\r\n\r\nfunction OnboardingStepper(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const activeStep = props.activeStep;\r\n\r\n\r\n    return (\r\n        <Stepper activeStep={activeStep} className={classes.stepper}>\r\n            {steps.map((label, index) => {\r\n                return (\r\n                    <Step key={label}>\r\n                        <StepLabel>{label}</StepLabel>\r\n                    </Step>\r\n                );\r\n            })}\r\n        </Stepper>\r\n    )\r\n}\r\n\r\nexport default OnboardingStepper ","\r\n\r\nimport { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { List, ListItem, ListItemText, Typography, Divider, Button, Container, Paper } from '@material-ui/core'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    headerText: {\r\n        justifySelf: \"center\",\r\n        textAlign: \"center\",\r\n        background: \"linear-gradient(90deg, rgba(173, 81, 89, 1) 0%, rgba(250,117,129,1) 100%, rgba(255,190,190,1) 100%)\",\r\n        WebkitBackgroundClip: \"text\",\r\n        WebkitTextFillColor: \"transparent\",\r\n        alignSelf: \"flex-end\",\r\n    },\r\n\r\n    bodyText: {\r\n        marginTop: \"3px\",\r\n        justifySelf: \"center\",\r\n        textAlign: \"center\",\r\n    },\r\n\r\n    list: {\r\n        width: \"400px\",\r\n        justifySelf: \"center\",\r\n        alignSelf: \"center\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        paddingTop: \"0px\",\r\n    },\r\n\r\n    listItem: {\r\n        justifySelf: \"center\",\r\n        textAlign: \"center\",\r\n        padding: \"2px\",\r\n    },\r\n\r\n    buttonDiv: {\r\n        display: \"flex\",\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        marginTop: \"5px\",\r\n        justifyContent: \"flex-end\",\r\n    },\r\n\r\n    startButton: {\r\n        width: \"100%\",\r\n        height: \"37px\",\r\n        alignSelf: \"center\",\r\n        marginBottom: \"15px\",\r\n    }\r\n}));\r\n\r\n\r\nfunction WelcomePage(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const features = [\r\n        \"favorites system\",\r\n        \"automatic randomization\",\r\n        \"other stuff\",\r\n        \"\",\r\n    ]\r\n\r\n    const style = props.pageStyle\r\n\r\n    return (\r\n        <div style={style}>\r\n            <div style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"center\", alignItems: \"flex-end\", height: \"100%\" }}>\r\n                <Typography variant=\"h2\" className={classes.headerText}>\r\n                    <strong>VIM</strong>\r\n                </Typography>\r\n                {/* <Typography variant=\"subtitle2\" style={{ alignSelf: \"flex-end\" }} >\r\n                    v1.0.0\r\n                </Typography> */}\r\n            </div>\r\n            <Typography variant=\"h6\" className={classes.bodyText}>\r\n                VALORANT inventory management, expanded\r\n            </Typography>\r\n\r\n            {/* <Divider variant=\"middle\" style={{ margin: \"10px\", }} />\r\n\r\n            <List className={classes.list} dense>\r\n                {features.map((feature) => (\r\n                    <ListItem key={feature} className={classes.listItem}>\r\n                        <ListItemText\r\n                            primary={feature}\r\n                        />\r\n                    </ListItem>\r\n                ))}\r\n            </List> */}\r\n\r\n            <div className={classes.buttonDiv}>\r\n                <Button variant=\"outlined\" color=\"primary\" onClick={props.nextCallback} className={classes.startButton}>\r\n                    Get Started\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WelcomePage","\r\n\r\nimport { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { List, ListItem, ListItemText, ListItemAvatar, Avatar, Typography, Collapse, Button, Grow, Fade, Paper } from '@material-ui/core'\r\n\r\nimport { Place, Public, Person, Autorenew } from '@material-ui/icons';\r\n\r\nimport socket from \"../../services/Socket\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    \"@global\": {\r\n        \"@keyframes spin\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    start: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n    },\r\n\r\n    gameNotRunning: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n    },\r\n\r\n    autodetectClient: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n    },\r\n\r\n    accountDataList: {\r\n        flexGrow: 0,\r\n        marginBottom: \"5px\",\r\n    },\r\n\r\n    loading: {\r\n        animation: \"spin 4s linear infinite\",\r\n    },\r\n\r\n    buttons: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        justifyContent: \"flex-end\",\r\n    },\r\n\r\n    nextButton: {\r\n        width: \"100%\",\r\n        height: \"37px\",\r\n        marginBottom: \"15px\",\r\n    }\r\n\r\n}));\r\n\r\n\r\nfunction AccountPage(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const style = props.pageStyle\r\n\r\n    const [gameRunning, setGameRunning] = useState(false)\r\n    const [enableGameStartButton, setEnableGameStartButton] = useState(true)\r\n    const [ready, setReady] = useState(false)\r\n\r\n    const [accountRetrieved, setaccountRetrieved] = useState(false)\r\n    const [accountData, setAccountData] = useState({})\r\n\r\n    function startGame() {\r\n        function launchCallback(response) {\r\n            if (response === true) {\r\n                setGameRunning(true);\r\n            }\r\n        }\r\n        socket.request({ \"request\": \"start_game\" }, launchCallback)\r\n    }\r\n\r\n    function autodetectAccount() {\r\n        function accountCallback(response){\r\n            setaccountRetrieved(true);\r\n            setAccountData(response)\r\n        }\r\n        socket.request({ \"request\": \"autodetect_account\" }, accountCallback)\r\n    }\r\n\r\n    function isGameRunning() {\r\n        function gameRunningCallback(response){\r\n            setGameRunning(response)\r\n            setReady(true)\r\n        }\r\n        socket.request({ \"request\": \"get_running_state\" }, gameRunningCallback)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!ready) {\r\n            isGameRunning();\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (gameRunning && !accountRetrieved) {\r\n            autodetectAccount();\r\n        }\r\n    }, [gameRunning])\r\n\r\n    return (\r\n        <div style={style}>\r\n\r\n            <div className={classes.start}>\r\n                <Typography variant=\"h4\">Let's get started</Typography>\r\n\r\n                <Fade in={!gameRunning && ready} unmountOnExit mountOnEnter>\r\n                    <div className={classes.gameNotRunning}>\r\n                        <Typography style={{ marginTop: \"12px\", marginBottom: \"10px\" }} variant=\"body2\">It looks like VALORANT isn't open. VALORANT needs to be open to set up VIM.</Typography>\r\n                        <Button variant=\"outlined\" color=\"primary\" disabled={!enableGameStartButton} className={classes.startButton} onClick={startGame}>\r\n                            {enableGameStartButton ? \"Launch VALORANT\" : <Autorenew className={classes.loading} />}\r\n                        </Button>\r\n                    </div>\r\n                </Fade>\r\n\r\n                <Fade in={gameRunning} style={{ transitionDelay: \"200ms\" }} unmountOnExit mountOnEnter>\r\n                    <div className={classes.autodetectClient}>\r\n                        <Typography style={{ marginTop: \"12px\", marginBottom: \"5px\" }} variant=\"body2\">{accountRetrieved ? \"Discovered the following account data:\" : \"Attempting to autodetect your VALORANT account.\"}</Typography>\r\n\r\n                        <Fade in={accountRetrieved} mountOnEnter unmountOnExit>\r\n                            <List className={classes.accountDataList}>\r\n                                <ListItem>\r\n                                    <ListItemAvatar>\r\n                                        <Avatar>\r\n                                            <Person color=\"action\"/>\r\n                                        </Avatar>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText primary={`${accountData.game_name}#${accountData.game_tag}`} />\r\n                                </ListItem>\r\n                                <ListItem>\r\n                                    <ListItemAvatar>\r\n                                        <Avatar>\r\n                                            <Place color=\"action\"/>\r\n                                        </Avatar>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText primary={`Region: ${accountData.region}`} />\r\n                                </ListItem>\r\n                                <ListItem>\r\n                                    <ListItemAvatar>\r\n                                        <Avatar>\r\n                                            <Public color=\"action\"/>\r\n                                        </Avatar>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText primary={`Shard: ${accountData.shard}`} />\r\n                                </ListItem>\r\n                            </List>\r\n                        </Fade>\r\n\r\n                        <Fade in={accountRetrieved} style={{ transitionDelay: \"500ms\" }} mountOnEnter unmountOnExit>\r\n                            <div className={classes.buttons}>\r\n                                <Button variant=\"outlined\" color=\"primary\" onClick={props.nextCallback} className={classes.nextButton}>\r\n                                    Next\r\n                                </Button>\r\n                            </div>\r\n                        </Fade>\r\n\r\n                    </div>\r\n                </Fade>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AccountPage","\r\n\r\nimport { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { List, ListItem, ListItemText, Typography, Divider, Button, Container, Paper } from '@material-ui/core'\r\nimport Config from \"../config/Config.js\"\r\n\r\nimport socket from \"../../services/Socket\";\r\nimport useLocalStorage from '../../services/useLocalStorage.js';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n\r\n\r\n    buttonDiv: {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        marginTop: \"5px\",\r\n        justifyContent: \"flex-end\",\r\n    },\r\n\r\n    nextButton: {\r\n        width: \"90%\",\r\n        height: \"37px\",\r\n        marginBottom: \"15px\",\r\n    }\r\n}));\r\n\r\n\r\nfunction ConfigPage(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [done, setDone] = useState(false)\r\n    const [onboardingCompleted, setOnboardingCompleted] = useLocalStorage(\"onboardingCompleted\");\r\n\r\n    useEffect(() => {\r\n        console.log(onboardingCompleted)\r\n    }, [])\r\n\r\n    const style = props.pageStyle\r\n\r\n    function finish(){\r\n        setDone(true)\r\n        setOnboardingCompleted(true);\r\n        props.nextCallback()\r\n    }\r\n\r\n    return (\r\n        <div style={{ ...style, width: \"100%\", }}>\r\n            <div style={{ height: \"68%\", padding: \"0px 0px 10px 0px\" }}>\r\n                <Config saveTrigger={done}/>\r\n            </div>\r\n\r\n\r\n            <div className={classes.buttonDiv}>\r\n                <Button variant=\"outlined\" color=\"primary\" onClick={finish} className={classes.nextButton}>\r\n                    Finish\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ConfigPage","import {React, useEffect, useState} from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Step, Stepper, StepLabel, Typography, Toolbar, Grow, Container, Paper } from '@material-ui/core'\r\nimport OnboardingStepper from \"../components/onboarding/Stepper\";\r\nimport WelcomePage from \"../components/onboarding/WelcomePage\";\r\nimport AccountPage from \"../components/onboarding/AccountPage\";\r\nimport ConfigPage from \"../components/onboarding/ConfigPage\"\r\n\r\n//icons\r\nimport { Settings, Shuffle, Autorenew } from '@material-ui/icons';\r\n\r\nimport { request } from \"../services/Socket\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    paper: {\r\n        width: \"500px\",\r\n        height: \"400px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n    },\r\n\r\n    pageContent: {\r\n        display: \"flex\",\r\n        flexGrow: 1,\r\n        height: \"100%\",\r\n        alignItems: \"center\",\r\n        flexDirection: \"column\",\r\n    }\r\n\r\n}));\r\n\r\nconst pageStyle = {\r\n    width: \"90%\",\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    flexGrow: 1,\r\n}\r\n\r\n\r\nfunction Onboarding(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    \r\n    const pages = [\r\n        <WelcomePage pageStyle={pageStyle} nextCallback={nextStep}/>,\r\n        <AccountPage pageStyle={pageStyle} nextCallback={nextStep}/>,\r\n        <ConfigPage pageStyle={pageStyle} nextCallback={nextStep}/>,\r\n    ]\r\n\r\n    const [activeStep, setActiveStep] = useState(0);\r\n    const [redirect, setRedirect] = useState(null)\r\n\r\n    function nextStep(){\r\n        setActiveStep(activeStep + 1);\r\n        console.log(activeStep)\r\n        if(activeStep+1 > pages.length-1){\r\n            console.log(\"redirect\")\r\n            setRedirect(<Redirect to=\"/collection\"/>)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container maxWidth=\"xl\" className={classes.root}>\r\n            {redirect}\r\n            <Grow in>\r\n                <Paper variant=\"outlined\" className={classes.paper}>\r\n                    <OnboardingStepper activeStep={activeStep}/>\r\n                    <div className={classes.pageContent}>\r\n                        {pages[activeStep]}\r\n                    </div>\r\n                </Paper>\r\n            </Grow>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Onboarding","import { React, useEffect, useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Icon from '@mdi/react'\r\n\r\n//components\r\nimport { Drawer, Divider, List, IconButton, ListItem, ListItemIcon, ListItemText, } from '@material-ui/core';\r\n\r\n//icons\r\nimport { ChevronLeft, ChevronRight } from '@material-ui/icons';\r\nimport { mdiPistol, mdiInformation, mdiAlert, mdiSpade } from '@mdi/js';\r\n\r\n//services\r\nimport { Config } from '../../services/ClientConfig.js'\r\n\r\n\r\nconst widthClosed = \"60px\";\r\nconst widthOpen = \"200px\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    drawer: {\r\n        overflow: \"hidden\",\r\n        whiteSpace: 'nowrap',\r\n        flexShrink: 1,\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n}));\r\n\r\nfunction NavBar() {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [open, setOpen] = useState(false)\r\n    const [redirect, setRedirect] = useState(null)\r\n\r\n    const iconSize = 1.25;\r\n    const tabs = [\r\n        {\r\n            \"name\": \"Skins\",\r\n            \"icon\": mdiPistol,\r\n            \"path\": \"/collection\",\r\n            \"enabled\": Config.ENABLED_PAGES.collection,\r\n        },\r\n        {\r\n            \"name\": \"Buddies\",\r\n            \"icon\": mdiSpade,\r\n            \"path\": \"/buddies\",\r\n            \"enabled\": Config.ENABLED_PAGES.buddies,\r\n        },\r\n    ]\r\n\r\n    function selectPage(path) {\r\n        setRedirect(<Redirect to={path} />)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {Config.NAVIGATION_ENABLED ?\r\n                <div style={{ display: \"flex\", }}>\r\n                    {redirect}\r\n                    <Drawer\r\n                        variant=\"permanent\"\r\n                        className={classes.drawer}\r\n                        style={{ width: (open ? widthOpen : widthClosed), transition: \"width 0.2s ease\" }}\r\n                    >\r\n                        <List style={{ width: (open ? widthOpen : widthClosed), overflow: \"hidden\", flexGrow: 1, transition: \"width 0.2s ease\"}}>\r\n\r\n\r\n                            <div style={{ width: \"100%\", padding: \"10px 5px 10px 5px\" }}>\r\n                                <IconButton onClick={() => {setOpen(!open)}}>\r\n                                    { open ? <ChevronLeft /> : <ChevronRight />}\r\n                                </IconButton>\r\n                            </div>\r\n\r\n                            <Divider />\r\n\r\n                            <div style={{ width: \"100%\", marginTop: \"10px\" }}>\r\n                                {tabs.map((tab, index) => (\r\n                                    (tab.enabled ? \r\n                                        <ListItem button key={tab.name} onClick={() => { selectPage(tab.path) }}>\r\n                                            <ListItemIcon><Icon\r\n                                                path={tab.icon}\r\n                                                size={iconSize}\r\n                                            /></ListItemIcon>\r\n                                            <ListItemText primary={tab.name} />\r\n                                        </ListItem>\r\n                                    : null)\r\n                                ))}\r\n                            </div>\r\n\r\n\r\n                            <div style={{ position: \"absolute\", bottom: 0, width: \"100%\" }}>\r\n                                <Divider />\r\n                                <ListItem button key={\"Status\"}>\r\n                                    <ListItemIcon><Icon\r\n                                        path={mdiAlert}\r\n                                        size={1}\r\n                                    /></ListItemIcon>\r\n                                    <ListItemText primary={\"Status\"} />\r\n                                </ListItem>\r\n                                <ListItem button key={\"about\"}>\r\n                                    <ListItemIcon><Icon\r\n                                        path={mdiInformation}\r\n                                        size={1}\r\n                                    /></ListItemIcon>\r\n                                    <ListItemText primary={\"About\"} />\r\n                                </ListItem>\r\n                            </div>\r\n                        </List>\r\n                    </Drawer>\r\n                </div>\r\n                : null}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NavBar;","import {React, useEffect, useState} from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Step, Stepper, StepLabel, Typography, Button, Grow, Backdrop, Paper } from '@material-ui/core'\r\n\r\n//icons\r\nimport { Settings, Shuffle, Autorenew } from '@material-ui/icons';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        backgroundColor: theme.palette.background.default,\r\n        zIndex: 100,\r\n    },\r\n\r\n    main: {\r\n        width: \"400px\",\r\n        height: \"200px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    content: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    retryButton: {\r\n        alignSelf: \"center\",\r\n        height: \"45px\",\r\n        width: \"80%\",\r\n    },\r\n\r\n    buttons: {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        justifyContent: \"center\",\r\n    }\r\n\r\n}));\r\n\r\n\r\nfunction ConnectionFailed(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    return (\r\n        <Backdrop open className={classes.root}>\r\n            <Grow in>\r\n                <div className={classes.main}>\r\n                    <div className={classes.content}>\r\n                        <Typography variant=\"h4\">Connection failed</Typography>\r\n                        <Typography variant=\"body1\" style={{textAlign: \"center\", marginTop: \"10px\",}}>Couldn't connect to your computer. Is the VIM client companion running?</Typography>\r\n\r\n                        <div className={classes.buttons}> \r\n                            <Button variant=\"outlined\" color=\"primary\" onClick={props.retry} className={classes.retryButton}>\r\n                                Retry\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </Grow>\r\n        </Backdrop>\r\n    )\r\n}\r\n\r\nexport default ConnectionFailed","import {React, useEffect, useState} from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Step, Stepper, StepLabel, Typography, Button, Grow, Backdrop, Paper } from '@material-ui/core'\r\n\r\n//icons\r\nimport { Settings, Shuffle, Autorenew, TramRounded, ContactsOutlined } from '@material-ui/icons';\r\n\r\nimport socket from \"../../services/Socket\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \"@global\": {\r\n        \"@keyframes spin\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    root: {\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        backgroundColor: theme.palette.background.default,\r\n        zIndex: 100,\r\n    },\r\n\r\n    main: {\r\n        width: \"400px\",\r\n        height: \"200px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    content: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    retryButton: {\r\n        alignSelf: \"center\",\r\n        height: \"45px\",\r\n        width: \"80%\",\r\n    },\r\n\r\n    buttons: {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n    loading: {\r\n        animation: \"spin 4s linear infinite\",\r\n    },\r\n\r\n}));\r\n\r\n\r\nfunction GameNotRunning(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [enableGameStartButton, setEnableGameStartButton] = useState(true);\r\n    const [open, setOpen] = useState(true)\r\n\r\n    function launch() {\r\n        setEnableGameStartButton(false);\r\n        socket.send({\"request\": \"start_game\"})\r\n    }\r\n\r\n    return (\r\n        <Backdrop open className={classes.root}>\r\n            <Grow in={open}>\r\n                <div className={classes.main}>\r\n                    <div className={classes.content}>\r\n                        <Typography variant=\"h4\">VALORANT not open</Typography>\r\n                        <Typography variant=\"body1\" style={{textAlign: \"center\", marginTop: \"10px\",}}>Couldn't detect VALORANT running on your computer.</Typography>\r\n\r\n                        <div className={classes.buttons}> \r\n                            <Button variant=\"outlined\" color=\"primary\" onClick={launch} disabled={!enableGameStartButton} className={classes.retryButton}>\r\n                                {enableGameStartButton ? \"Launch VALORANT\" : <Autorenew className={classes.loading}/>}\r\n\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </Grow>\r\n        </Backdrop>\r\n    )\r\n}\r\n\r\nexport default GameNotRunning","import {React, useEffect, useState} from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Step, Stepper, StepLabel, Typography, Button, Grow, Backdrop, Paper } from '@material-ui/core'\r\n\r\n//icons\r\nimport { Settings, Shuffle, Autorenew } from '@material-ui/icons';\r\n\r\nimport { Config, ServerVersion } from \"../../services/ClientConfig\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        backgroundColor: theme.palette.background.default,\r\n        zIndex: 100,\r\n    },\r\n\r\n    main: {\r\n        width: \"400px\",\r\n        height: \"200px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    content: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    retryButton: {\r\n        alignSelf: \"center\",\r\n        height: \"45px\",\r\n        width: \"80%\",\r\n    },\r\n\r\n    buttons: {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        justifyContent: \"center\",\r\n    }\r\n\r\n}));\r\n\r\n\r\nfunction WrongVersion(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [newVersion, setNewVersion] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        fetch(\"https://api.github.com/repos/colinhartigan/valorant-inventory-manager/releases\")\r\n            .then(res => res.json())\r\n            .then((dat) => {\r\n                var data = dat[0]; \r\n                console.log(data)\r\n                setNewVersion(data.tag_name);\r\n            })\r\n    }, [])\r\n\r\n    return (\r\n        <Backdrop open className={classes.root}>\r\n            <Grow in>\r\n                <div className={classes.main}>\r\n                    <div className={classes.content}>\r\n                        <Typography variant=\"h4\" style={{textAlign: \"center\"}}>Client Companion version mismatch</Typography>\r\n                        <Typography variant=\"body1\" style={{textAlign: \"center\", marginTop: \"10px\", marginBottom: \"10px\"}}>Your VIM client companion version is no longer supported. ({ServerVersion} {''} {newVersion})</Typography>\r\n\r\n                        <div className={classes.buttons}> \r\n                            <Button target=\"_blank\" href=\"https://github.com/colinhartigan/valorant-inventory-manager/releases/latest\" variant=\"outlined\" color=\"primary\" className={classes.retryButton}>\r\n                                View latest release \r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </Grow>\r\n        </Backdrop>\r\n    )\r\n}\r\n\r\nexport default WrongVersion","import {React, useEffect, useState} from 'react';\r\n\r\n//utilities\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Backdrop, CircularProgress, Typography, Box, Container, ThemeProvider } from '@material-ui/core'\r\n\r\n//icons\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        color: \"#fff\",\r\n    }\r\n\r\n}));\r\n\r\n\r\nfunction WebsocketHandshake(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Backdrop className={classes.backdrop} open={props.open}>\r\n            <Box>\r\n                <CircularProgress color=\"#ffffff\"/>\r\n            </Box>\r\n        </Backdrop>\r\n    )\r\n}\r\n\r\nexport default WebsocketHandshake","import { useEffect, useState, useRef } from \"react\";\r\n\r\n//utilities\r\nimport { ThemeProvider, createTheme } from \"@material-ui/core/styles\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport { BrowserRouter as Switch, Route, HashRouter, Redirect } from \"react-router-dom\";\r\nimport socket from \"./services/Socket\";\r\nimport useLocalStorage from \"./services/useLocalStorage\";\r\nimport { Config, setVersion, ServerVersion } from \"./services/ClientConfig\"\r\n\r\n\r\n//pages\r\nimport CollectionHome from \"./pages/CollectionHome\"\r\nimport BuddiesHome from \"./pages/BuddiesHome\"\r\nimport Onboarding from \"./pages/Onboarding\"\r\n\r\n//components\r\nimport NavBar from './components/misc/Navigation'\r\n\r\n//error pages\r\nimport ConnectionFailed from \"./components/errors/ConnectionFailed.js\"\r\nimport GameNotRunning from \"./components/errors/GameNotRunning.js\"\r\nimport WrongVersion from \"./components/errors/WrongVersion.js\"\r\n\r\n//components\r\nimport WebsocketHandshake from \"./components/misc/WebsocketHandshake\";\r\n\r\nconst mainTheme = createTheme({\r\n    palette: {\r\n        type: \"dark\",\r\n        primary: {\r\n            main: \"#fa7581\",\r\n        },\r\n        secondary: {\r\n            main: \"#454545\",\r\n        },\r\n    },\r\n    typography: {\r\n        fontFamily: [\r\n            'Chivo',\r\n            '-apple-system',\r\n            'BlinkMacSystemFont',\r\n            '\"Segoe UI\"',\r\n            'Roboto',\r\n            '\"Helvetica Neue\"',\r\n            'Arial',\r\n            'sans-serif',\r\n            '\"Apple Color Emoji\"',\r\n            '\"Segoe UI Emoji\"',\r\n            '\"Segoe UI Symbol\"',\r\n        ].join(','),\r\n    },\r\n    overrides: {\r\n        MuiCssBaseline: {\r\n            // this is fine for now but perhaps make the background transparent in the future\r\n            \"@global\": {\r\n                body: {\r\n                    \"&::-webkit-scrollbar\": {\r\n                        width: 6,\r\n                    },\r\n                    \"&::-webkit-scrollbar-track\": {\r\n                        boxShadow: `inset 0 0 6px rgba(0, 0, 0, 0.3)`,\r\n                    },\r\n                    \"&::-webkit-scrollbar-thumb\": {\r\n                        backgroundColor: \"darkgrey\",\r\n                        outline: `1px solid slategrey`,\r\n                    },\r\n                },\r\n            },\r\n        },\r\n    },\r\n})\r\n\r\n\r\nfunction App(props) {\r\n    const [isLoading, setLoading] = useState(true);\r\n    const [showLoad, setShowLoad] = useState(true);\r\n\r\n    const [connected, setConnected] = useState(false);\r\n\r\n    const [onboardingCompleted, setOnboardingCompleted] = useLocalStorage(\"onboardingCompleted\", false);\r\n    const [gameRunning, setGameRunning] = useState(false);\r\n\r\n    const [ready, setReady] = useState(false);\r\n    const [awaitingStates, setAwaitingStates] = useState(false);\r\n\r\n    const [errorPage, setErrorPage] = useState(null);\r\n\r\n    // WEBSOCKETS MAKE ME WANT TO KILL MYSELF (9/6/2021)\r\n    //----------------------------------------------------------------------------------\r\n\r\n    //connect socket -> check for onboarding -> set ready true\r\n\r\n    useEffect(() => {\r\n        socket.subscribe(\"onclose\", disconnect, false, \"onclose\");\r\n        socket.subscribe(\"game_not_running\", gameClosed, false)\r\n        socket.subscribe(\"start_game\", gameOpened, false)\r\n        console.log(\"onboarding\", onboardingCompleted)\r\n        startup();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (errorPage !== null) {\r\n            setLoading(false)\r\n        }\r\n    })\r\n\r\n    useEffect(() => {\r\n        checkVersion()\r\n    }, [ServerVersion])\r\n\r\n    useEffect(() => {\r\n        if (awaitingStates) {\r\n            if (gameRunning) {\r\n                forceRefreshInventory()\r\n                stopLoading();\r\n                setReady(true)\r\n                setAwaitingStates(false);\r\n                console.log(\"ready\")\r\n            }\r\n        }\r\n    }, [onboardingCompleted, gameRunning])\r\n\r\n    function startup() {\r\n        //reset all states\r\n        setLoading(true);\r\n        setReady(false);\r\n        setConnected(false);\r\n        setErrorPage(null);\r\n        setGameRunning(false)\r\n\r\n        console.log(\"awaiting socket\")\r\n        connectSocket()\r\n            .then(() => {\r\n                console.log(\"awerf\")\r\n                setAwaitingStates(true)\r\n                getStates();\r\n                console.log(\"awaing states for ready\")\r\n            });\r\n\r\n    }\r\n\r\n    function forceRefreshInventory() {\r\n        socket.send({ \"request\": \"refresh_buddy_inventory\" })\r\n        socket.send({ \"request\": \"refresh_skin_inventory\" })\r\n    }\r\n\r\n    function stopLoading() {\r\n        setTimeout(() => {\r\n            setLoading(false);\r\n        }, 300)\r\n    }\r\n\r\n    function gameOpened(response) {\r\n        console.log(\"game opened\", response)\r\n        if (response === true) {\r\n            startup();\r\n        }\r\n    }\r\n\r\n    function checkVersion() {\r\n        if (ServerVersion !== \"\" && Config.VERSION_CHECK_ENABLED) {\r\n            if (!Config.SERVER_VERSION_COMPATABILITY.includes(ServerVersion)) {\r\n                setErrorPage(<WrongVersion />)\r\n            } else {\r\n                console.log(\"version matches\")\r\n            }\r\n        }\r\n    }\r\n\r\n    async function connectSocket() {\r\n        return new Promise((resolve, reject) => {\r\n            console.log(\"asdf\")\r\n            socket.connect()\r\n                .then((response) => {\r\n                    console.log(\"socket connected\")\r\n                    setConnected(true);\r\n                    return resolve();\r\n                })\r\n                .catch(() => {\r\n                    console.log(\"caught something\")\r\n                    setConnected(false);\r\n                    setErrorPage(<ConnectionFailed retry={startup} />)\r\n                    return reject();\r\n                })\r\n        });\r\n    }\r\n\r\n    function getStates() {\r\n\r\n        function gameRunningCallback(response) {\r\n            console.log(`game running: ${response}`)\r\n            setGameRunning(response)\r\n            if (response === false) {\r\n                setErrorPage(<GameNotRunning />)\r\n            }\r\n        }\r\n        socket.request({ \"request\": \"get_running_state\" }, gameRunningCallback)\r\n\r\n        function serverVersionCallback(response) {\r\n            console.log(`server version: ${response}`)\r\n            console.log(`client version: ${Config.FRONTEND_VERSION}`)\r\n            setVersion(response)\r\n            checkVersion();\r\n        }\r\n        socket.request({ \"request\": \"get_server_version\" }, serverVersionCallback)\r\n    }\r\n\r\n\r\n    function startupLoading() {\r\n        if (isLoading) {\r\n            return (<WebsocketHandshake open />)\r\n        }\r\n    }\r\n\r\n    function disconnect() {\r\n        console.log(\"disconnected\")\r\n        setConnected(false);\r\n        setReady(false)\r\n        setErrorPage(<ConnectionFailed retry={startup} />)\r\n    }\r\n\r\n    function gameClosed() {\r\n        setGameRunning(false)\r\n        setReady(false)\r\n        setErrorPage(<GameNotRunning />)\r\n    }\r\n\r\n    return (\r\n        <ThemeProvider theme={mainTheme}>\r\n            <CssBaseline />\r\n            {/* <AnimatedCursor\r\n                color=\"255,255,255\"\r\n                innerSize={12}\r\n                outerSize={18}\r\n                outerScale={1.5}\r\n                trailingSpeed={4}\r\n            /> */}\r\n\r\n            {errorPage}\r\n\r\n            {startupLoading()}\r\n\r\n            {ready ?\r\n                <HashRouter basename=\"/\">\r\n                    <Route exact path=\"/\">\r\n                        {onboardingCompleted ? <Redirect to=\"/collection\" /> : <Redirect to=\"/onboarding\" />}\r\n                    </Route>\r\n                    <Route path=\"/onboarding\">\r\n                        <Onboarding />\r\n                    </Route>\r\n\r\n                    <Route path=\"/collection\">\r\n                        <VIMMain target={\"collection\"} />\r\n                    </Route>\r\n                    <Route path=\"/buddies\">\r\n                        <VIMMain target={\"buddies\"} />\r\n                    </Route>\r\n                </HashRouter>\r\n\r\n                : null}\r\n\r\n\r\n        </ThemeProvider>\r\n    );\r\n}\r\n\r\nfunction VIMMain(props) {\r\n    const target = props.target\r\n\r\n    const routes = {\r\n        \"collection\": Config.ENABLED_PAGES.collection === true ? <CollectionHome /> : <Redirect to=\"/\" />,\r\n        \"buddies\": Config.ENABLED_PAGES.buddies === true ? <BuddiesHome /> : <Redirect to=\"/\" />,\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div style={{ height: \"100vh\", width: \"100vw\", display: \"flex\", overflow: \"auto\" }}>\r\n                <NavBar />\r\n                {routes[target]}\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();"],"sourceRoot":""}