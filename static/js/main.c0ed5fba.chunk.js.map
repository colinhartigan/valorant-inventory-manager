{"version":3,"sources":["services/ClientConfig.js","services/Socket.js","components/config/Config.js","components/config/BackdroppedConfig.js","components/misc/Header.js","components/misc/Footer.js","components/weaponEditor/sub/LevelSelector.js","components/weaponEditor/sub/ChromaSelector.js","components/weaponEditor/sub/SkinGridItem.js","components/weaponEditor/sub/WeaponHeader.js","components/weaponEditor/sub/ActionsDrawer.js","components/weaponEditor/sub/WeightDialog.js","components/weaponEditor/WeaponEditor.js","components/collection/sub/WeaponCollectionItem.js","components/collection/sub/useWindowDimensions.js","components/collection/Collection.js","pages/CollectionHome.js","pages/BuddiesHome.js","components/onboarding/Stepper.js","components/onboarding/WelcomePage.js","components/onboarding/AccountPage.js","pages/Onboarding.js","components/errors/ConnectionFailed.js","components/errors/GameNotRunning.js","components/misc/WebsocketHandshake.js","App.js","reportWebVitals.js","index.js"],"names":["Config","ServerVersion","Socket","this","socket","subscriptions","listening","a","Promise","resolve","reject","readyState","console","log","WebSocket","onerror","event","onopen","messageHandler","error","data","send","JSON","stringify","callback","subscribe","request","removable","type","undefined","existing","action","push","filter","length","onmessage","response","parse","Object","keys","forEach","subscribedEvent","unsubscribe","onclose","useStyles","makeStyles","theme","root","width","height","display","justifySelf","justifyContent","alignContent","flexWrap","overflow","boxShadow","backgroundColor","outline","backgroundClip","header","flexDirection","margin","paddingTop","position","top","zIndex","closeButton","alignSelf","marginRight","body","overflowY","section","flexGrow","marginBottom","sectionHeader","fontSize","variable","variableName","descriptor","selector","alignItems","props","classes","useTheme","useState","config","updateConfig","generateInteraction","key","attrs","Switch","color","checked","value","onClick","target","disabled","includes","FormControl","style","InputLabel","id","Select","options","map","option","index","MenuItem","generateSection","sectionData","className","Typography","variant","settings","settingData","description","marginLeft","generateSetting","Divider","useEffect","fetchConfig","showHeader","palette","primary","light","IconButton","edge","close","Close","Container","maxWidth","backdrop","mainPaper","minWidth","Transition","forwardRef","ref","Slide","direction","BackdroppedConfig","Dialog","fullScreen","open","TransitionComponent","onClose","handleClose","transform","appBar","border","statusBar","spacing","inGameIndicator","loading","animation","Header","React","randomizing","setRandomizing","inGame","setInGame","openSettings","setOpenSettings","state","in","Paper","Toolbar","Grow","Tooltip","title","SportsEsports","actions","Autorenew","Shuffle","Settings","footer","padding","versionText","opacity","Footer","LevelSelector","selectedChromaIndex","maxLevel","levelData","toString","selectedLevelIndex","selectedLevel","setSelectedLevel","values","setter","ToggleButtonGroup","exclusive","onChange","newLevel","uuid","level_type","unlocked","arrow","ToggleButton","selected","favorite","shorthand_display_name","display_name","ChromaSelector","maxChroma","chromaData","setSelectedChroma","swatch_icon","alt","src","weaponPaper","transition","main","container","tierImage","bottom","objectFit","objectPosition","favoriteButton","right","Weapon","skinData","isMelee","weaponData","isFavorite","isselected","setIsselected","isHovered","setIsHovered","equip","warning","onMouseEnter","onMouseLeave","backgroundImage","display_icon","backgroundSize","backgroundRepeat","backgroundPosition","content_tier","left","marginTop","headerButton","WeaponHeader","selectedSkinData","inventoryWeaponData","saving","saveCallback","favoriteCallback","locked","isLocked","lockCallback","weightCallback","dev_name","Math","round","weight","total_weights","mountOnEnter","unmountOnExit","FitnessCenter","Favorite","FavoriteBorder","orientation","Lock","LockOpen","selectedActions","previewAction","previewActionIcon","ActionsDrawer","hasAlternateMedia","showingVideo","changeVideoState","changeVideoStateCallback","showingControls","changeControlsState","changeControlsStateCallback","levelFavorited","isFavoriteLevel","chromaFavorited","isFavoriteChroma","toggleFavoriteLevelCallback","toggleFavoriteChromaCallback","canFavoriteLevel","canFavoriteChroma","visible","outlinecolor","Zoom","Loyalty","LoyaltyOutlined","Palette","PaletteOutlined","StopOutlined","PlayArrowOutlined","Theaters","TheatersOutlined","content","WeightDialog","setWeight","startTotalMinusThis","totalWeights","total","setTotal","cancel","fullWidth","DialogTitle","DialogContent","DialogContentText","Slider","valueLabelDisplay","step","marks","min","max","e","DialogActions","Button","paperOnTopContent","background","paddingBottom","mainSkinMedia","maxHeight","overflowX","paperCustomizingContent","levelSelectors","skinSelector","WeaponEditor","inventoryData","weaponUuid","skinsData","skins","initSkinData","initialSkinData","skin_uuid","setselectedSkinData","levels","loadoutWeaponData","level_uuid","selectedLevelData","setselectedLevelData","chromas","chroma_uuid","selectedChromaData","setselectedChromaData","isFavoriteSkin","setIsFavoriteSkin","favoriteLevels","setFavoriteLevels","favoriteChromas","setFavoriteChromas","setCanFavoriteLevel","setCanFavoriteChroma","setIsFavoriteLevel","setIsFavoriteChroma","setIsLocked","changeOpenState","setSaving","hasUpgrades","setHasUpgrades","changeAlternateMediaState","weightDialogOpen","setWeightDialogOpen","equipSkin","skinUuid","highestLevelIndex","i","j","document","video_preview","favLevels","level","refreshFavoritedLevels","favChromas","chroma","refreshFavoritedChromas","Backdrop","levelUuid","chromaUuid","oldSkinId","oldChromaId","oldLevelId","sameSkin","payload","then","setTimeout","closeEditor","showChromaVideo","showLevelImage","controls","autoPlay","onEnded","getSkinMedia","levelUuidOverride","stateOverride","newState","currentlyFavoritedLevels","splice","indexOf","chromaUuidOverride","currentlyFavoritedChromas","Grid","item","xs","scaleOverrides","weaponContainerVideo","weaponImage","backfaceVisibility","bottomGradient","dataContainer","textContainer","paddingLeft","buddyContainer","buddyImage","weaponLabelHolder","skinLabelHolder","weaponLabel","textAlign","textOverflow","isUpdatingImage","setUpdatingImage","setUpdatingBuddy","updateSkinData","showSkinName","updateSkinNameVisibility","setImage","comparisonTarget","skin_image","buddy_name","Fade","transitionDelay","onMouseDown","weaponEditorCallback","displayName","Collapse","skin_name","isSidearm","buddy_image","getWindowDimensions","window","innerWidth","innerHeight","collectionItem","minHeight","grid","Collection","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","useWindowDimensions","smallWindow","setSmallWindow","useLargeWeaponImage","setUseLargeWeaponImage","row","loadout","md","sidearm","sm","CollectionHome","loaded","setLoaded","updateInventoryData","showWeaponEditor","setWeaponEditorState","setLoadout","weaponEditor","setWeaponEditor","updateInventory","updateLoadout","stepper","steps","OnboardingStepper","activeStep","Stepper","label","Step","StepLabel","headerText","WebkitBackgroundClip","WebkitTextFillColor","bodyText","list","listItem","buttonDiv","startButton","WelcomePage","pageStyle","List","dense","feature","ListItem","ListItemText","nextCallback","start","gameNotRunning","autodetectClient","accountDataList","buttons","nextButton","AccountPage","gameRunning","setGameRunning","enableGameStartButton","setEnableGameStartButton","ready","setReady","accountRetrieved","setaccountRetrieved","accountData","setAccountData","success","ListItemAvatar","Avatar","Person","game_name","game_tag","Place","region","Public","shard","paper","pageContent","Onboarding","pages","nextStep","setActiveStep","default","retryButton","ConnectionFailed","retry","GameNotRunning","setOpen","drawer","WebsocketHandshake","Box","CircularProgress","mainTheme","createTheme","secondary","typography","fontFamily","join","overrides","MuiCssBaseline","App","isLoading","setLoading","showLoad","setShowLoad","connected","setConnected","onboardingCompleted","setOnboardingCompleted","errorPage","setErrorPage","stopLoading","connectSocket","connect","catch","gameStarted","disconnect","gameClosed","onboardingCallback","gameRunningCallback","serverVersionCallback","getStates","ThemeProvider","CssBaseline","startupLoading","basename","exact","path","to","BuddiesHome","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c0ed5fba.chunk.js","sourcesContent":["const Config = {\r\n    VERSION: \"0.1.0b1\",\r\n\r\n    WEBSOCKET_URL: \"ws://localhost:8765\", \r\n    SOCKET_RETRY_THRESHOLD: 5,\r\n\r\n    WEIGHT_INTERVALS: 10,\r\n\r\n    BYPASS_ONBOARDING: true,\r\n\r\n}\r\n\r\nvar ServerVersion = \"\";\r\n\r\nfunction setVersion(version) {\r\n    ServerVersion = version;\r\n}\r\n\r\nexport {Config, ServerVersion, setVersion}","import React from 'react';\r\n\r\nimport {Config} from './ClientConfig';\r\n\r\nclass Socket {\r\n    constructor() {\r\n        this.socket = null\r\n        this.subscriptions = {}\r\n        this.listening = false\r\n    }\r\n\r\n    async connect() {\r\n        this.listening = false;\r\n        return new Promise((resolve, reject) => {\r\n            if (this.socket === null || (this.socket !== null && this.socket.readyState !== 1)) {\r\n                try {\r\n                    console.log(\"connecting\")\r\n                    this.socket = new WebSocket(Config.WEBSOCKET_URL);\r\n                    console.log(this.socket)\r\n                    this.socket.onerror = (event) => {\r\n                        console.log(event)\r\n\r\n                        socket = null\r\n                        return reject();\r\n                    }\r\n                    this.socket.onopen = (event) => {\r\n                        console.log(\"opened\")\r\n                        console.log(this.socket)\r\n                        this.messageHandler()\r\n                        return resolve();\r\n                    }\r\n                } catch (error) {\r\n                    console.log(\"rip\")\r\n                    this.socket = null;\r\n                    return reject();\r\n                }\r\n            } else {\r\n                return resolve();\r\n            }\r\n        })\r\n    }\r\n\r\n    async send(data) {\r\n        if (this.socket !== null) {\r\n            try {\r\n                // console.log(`sending request for ${data.request}`)\r\n                this.socket.send(JSON.stringify(data));\r\n            } catch {\r\n                console.log(\"you fucking moron this state should never occur\")\r\n            }\r\n        } else {\r\n\r\n        }\r\n    }\r\n\r\n    async request(data, callback) {\r\n        if (this.socket !== null) {\r\n            try {\r\n                // console.log(`sending request for ${data.request}`)\r\n                this.socket.send(JSON.stringify(data));\r\n            } catch {\r\n                console.log(\"you fucking moron this state should never occur\")\r\n                return false;\r\n            }\r\n\r\n            this.subscribe(data.request, callback, true)\r\n        } else {\r\n            return false\r\n        }\r\n    }\r\n\r\n    subscribe(event, callback, removable = false, type = \"message\") {\r\n        if (this.subscriptions[event] === undefined) {\r\n            this.subscriptions[event] = []\r\n        }\r\n        //check if the callback is already in the subscriptions for the event\r\n        var existing = false\r\n        for (const action in this.subscriptions[event]) {\r\n            if (action.callback === callback){\r\n                existing = true\r\n            }\r\n        }\r\n        console.log(`existing for ${event}: ${existing}`)\r\n        if(existing === false) {\r\n            this.subscriptions[event].push({\r\n                \"callback\": callback,\r\n                \"removable\": removable,\r\n                \"type\": type,\r\n            })\r\n        }\r\n        \r\n        //console.log(this.subscriptions) \r\n    }\r\n    unsubscribe(event, callback) {\r\n        if (this.subscriptions[event] !== undefined) {\r\n            this.subscriptions[event] = this.subscriptions[event].filter(action => action.callback !== callback)\r\n        }\r\n        if (this.subscriptions[event].length === 0) {\r\n            delete this.subscriptions[event]\r\n        } \r\n    }\r\n\r\n    messageHandler() {\r\n        if (!this.listening) {\r\n            this.listening = true\r\n            this.socket.onmessage = async (event) => {\r\n                const response = JSON.parse(event.data);\r\n                console.log(response)\r\n                Object.keys(this.subscriptions).forEach(subscribedEvent => {\r\n                    if (response.event === subscribedEvent) {\r\n                        for (const action of this.subscriptions[subscribedEvent]) {\r\n                            if (action.type === \"message\") {\r\n                                action.callback(response.data)\r\n                                if (action.removable) {\r\n                                    this.unsubscribe(subscribedEvent, action.callback)\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n            this.socket.onclose = async (event) => {\r\n                console.log(\"closed\")\r\n                for (const action of this.subscriptions[\"onclose\"]) {\r\n                    console.log(action)\r\n                    if (action.type === \"onclose\") {\r\n                        action.callback()\r\n                        if (action.removable) {\r\n                            this.unsubscribe(\"onclose\", action.callback)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nvar socket = new Socket()\r\nexport default socket","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Typography, Divider, Select, InputLabel, MenuItem, FormControl, Switch, Container, IconButton } from '@material-ui/core'\r\n\r\n//icons \r\nimport { Close } from '@material-ui/icons'\r\n\r\nimport socket from \"../../services/Socket\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    root: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        display: \"flex\",\r\n        justifySelf: \"flex-start\",\r\n        justifyContent: \"center\",\r\n        alignContent: \"flex-start\",\r\n        flexWrap: \"wrap\",\r\n        overflow: \"auto\",\r\n        \"&::-webkit-scrollbar\": {\r\n            width: 4,\r\n        },\r\n        \"&::-webkit-scrollbar-track\": {\r\n            boxShadow: `inset 0 0 6px rgba(0, 0, 0, 0.3)`,\r\n        },\r\n        \"&::-webkit-scrollbar-thumb\": {\r\n            backgroundColor: \"darkgrey\",\r\n            outline: `1px solid slategrey`,\r\n            backgroundClip: \"padding-box\",\r\n        },\r\n    },\r\n\r\n    header: {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n        alignContent: \"center\",\r\n        width: \"100%\",\r\n        height: \"75px\",\r\n        margin: \"0px 20px 0px 20px\",\r\n        backgroundColor: \"#424242\",\r\n        paddingTop: \"0px\",\r\n        position: \"sticky\",\r\n        top: 0,\r\n        zIndex: 3,\r\n    },\r\n\r\n    closeButton: {\r\n        width: \"40px\",\r\n        height: \"40px\",\r\n        alignSelf: \"center\",\r\n        justifySelf: \"flex-end\",\r\n        marginRight: \"0px\",\r\n    },\r\n\r\n    body: {\r\n        width: \"95%\",\r\n        alignSelf: \"center\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignContent: \"flex-start\",\r\n        justifyContent: \"flex-start\",\r\n        overflowY: \"auto\",\r\n    },\r\n\r\n    section: {\r\n        width: \"98%\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        alignSelf: \"center\",\r\n        marginBottom: \"10px\",\r\n    },\r\n\r\n    sectionHeader: {\r\n        marginBottom: \"8px\",\r\n        fontSize: \"1.5rem\",\r\n    },\r\n\r\n    variable: {\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        marginBottom: \"10px\",\r\n    },\r\n\r\n    variableName: {\r\n        fontSize: \"1.2rem\",\r\n        flexGrow: 1,\r\n    },\r\n\r\n    descriptor: {\r\n        width: \"75%\",\r\n    },\r\n\r\n    selector: {\r\n        width: \"25%\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifySelf: \"flex-end\",\r\n        flexGrow: 1,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n    }\r\n\r\n}))\r\n\r\nfunction Config(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [config, updateConfig] = useState(null);\r\n\r\n    useEffect(() => {\r\n        console.log(\"mounted\")\r\n        fetchConfig();\r\n    }, [])\r\n\r\n    function fetchConfig() {\r\n        function callback(response) {\r\n            console.log(response)\r\n            updateConfig(response);\r\n        }\r\n        socket.request({ \"request\": \"fetch_config\" }, callback);\r\n    }\r\n\r\n    function generateInteraction(key, data) {\r\n        if (data.attrs === undefined) {\r\n            data.attrs = [];\r\n        }\r\n        switch (data.type) {\r\n            case \"bool\":\r\n\r\n                function toggle(event) {\r\n                    data.value = event.target.checked;\r\n                    console.log(config)\r\n                    updateConfig(config);\r\n                }\r\n\r\n                return (\r\n                    <Switch color=\"primary\" checked={data.value} onClick={toggle} disabled={data.attrs.includes(\"locked\")} />\r\n                )\r\n\r\n            case \"list_selection\":\r\n                return (\r\n                    <FormControl style={{ width: \"100%\" }}>\r\n                        <InputLabel id={key} style={{ width: \"100%\", }}>{data.display}</InputLabel>\r\n                        <Select\r\n                            value={data.value}\r\n                        >\r\n                            {data.options.map((option, index) => {\r\n                                return(\r\n                                    <MenuItem value={index}>{option}</MenuItem>\r\n                                )\r\n                            })}\r\n                        </Select>\r\n                    </FormControl>\r\n                )\r\n\r\n            // text entry\r\n\r\n            default:\r\n                return (null)\r\n        }\r\n    }\r\n\r\n    function generateSetting(key, settingData) {\r\n        return (\r\n            <div className={classes.variable}>\r\n                <div className={classes.descriptor}>\r\n                    <Typography variant=\"subtitle1\" className={classes.variableName} style={{ height: (settingData.description !== undefined ? \"auto\" : \"100%\") }}>{settingData.display !== undefined ? settingData.display : key}</Typography>\r\n\r\n                    {settingData.description !== undefined ?\r\n                        <Typography variant=\"body1\" style={{ marginLeft: \"20px\", }}>{settingData.description}</Typography>\r\n                        : null\r\n                    }\r\n                </div>\r\n                <div className={classes.selector}>\r\n                    {generateInteraction(key, settingData)}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    function generateSection(sectionData) {\r\n        return (\r\n            <div className={classes.section}>\r\n                <Typography variant=\"h6\" className={classes.sectionHeader}>{sectionData.display}</Typography>\r\n\r\n                {Object.keys(sectionData.settings).map(key => {\r\n                    var data = sectionData.settings[key]\r\n                    return generateSetting(key, data);\r\n                })}\r\n\r\n                <Divider style={{ margin: \"10px 10px\" }} />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    function generateVisuals() {\r\n        return (\r\n            <Container maxWidth=\"xl\" className={classes.body}>\r\n                {Object.keys(config).map(section => {\r\n                    var sectionData = config[section];\r\n                    return generateSection(sectionData);\r\n                })}\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            {props.showHeader ? \r\n                <div className={classes.header}>\r\n                    <Typography variant=\"h4\" style={{ color: theme.palette.primary.light, fontSize: \"2.2rem\", flexGrow: 1, margin: \"auto\" }}>Settings</Typography>\r\n                    <IconButton\r\n                        aria-label=\"randomize\"\r\n                        aria-controls=\"menu-appbar\"\r\n                        aria-haspopup=\"true\"\r\n                        edge=\"end\"\r\n                        color=\"inherit\"\r\n                        className={classes.closeButton}\r\n                        onClick={() => props.close(false)}\r\n                    >\r\n                        <Close />\r\n                    </IconButton>\r\n                </div>\r\n            : null}\r\n\r\n            {config !== null ? generateVisuals() : null}\r\n            {/* <div className={classes.body}>\r\n                <div className={classes.section}>\r\n                    <Typography variant=\"h6\" className={classes.sectionHeader}>VALORANT Client Settings</Typography>\r\n\r\n                    <div className={classes.variable}>\r\n                        <div className={classes.descriptor}>\r\n                            <Typography variant=\"subtitle1\" className={classes.variableName}>Sample list select</Typography>\r\n                            <Typography variant=\"body1\">this is a descriptive description</Typography>\r\n                        </div>\r\n                        <div className={classes.selector}>\r\n                            <FormControl style={{ width: \"100%\" }}>\r\n                                <InputLabel id=\"demo-simple-select-label\" style={{ width: \"100%\", }}>List</InputLabel>\r\n                                <Select>\r\n                                    <MenuItem value={null}>NA</MenuItem>\r\n                                    <MenuItem value={null}>EU</MenuItem>\r\n                                    <MenuItem value={null}>KR</MenuItem>\r\n                                </Select>\r\n                            </FormControl>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={classes.variable}>\r\n                        <div className={classes.descriptor}>\r\n                            <Typography variant=\"subtitle1\" className={classes.variableName}>Sample toggle</Typography>\r\n                            <Typography variant=\"body1\">this is a descriptive description, but slightly longer</Typography>\r\n                        </div>\r\n                        <div className={classes.selector}>\r\n                            <Switch color=\"primary\" />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={classes.variable}>\r\n                        <div className={classes.descriptor} style={{ width: \"63%\" }}>\r\n                            <Typography variant=\"subtitle1\" className={classes.variableName}>Sample entry</Typography>\r\n                            <Typography variant=\"body1\">notice how the text entry is slightly wider than the other things</Typography>\r\n                        </div>\r\n                        <div className={classes.selector} style={{ width: \"35%\", marginLeft: \"2%\" }}>\r\n                            <TextField id=\"outlined-basic\" label=\"Entry\" variant=\"standard\" style={{ width: \"100%\", }} />\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <Divider variant=\"middle\" /> \r\n            </div> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Config;","import { React, useEffect, useState, forwardRef } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Paper, Dialog, Slide, Divider, Select, InputLabel, MenuItem, FormControl } from '@material-ui/core'\r\n\r\n//icons \r\nimport { Theaters, TheatersOutlined, Palette, Loyalty, LoyaltyOutlined, PaletteOutlined, PlayArrowOutlined, StopOutlined } from '@material-ui/icons'\r\n\r\nimport Config from \"./Config.js\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    backdrop: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n    mainPaper: {\r\n        margin: \"auto\",\r\n        width: \"40%\",\r\n        height: \"70vh\",\r\n        minWidth: \"450px\",\r\n        maxWidth: \"600px\",\r\n\r\n        display: \"flex\",\r\n        justifySelf: \"flex-start\",\r\n        justifyContent: \"center\",\r\n        alignContent: \"flex-start\",\r\n        flexWrap: \"wrap\",\r\n        overflow: \"auto\",\r\n    },\r\n\r\n}))\r\n\r\nconst Transition = forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nfunction BackdroppedConfig(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    return (\r\n        <Dialog fullScreen open={props.open} TransitionComponent={Transition} onClose={props.handleClose}>\r\n            <Config close={props.close} showHeader/>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default BackdroppedConfig;","import React, { useEffect } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Grid, Grow, Typography, Toolbar, IconButton, Slide, Paper, Tooltip } from '@material-ui/core'\r\n\r\n//icons\r\nimport { Settings, Shuffle, Autorenew, SportsEsports } from '@material-ui/icons';\r\n\r\nimport socket from \"../../services/Socket\";\r\nimport BackdroppedConfig from \"../config/BackdroppedConfig.js\"\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    \"@global\": {\r\n        \"@keyframes spin\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    appBar: {\r\n        margin: \"12px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        height: \"50px\",\r\n        zIndex: 2,\r\n        backgroundColor: \"rgba(0, 0, 0, 0)\",\r\n        border: \"0px rgb(255,255,255) solid\",\r\n    },\r\n\r\n    statusBar: {\r\n        alignSelf: \"center\",\r\n        justifySelf: \"center\",\r\n        display: \"flex\",\r\n        marginRight: theme.spacing(1),\r\n        flexGrow: 1,\r\n    },\r\n\r\n    inGameIndicator: {\r\n        alignSelf: \"center\",\r\n        color: \"#9de069\",\r\n    },\r\n\r\n    action: {\r\n        width: \"40px\",\r\n        height: \"40px\",\r\n        margin: theme.spacing(.25),\r\n    },\r\n\r\n    loading: {\r\n        animation: \"spin 4s linear infinite\",\r\n    },\r\n\r\n}));\r\n\r\n\r\nfunction Header(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [randomizing, setRandomizing] = React.useState(false);\r\n    const [inGame, setInGame] = React.useState(false);\r\n\r\n    const [openSettings, setOpenSettings] = React.useState(false);\r\n\r\n    useEffect(() => {\r\n        function ingameCallback(response){\r\n            setInGame(response.state)\r\n        }\r\n        socket.subscribe(\"game_state\",ingameCallback)\r\n    }, [])\r\n\r\n    async function randomize() {\r\n        setRandomizing(true);\r\n        // setTimeout(() => {\r\n        //     setRandomizing(false);\r\n        // }, 3000);\r\n        function callback(response) {\r\n            setRandomizing(false);\r\n        }\r\n        \r\n        socket.request({ \"request\": \"randomize_skins\" }, callback);\r\n    }\r\n\r\n    // socket.onmessage = async (event) => {\r\n    //     const response = JSON.parse(event.data);\r\n    //     console.log(response)\r\n    //     if (response.event === \"game_state\") {\r\n    //         if (response.data.state === true) {\r\n    //             setInGame(true);\r\n    //         } else {\r\n    //             setInGame(false);\r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n\r\n    return (\r\n        <>\r\n            <BackdroppedConfig open={openSettings} close={setOpenSettings}/>\r\n            <Slide direction=\"down\" in>\r\n                <Paper variant=\"outlined\" className={classes.appBar} position=\"static\">\r\n                    <Toolbar style={{height: \"100%\", width: \"100%\",}}>\r\n\r\n                        <Typography variant=\"h5\" style={{ flexGrow: 0, marginRight: theme.spacing(2) }}>\r\n                            placeholder title\r\n                        </Typography>\r\n\r\n                        <div className={classes.statusBar}>\r\n                            <Grow in={inGame}>\r\n                                <Tooltip title=\"In game\">\r\n                                    <SportsEsports className={classes.inGameIndicator} />\r\n                                </Tooltip>\r\n                            </Grow>\r\n                        </div>\r\n\r\n                        <div className={classes.actions}>\r\n\r\n                            {/* shuffle */}\r\n                            <IconButton\r\n                                aria-label=\"randomize\"\r\n                                aria-controls=\"menu-appbar\"\r\n                                aria-haspopup=\"true\"\r\n                                edge=\"end\"\r\n                                onClick={randomizing ? null : randomize}\r\n                                color=\"inherit\"\r\n                                className={classes.action}\r\n                            >\r\n                                {randomizing ? <Autorenew className={classes.loading} /> : <Shuffle />}\r\n                            </IconButton>\r\n\r\n                            {/* settings/account */}\r\n                            <IconButton\r\n                                aria-label=\"settings button lol\"\r\n                                aria-controls=\"menu-appbar\"\r\n                                aria-haspopup=\"true\"\r\n                                edge=\"end\"\r\n                                // onClick={}\r\n                                color=\"inherit\"\r\n                                className={classes.action}\r\n                                onClick={() => setOpenSettings(true)}\r\n                            >\r\n                                <Settings/>\r\n                            </IconButton>\r\n\r\n                            {/* add a menu here for settings and stuff */}\r\n                        </div>\r\n                    </Toolbar>\r\n                </Paper>\r\n            </Slide>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Header","import React, { useEffect } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Grid, Grow, Typography, Toolbar, IconButton, Slide, Paper, Tooltip } from '@material-ui/core'\r\n\r\n//icons\r\nimport { Settings, Shuffle, Autorenew, SportsEsports } from '@material-ui/icons';\r\n\r\nimport socket from \"../../services/Socket\";\r\nimport { Config, ServerVersion } from \"../../services/ClientConfig\"\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    footer: {\r\n        alignSelf: \"flex-end\",\r\n        justifySelf: \"flex-end\",\r\n        height: \"50px\",\r\n        width: \"100%\",\r\n        padding: \"10px\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n    },\r\n\r\n    versionText: {\r\n        alignSelf: \"flex-end\",\r\n        width: \"50%\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-end\",\r\n        alignItems: \"center\",\r\n        flexGrow: 1,\r\n        opacity: .5,\r\n    }\r\n\r\n}));\r\n\r\n\r\nfunction Footer(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className={classes.footer}>\r\n                <div className={classes.versionText}>\r\n                    <Typography variant=\"subtitle2\">\r\n                        client v{Config.VERSION} / server v{ServerVersion}\r\n                    </Typography>\r\n                </div>\r\n\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Footer","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Tooltip, Container, Typography, Toolbar, IconButton, Slide, AppBar } from '@material-ui/core';\r\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n\r\n}));\r\n\r\n\r\nfunction LevelSelector(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const selectedChromaIndex = props.selectedChromaIndex;\r\n    const maxLevel = Object.keys(props.levelData).length.toString();\r\n\r\n    const [selectedLevel, setSelectedLevel] = useState(props.selectedLevelIndex.toString());\r\n\r\n    function handleLevelChange(event, newLevel) {\r\n        if (newLevel !== null) {\r\n            setSelectedLevel(newLevel);\r\n            var levelData = Object.values(props.levelData)[newLevel - 1]\r\n            props.setter(levelData)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (selectedChromaIndex !== 1 && selectedLevel !== maxLevel) {\r\n            setSelectedLevel(maxLevel);\r\n            var levelData = Object.values(props.levelData)[maxLevel - 1]\r\n            props.setter(levelData)\r\n        }\r\n    }, [selectedChromaIndex])\r\n\r\n    useEffect(() => {\r\n        setSelectedLevel(props.selectedLevelIndex.toString())\r\n    }, [props.selectedLevelIndex])\r\n\r\n    if (maxLevel !== \"1\"){\r\n        return (\r\n            <div style={{ width: \"50%\", display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-start\", height: \"45px\", }}>\r\n\r\n                <ToggleButtonGroup\r\n                    value={selectedLevel}\r\n                    exclusive\r\n                    onChange={handleLevelChange}\r\n                    aria-label=\"chroma level\"\r\n                    style={{ width: \"90%\", height: \"95%\" }}\r\n                >\r\n                    {Object.keys(props.levelData).map(uuid => {\r\n                        var data = props.levelData[uuid]\r\n                        var index = data.index.toString();\r\n                        return (\r\n                            <Tooltip key={data.display_name} title={data.level_type} disabled={!data.unlocked || (!(selectedChromaIndex === 1 && index !== 1) && index !== maxLevel)} arrow>\r\n                                <ToggleButton selected={selectedLevel === index} value={index} aria-label={data.index} style={{ border: (data.favorite ? `1px #996D2D solid` : null) }}>\r\n                                    {data.shorthand_display_name}\r\n                                </ToggleButton>\r\n                            </Tooltip>\r\n                        )\r\n                    })}\r\n\r\n                </ToggleButtonGroup>\r\n\r\n            </div>\r\n        )\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\nexport default LevelSelector","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Tooltip, Container, Typography, Toolbar, IconButton, Slide, AppBar } from '@material-ui/core';\r\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n}));\r\n\r\n\r\nfunction ChromaSelector(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    const selectedLevelIndex = props.selectedLevelIndex;\r\n    const maxChroma = Object.keys(props.chromaData).length.toString();\r\n    const maxLevel = Object.keys(props.levelData).length.toString();\r\n\r\n    const [selectedChromaIndex, setSelectedChroma] = useState(props.selectedChromaIndex.toString())\r\n\r\n    function handleChromaChange(event, newLevel) {\r\n        if (newLevel !== null) {\r\n            setSelectedChroma(newLevel);\r\n            var chromaData = Object.values(props.chromaData)[newLevel - 1]\r\n            props.setter(chromaData)\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        setSelectedChroma(props.selectedChromaIndex.toString())\r\n    }, [props.selectedChromaIndex])\r\n\r\n    if (maxChroma !== \"1\"){\r\n        return (\r\n            <div style={{ flexGrow: 1, width: \"50%\", display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-end\", height: \"45px\", }}>\r\n                <ToggleButtonGroup\r\n                    value={selectedChromaIndex}\r\n                    exclusive\r\n                    onChange={handleChromaChange}\r\n                    aria-label=\"skin level\"\r\n                    style={{ width: \"90%\", height: \"95%\", justifyContent: \"flex-end\", marginLeft: 0 }}\r\n                >\r\n    \r\n                    {Object.keys(props.chromaData).map(uuid => {\r\n                        var data = props.chromaData[uuid]\r\n                        var index = data.index.toString()\r\n                        if (data.swatch_icon !== null) {\r\n                            return (\r\n                                <Tooltip key={data.display_name} title={data.unlocked ? (data.favorite ? `Favorited - ${data.display_name}` : data.display_name) : `${data.display_name} (Locked)`} disabled={!data.unlocked} arrow>\r\n                                    <ToggleButton selected={selectedChromaIndex === index} value={index} aria-label={data.index} style={{ border: (data.favorite ? `1px #996D2D solid` : null) }}>\r\n                                        <img alt={data.display_name} src={data.swatch_icon} style={{ width: \"25px\", height: \"auto\", filter: !data.unlocked ? \"grayscale(90%)\" : \"\" }} />\r\n                                    </ToggleButton>\r\n                                </Tooltip>\r\n                            )\r\n                        } else {\r\n                            return null\r\n                        }\r\n                    })}\r\n                </ToggleButtonGroup>\r\n            </div>\r\n        )\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\nexport default ChromaSelector;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Paper, Typography, Box, CircularProgress } from '@material-ui/core'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    weaponPaper: {\r\n        width: \"100%\",\r\n        height: \"75px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        transition: \"0.1s ease-out !important\",\r\n        \"&:hover\": {\r\n            border: `1px ${theme.palette.primary.main} solid`,\r\n        },\r\n    },\r\n\r\n    container: {\r\n        width: \"93%\",\r\n        height: \"90%\",\r\n        display: \"flex\",\r\n    },\r\n\r\n    tierImage: {\r\n        height: \"25px\",\r\n        alignSelf: \"flex-end\",\r\n        margin: \"3px 3px\",\r\n        position: \"relative\",\r\n        bottom: \"-2px\",\r\n        objectFit: \"contain\",\r\n        objectPosition: \"left center\",\r\n    },\r\n\r\n    favoriteButton: {\r\n        alignSelf: \"flex-end\",\r\n        right: \"2px\",\r\n        height: \"25px\",\r\n        objectPosition: \"center center\"\r\n    }\r\n\r\n}));\r\n\r\nfunction Weapon(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const skinData = props.skinData;\r\n    const weaponData = props.weaponData;\r\n    const isMelee = weaponData.uuid === \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\"\r\n\r\n    const isFavorite = props.skinData.favorite\r\n\r\n    const [isselected, setIsselected] = useState(skinData.uuid === props.selected.uuid);\r\n    const [isHovered, setIsHovered] = useState(false);\r\n\r\n    function equip() {\r\n        props.equip(skinData.uuid);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (props.selected.uuid === skinData.uuid) {\r\n            setIsselected(true);\r\n        } else {\r\n            setIsselected(false);\r\n        }\r\n    }, [props.selected]);\r\n\r\n    return (\r\n        <Paper\r\n            variant=\"outlined\"\r\n            className={classes.weaponPaper}\r\n            onClick={equip}\r\n            style={{\r\n                border: ((isFavorite && !isHovered) ? `1px ${theme.palette.warning.light} solid` : (isselected ? `1px ${theme.palette.primary.light} solid` : null)),\r\n            }}\r\n            onMouseEnter={() => setIsHovered(true)}\r\n            onMouseLeave={() => setIsHovered(false)}\r\n        >\r\n            <div className={classes.container} style={{\r\n                backgroundImage: `url(${skinData.display_icon})`,\r\n                backgroundSize: !isMelee ? \"contain\" : \"auto 87%\",\r\n                backgroundRepeat: \"no-repeat\",\r\n                backgroundPosition: \"50% 50%\",\r\n\r\n                flexDirection: isMelee ? \"column\" : \"row\",\r\n                justifyContent: isMelee ? \"flex-end\" : null,\r\n            }}>\r\n\r\n                {/* <Box position=\"relative\" display=\"inline-flex\">\r\n                    <CircularProgress variant=\"determinate\" value={100} />\r\n                    <Box\r\n                        top={0}\r\n                        left={0}\r\n                        bottom={0}\r\n                        right={0}\r\n                        position=\"absolute\"\r\n                        display=\"flex\"\r\n                        alignItems=\"center\"\r\n                        justifyContent=\"center\"\r\n                    >\r\n                        <Typography variant=\"caption\" component=\"div\" color=\"textSecondary\">{`${Math.round(\r\n                            props.value,\r\n                        )}%`}</Typography>\r\n                        <img component=\"div\" src={skinData.content_tier.display_icon} alt=\"tier\" style={{ height: \"100%\", objectFit: \"contain\", }} />\r\n                    </Box>\r\n                </Box> */}\r\n\r\n                <img alt={skinData.content_tier.display_name} src={skinData.content_tier.display_icon} className={classes.tierImage} style={{ left: !isMelee ? \"-6px\" : \"6px\" }} />\r\n\r\n            </div>\r\n        </Paper>\r\n    )\r\n\r\n}\r\n\r\nexport default Weapon;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Typography, Tooltip, IconButton, Grow, Divider } from '@material-ui/core'\r\n\r\n//icons\r\nimport { Close, Autorenew, LockOpen, Lock, Favorite, FavoriteBorder, FitnessCenter, } from '@material-ui/icons'\r\n\r\nimport { Config } from \"../../../services/ClientConfig\"\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \"@global\": {\r\n        \"@keyframes spin\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    header: {\r\n        width: \"auto\",\r\n        display: \"flex\",\r\n        marginTop: \"15px\",\r\n        flexWrap: \"wrap\",\r\n        flexDirection: \"row-reverse\"\r\n    },\r\n\r\n    headerButton: {\r\n        marginLeft: theme.spacing(.25),\r\n    },\r\n\r\n    loading: {\r\n        animation: \"spin 4s linear infinite\",\r\n    }\r\n\r\n}))\r\n\r\nfunction WeaponHeader(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const selectedSkinData = props.selectedSkinData;\r\n    const inventoryWeaponData = props.inventoryWeaponData;\r\n\r\n    const saving = props.saving;\r\n    const saveCallback = props.saveCallback;\r\n\r\n    const favorite = props.isFavorite\r\n    const favoriteCallback = props.favoriteCallback;\r\n    \r\n    const locked = props.isLocked\r\n    const lockCallback = props.lockCallback;\r\n\r\n    const weightCallback = props.weightCallback;\r\n\r\n    return (\r\n        <div className={classes.header}>\r\n            <div style={{ display: \"flex\", \"order\": 2, flexGrow: 1 }}>\r\n                <div style={{ width: \"auto\", alignSelf: \"center\" }}>\r\n                    {selectedSkinData.content_tier.dev_name !== \"Standard\" ? \r\n                    <img alt={selectedSkinData.content_tier.dev_name} src={selectedSkinData.content_tier.display_icon} style={{ width: \"auto\", height: \"40px\", justifySelf: \"center\", marginRight: \"10px\" }} />\r\n                    : null}\r\n                </div>\r\n\r\n                <div>\r\n                    <Typography variant=\"h5\">\r\n                        {selectedSkinData.display_name}\r\n                    </Typography>\r\n                    <Typography variant=\"overline\">\r\n                        {selectedSkinData.content_tier.dev_name !== \"Battlepass\" ? selectedSkinData.content_tier.dev_name : \"Unlockable\"} {inventoryWeaponData.display_name} {selectedSkinData.favorite ? `// ${Math.round((selectedSkinData.weight/inventoryWeaponData.total_weights)*100)}% CHANCE (${selectedSkinData.weight}/${inventoryWeaponData.total_weights})` : null}\r\n                    </Typography>\r\n                </div>\r\n            </div>\r\n\r\n            <div style={{ flexGrow: 1, display: \"flex\", justifyContent: \"flex-end\" }}>\r\n\r\n                <Grow in={favorite} mountOnEnter unmountOnExit>\r\n                    <Tooltip title=\"Set randomizer weight\" className={classes.headerButton}>\r\n                        <IconButton onClick={() => {weightCallback(true)}} style={{ height: \"40px\", width: \"40px\" }}>\r\n                            <FitnessCenter />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                </Grow>\r\n\r\n                <Tooltip title={favorite ? \"Remove skin from favorites\" : \"Add skin to favorites\"} className={classes.headerButton}>\r\n                    <IconButton onClick={favoriteCallback} style={{ height: \"40px\", width: \"40px\" }}>\r\n                        {favorite ? <Favorite /> : <FavoriteBorder />}\r\n                    </IconButton>\r\n                </Tooltip>\r\n\r\n                <Divider orientation=\"vertical\" variant=\"middle\" style={{height: \"40px\",}} />\r\n\r\n                <Tooltip title={locked ? \"Unlock weapon from randomization\" : \"Lock weapon from randomization\"} className={classes.headerButton}>\r\n                    <IconButton onClick={lockCallback} style={{ height: \"40px\", width: \"40px\" }}>\r\n                        {locked ? <Lock /> : <LockOpen />}\r\n                    </IconButton>\r\n                </Tooltip>\r\n\r\n                <Tooltip title=\"Save\" className={classes.headerButton}>\r\n                    <IconButton onClick={saveCallback} style={{ height: \"40px\", width: \"40px\" }}>\r\n                        {saving ? <Autorenew className={classes.loading} /> : <Close />}\r\n                    </IconButton>\r\n                </Tooltip>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WeaponHeader;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Paper, Tooltip, CircularProgress, IconButton, Zoom, Grow } from '@material-ui/core'\r\n\r\n//icons \r\nimport { Theaters, TheatersOutlined, Palette, Loyalty, LoyaltyOutlined, PaletteOutlined, PlayArrowOutlined, StopOutlined } from '@material-ui/icons'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    selectedActions: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        marginTop: \"10px\",\r\n        marginLeft: \"10px\",\r\n        padding: \"2px\",\r\n        transition: \"all .2s ease !important\",\r\n    },\r\n\r\n    previewAction: {\r\n        height: \"35px\",\r\n        width: \"35px\",\r\n        alignSelf: \"center\",\r\n        margin: theme.spacing(.25),\r\n        transition: \"all .2s ease !important\",\r\n    },\r\n\r\n    previewActionIcon: {\r\n        width: \"20px\",\r\n        height: \"20px\",\r\n    },\r\n\r\n}))\r\n\r\nfunction ActionsDrawer(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const hasAlternateMedia = props.hasAlternateMedia\r\n    const showingVideo = props.showingVideo\r\n    const changeVideoState = props.changeVideoStateCallback\r\n\r\n    const showingControls = props.showingControls \r\n    const changeControlsState = props.changeControlsStateCallback\r\n\r\n    const levelFavorited = props.isFavoriteLevel\r\n    const chromaFavorited = props.isFavoriteChroma\r\n    const toggleFavoriteLevelCallback = props.toggleFavoriteLevelCallback\r\n    const toggleFavoriteChromaCallback = props.toggleFavoriteChromaCallback\r\n    const canFavoriteLevel = props.canFavoriteLevel\r\n    const canFavoriteChroma = props.canFavoriteChroma\r\n\r\n    const visible = (hasAlternateMedia || canFavoriteLevel || canFavoriteChroma)\r\n\r\n    return (\r\n        <>\r\n            <Grow in={visible} mountOnEnter unmountOnExit>\r\n                <Paper variant=\"outlined\" outlinecolor=\"secondary\" className={classes.selectedActions}>\r\n\r\n                    <Zoom in={canFavoriteLevel} mountOnEnter unmountOnExit>\r\n                        <Tooltip title={levelFavorited ? \"Remove level from favorites\" : \"Add level to favorites\"}>\r\n                            <IconButton onClick={() => {toggleFavoriteLevelCallback()}} aria-label=\"favorite level\" className={classes.previewAction}>\r\n                                {levelFavorited ? <Loyalty className={classes.previewActionIcon} /> : <LoyaltyOutlined className={classes.previewActionIcon} />}\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </Zoom>\r\n\r\n                    <Zoom in={canFavoriteChroma} mountOnEnter unmountOnExit>\r\n                        <Tooltip title={chromaFavorited ? \"Remove chroma from favorites\" : \"Add chroma to favorites\"}>\r\n                            <IconButton onClick={() => {toggleFavoriteChromaCallback()}} aria-label=\"favorite chroma\" className={classes.previewAction}>\r\n                                {chromaFavorited ? <Palette className={classes.previewActionIcon} /> : <PaletteOutlined className={classes.previewActionIcon} />}\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </Zoom>\r\n\r\n                    <Zoom in={hasAlternateMedia} mountOnEnter unmountOnExit>\r\n                        <Tooltip title={showingVideo ? \"Stop video preview\" : \"Play video preview\"}>\r\n                            <IconButton onClick={() => { changeVideoState(!showingVideo) }} aria-label=\"preview\" className={classes.previewAction}>\r\n                                {showingVideo ? <StopOutlined className={classes.previewActionIcon} /> : <PlayArrowOutlined className={classes.previewActionIcon} />}\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </Zoom>\r\n\r\n                    <Zoom in={showingVideo} mountOnEnter unmountOnExit>\r\n                        <Tooltip title={showingControls ? \"Hide video controls\" : \"Show video controls\"}>\r\n                            <IconButton onClick={() => { changeControlsState(!showingControls) }} aria-label=\"preview\" className={classes.previewAction}>\r\n                                {showingControls ? <Theaters className={classes.previewActionIcon} /> : <TheatersOutlined className={classes.previewActionIcon} />}\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </Zoom>\r\n\r\n                </Paper>\r\n            </Grow>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ActionsDrawer;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button, Slider } from '@material-ui/core'\r\n\r\n\r\nimport { Config } from '../../../services/ClientConfig';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \"@global\": {\r\n        \"@keyframes spin\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    content: {\r\n        margin: \"0px 10px 0px 10px\"\r\n    }\r\n\r\n}))\r\n\r\nfunction WeightDialog(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [weight, setWeight] = useState(0);\r\n\r\n    const startTotalMinusThis = props.totalWeights - props.weight\r\n    const [total, setTotal] = useState(startTotalMinusThis);\r\n\r\n    useEffect(() => {\r\n        if (props.open) {\r\n            setWeight(props.weight)\r\n            setTotal(startTotalMinusThis + weight);\r\n        }\r\n    }, [props.open])\r\n\r\n    useEffect(() => {\r\n        setTotal(startTotalMinusThis + weight);\r\n    }, [weight])\r\n\r\n    useEffect(() => {\r\n        setWeight(props.weight)\r\n    }, [props.weight])\r\n\r\n    function cancel() {\r\n        props.close(false)\r\n        setWeight(props.weight)\r\n    }\r\n\r\n    function save() {\r\n        props.saveCallback(weight, total)\r\n    }\r\n\r\n    return (\r\n        <Dialog open={props.open} fullWidth maxWidth=\"xs\" onClose={cancel}>\r\n            <DialogTitle>Randomizer Weight</DialogTitle>\r\n            <DialogContent className={classes.content}>\r\n                <DialogContentText style={{ marginBottom: \"20px\", }}>\r\n                    Weights are relative, so there is a <strong>{Math.round((weight / total) * 100)}%</strong> chance this skin will be selected.\r\n                </DialogContentText>\r\n                <Slider\r\n                    valueLabelDisplay=\"auto\"\r\n                    step={1}\r\n                    marks\r\n                    min={1}\r\n                    max={Config.WEIGHT_INTERVALS}\r\n                    value={weight}\r\n                    onChange={(e, value) => setWeight(value)}\r\n                />\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button color=\"primary\" onClick={cancel}>\r\n                    Cancel\r\n                </Button>\r\n                <Button color=\"primary\" onClick={save}>\r\n                    Save\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default WeightDialog;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Grow, Backdrop, Paper, Grid, Container, Divider, IconButton, Tooltip, ClickAwayListener } from '@material-ui/core';\r\n\r\nimport LevelSelector from './sub/LevelSelector.js';\r\nimport ChromaSelector from './sub/ChromaSelector.js';\r\nimport Weapon from './sub/SkinGridItem.js';\r\nimport WeaponHeader from './sub/WeaponHeader.js';\r\nimport ActionsDrawer from './sub/ActionsDrawer.js';\r\nimport WeightDialog from './sub/WeightDialog.js'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    backdrop: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n    mainPaper: {\r\n        margin: \"auto\",\r\n        width: \"100%\",\r\n        height: \"90vh\",\r\n        minWidth: \"400px\",\r\n        maxWidth: \"800px\",\r\n\r\n        display: \"flex\",\r\n        justifySelf: \"flex-start\",\r\n        justifyContent: \"center\",\r\n        alignContent: \"flex-start\",\r\n        flexWrap: \"wrap\",\r\n        overflow: \"auto\",\r\n        \"&::-webkit-scrollbar\": {\r\n            width: 4,\r\n        },\r\n        \"&::-webkit-scrollbar-track\": {\r\n            boxShadow: `inset 0 0 6px rgba(0, 0, 0, 0.3)`,\r\n        },\r\n        \"&::-webkit-scrollbar-thumb\": {\r\n            backgroundColor: \"darkgrey\",\r\n            outline: `1px solid slategrey`,\r\n            backgroundClip: \"padding-box\",\r\n        },\r\n    },\r\n\r\n\r\n    // stuff like skin name, weapon name, skin image\r\n    paperOnTopContent: {\r\n        width: \"93%\",\r\n        background: \"#424242\",\r\n        paddingBottom: \"10px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        position: \"sticky\",\r\n        top: 0,\r\n        zIndex: 4,\r\n    },\r\n\r\n    mainSkinMedia: {\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        alignContent: \"center\",\r\n        justifyContent: \"center\",\r\n        marginTop: \"10px\",\r\n        maxHeight: \"350px\", \r\n        maxWidth: \"100%\", \r\n        overflowX: \"hidden\",\r\n        transition: \"all .2s ease\",\r\n    },\r\n\r\n    //container for subcomponents\r\n    paperCustomizingContent: {\r\n        width: \"93%\",\r\n        height: \"auto\",\r\n        marginTop: \"5px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        overflowY: \"auto\",\r\n        alignItems: \"stretch\",\r\n        top: 0,\r\n    },\r\n\r\n    levelSelectors: {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        width: \"100%\",\r\n        flexGrow: 1,\r\n        marginBottom: \"15px\",\r\n        transition: \"all .2s ease\",\r\n    },\r\n\r\n    skinSelector: {\r\n        marginBottom: \"15px\",\r\n        marginTop: \"15px\",\r\n        padding: \"2px 2px\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n\r\n\r\n}));\r\n\r\n\r\nfunction WeaponEditor(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const inventoryWeaponData = props.inventoryData[props.weaponUuid]\r\n    const skinsData = inventoryWeaponData.skins\r\n    const initSkinData = props.initialSkinData\r\n\r\n    //skin data states\r\n    const [selectedSkinData, setselectedSkinData] = useState(skinsData[initSkinData.skin_uuid]);\r\n    const [selectedLevelData, setselectedLevelData] = useState(skinsData[initSkinData.skin_uuid].levels[props.loadoutWeaponData.level_uuid])\r\n    const [selectedChromaData, setselectedChromaData] = useState(skinsData[initSkinData.skin_uuid].chromas[props.loadoutWeaponData.chroma_uuid])\r\n\r\n    //favorites states\r\n    const [isFavoriteSkin, setIsFavoriteSkin] = useState(skinsData[initSkinData.skin_uuid].favorite)\r\n    const [favoriteLevels, setFavoriteLevels] = useState();\r\n    const [favoriteChromas, setFavoriteChromas] = useState();\r\n\r\n    const [canFavoriteLevel, setCanFavoriteLevel] = useState(true)\r\n    const [canFavoriteChroma, setCanFavoriteChroma] = useState(true)\r\n\r\n    const [isFavoriteLevel, setIsFavoriteLevel] = useState(false);\r\n    const [isFavoriteChroma, setIsFavoriteChroma] = useState(false);\r\n\r\n    //locked states\r\n    const [isLocked, setIsLocked] = useState(inventoryWeaponData.locked);\r\n\r\n    //modal states\r\n    const [open, changeOpenState] = useState(true);\r\n    const [saving, setSaving] = useState(false);\r\n    const [hasUpgrades, setHasUpgrades] = useState(false);\r\n\r\n    //video states\r\n    const [showingVideo, changeVideoState] = useState(false);\r\n    const [hasAlternateMedia, changeAlternateMediaState] = useState(false);\r\n    const [showingControls, changeControlsState] = useState(false);\r\n\r\n    //weight dialog states\r\n    const [weightDialogOpen, setWeightDialogOpen] = useState(false);\r\n\r\n\r\n    //effect listeners\r\n    useEffect(() => {\r\n        if (open) {\r\n            document.title = `VSM // ${inventoryWeaponData.display_name}`\r\n        }\r\n    }, [open])\r\n\r\n    // things that should update whenever skin, level, or chroma changes\r\n    useEffect(() => {\r\n        refresh();\r\n    }, [selectedSkinData, selectedLevelData, selectedChromaData])\r\n\r\n    // on initial open, update level/chroma selectors\r\n    useEffect(() => {\r\n        equipSkin(initSkinData.skin_uuid);\r\n        setselectedLevelData(skinsData[initSkinData.skin_uuid].levels[props.loadoutWeaponData.level_uuid])\r\n        setselectedChromaData(skinsData[initSkinData.skin_uuid].chromas[props.loadoutWeaponData.chroma_uuid])\r\n    }, [])\r\n\r\n\r\n    // functions\r\n    function refresh() {\r\n        updateAlternateMedia();\r\n        refreshFavorited();\r\n        refreshFavoritedLevels();\r\n        refreshFavoritedChromas();\r\n    }\r\n\r\n    function save() {\r\n        //update if there were changes to favorites and stuff\r\n        setSaving(true);\r\n        var data = {\r\n            weaponUuid: props.weaponUuid,\r\n            skinUuid: selectedSkinData[\"uuid\"],\r\n            levelUuid: selectedLevelData[\"uuid\"],\r\n            chromaUuid: selectedChromaData[\"uuid\"],\r\n            inventoryData: inventoryWeaponData,\r\n            skinsData: skinsData,\r\n        }\r\n        var oldSkinId = initSkinData.skin_uuid\r\n        var oldChromaId = initSkinData.chroma_uuid\r\n        var oldLevelId = initSkinData.level_uuid\r\n        var sameSkin = selectedLevelData[\"uuid\"] === oldLevelId && selectedChromaData[\"uuid\"] === oldChromaId && selectedSkinData[\"uuid\"] === oldSkinId;\r\n\r\n        var payload = JSON.stringify(data);\r\n        props.saveCallback(payload, sameSkin)\r\n            .then(() => {\r\n                close();\r\n            });\r\n    }\r\n\r\n    function close() {\r\n        changeOpenState(false);\r\n        setTimeout(() => {\r\n            props.closeEditor();\r\n        }, 100)\r\n    }\r\n\r\n    function equipSkin(skinUuid) {\r\n        var skinData = skinsData[skinUuid];\r\n        var highestLevelIndex = 0;\r\n        var highestChromaIndex = 0;\r\n\r\n        for (var i = 0; i < Object.keys(skinData.levels).length; i++) {\r\n            if (skinData.levels[Object.keys(skinData.levels)[i]].unlocked === true) {\r\n                highestLevelIndex = skinData.levels[Object.keys(skinData.levels)[i]].index;\r\n            }\r\n        }\r\n        for (var j = 0; j < Object.keys(skinData.chromas).length; j++) {\r\n            if (skinData.chromas[Object.keys(skinData.chromas)[j]].unlocked === true) {\r\n                highestChromaIndex = skinData.chromas[Object.keys(skinData.chromas)[j]].index;\r\n            }\r\n        }\r\n\r\n        if (Object.keys(skinData.levels).length === 1 && Object.keys(skinData.chromas).length === 1) {\r\n            setHasUpgrades(false);\r\n        } else {\r\n            setHasUpgrades(true);\r\n        }\r\n\r\n        setselectedSkinData(skinData);\r\n        setselectedLevelData(skinData.levels[Object.keys(skinData.levels)[highestLevelIndex - 1]]);\r\n        setselectedChromaData(skinData.chromas[Object.keys(skinData.chromas)[0]]);\r\n        changeVideoState(false);\r\n        changeControlsState(false);\r\n    }\r\n\r\n    // lock a weapon's skin so it can't be changed by randomizer\r\n    function toggleLock() {\r\n        setIsLocked(!inventoryWeaponData.locked);\r\n        inventoryWeaponData.locked = !inventoryWeaponData.locked;\r\n    }\r\n\r\n    //favorites system\r\n    //if a chroma is favorited, level 4 must also be favorited\r\n    //if a level is favorited, chroma 1 must also be favorited\r\n    function toggleFavoritedSkin() {\r\n        skinsData[selectedSkinData.uuid].favorite = !isFavoriteSkin;\r\n        if (!isFavoriteSkin) {\r\n            inventoryWeaponData.total_weights += selectedSkinData.weight;\r\n        } else {\r\n            inventoryWeaponData.total_weights -= selectedSkinData.weight;\r\n        }\r\n        setIsFavoriteSkin(!isFavoriteSkin);\r\n    }\r\n\r\n    function toggleFavoritedLevel(levelUuidOverride = null, stateOverride = null) {\r\n\r\n        var levelUuid\r\n        if (levelUuidOverride === null) {\r\n            levelUuid = selectedLevelData.uuid;\r\n        } else {\r\n            levelUuid = levelUuidOverride;\r\n        }\r\n\r\n        var currentlyFavoritedLevels = favoriteLevels;\r\n\r\n        var newState\r\n        if (stateOverride === null) {\r\n            newState = !currentlyFavoritedLevels.includes(selectedLevelData.uuid)\r\n        } else {\r\n            newState = stateOverride;\r\n        }\r\n\r\n        if (newState && !currentlyFavoritedLevels.includes(levelUuid)) {\r\n            currentlyFavoritedLevels.push(levelUuid);\r\n        } else if (!newState && currentlyFavoritedLevels.includes(levelUuid)) {\r\n            currentlyFavoritedLevels.splice(currentlyFavoritedLevels.indexOf(levelUuid), 1);\r\n        }\r\n\r\n        setIsFavoriteLevel(newState);\r\n        setFavoriteLevels(currentlyFavoritedLevels);\r\n        skinsData[selectedSkinData.uuid].levels[selectedLevelData.uuid].favorite = newState;\r\n    }\r\n\r\n    function toggleFavoritedChroma(chromaUuidOverride = null, stateOverride = null) {\r\n        var chromaUuid\r\n        if (chromaUuidOverride === null) {\r\n            chromaUuid = selectedChromaData.uuid;\r\n            console.log(chromaUuid)\r\n        } else {\r\n            chromaUuid = chromaUuidOverride;\r\n        }\r\n\r\n        var currentlyFavoritedChromas = favoriteChromas;\r\n\r\n        var newState\r\n        if (stateOverride === null) {\r\n            newState = !currentlyFavoritedChromas.includes(selectedChromaData.uuid)\r\n        } else {\r\n            newState = stateOverride\r\n        }\r\n\r\n        if (newState && !currentlyFavoritedChromas.includes(chromaUuid)) {\r\n            currentlyFavoritedChromas.push(chromaUuid);\r\n        } else if (!newState && currentlyFavoritedChromas.includes(chromaUuid)) {\r\n            currentlyFavoritedChromas.splice(currentlyFavoritedChromas.indexOf(chromaUuid), 1);\r\n        }\r\n\r\n        setIsFavoriteChroma(newState);\r\n        setFavoriteChromas(currentlyFavoritedChromas);\r\n        skinsData[selectedSkinData.uuid].chromas[chromaUuid].favorite = newState;\r\n    }\r\n\r\n    function refreshFavorited() {\r\n        setIsFavoriteSkin(selectedSkinData.favorite);\r\n    }\r\n\r\n    function refreshFavoritedLevels() {\r\n        var levels = selectedSkinData.levels;\r\n        var favLevels = [];\r\n        for (const level_uuid of Object.keys(levels)) {\r\n            var level = levels[level_uuid];\r\n            if (level.favorite) {\r\n                favLevels.push(level.uuid);\r\n            }\r\n        }\r\n        setFavoriteLevels(favLevels);\r\n\r\n        if (favLevels.includes(selectedLevelData.uuid)) {\r\n            setIsFavoriteLevel(true);\r\n        } else {\r\n            setIsFavoriteLevel(false);\r\n        }\r\n\r\n        // cant favorite stuff with only one level\r\n        if (Object.keys(levels).length === 1) {\r\n            setCanFavoriteLevel(false);\r\n        } else {\r\n            setCanFavoriteLevel(true);\r\n        }\r\n\r\n    }\r\n\r\n    function refreshFavoritedChromas() {\r\n        var chromas = selectedSkinData.chromas;\r\n        var favChromas = [];\r\n        for (const chroma_uuid of Object.keys(chromas)) {\r\n            var chroma = chromas[chroma_uuid];\r\n            if (chroma.favorite) {\r\n                favChromas.push(chroma.uuid);\r\n            }\r\n        }\r\n        setFavoriteChromas(favChromas)\r\n\r\n        if (favChromas.includes(selectedChromaData.uuid)) {\r\n            setIsFavoriteChroma(true);\r\n        } else {\r\n            setIsFavoriteChroma(false);\r\n        }\r\n\r\n        if (Object.keys(chromas).length === 1) {\r\n            setCanFavoriteChroma(false);\r\n        } else {\r\n            setCanFavoriteChroma(true);\r\n        }\r\n    }\r\n\r\n    // --------------------------------------------------\r\n\r\n    //skin media stuff\r\n    function updateAlternateMedia() {\r\n        changeAlternateMediaState(selectedChromaData.video_preview !== null || selectedLevelData.video_preview !== null)\r\n    }\r\n\r\n    function getSkinMedia() {\r\n        var showChromaVideo = false;\r\n        var showLevelImage = false;\r\n        if (selectedChromaData.video_preview !== null) {\r\n            showChromaVideo = true;\r\n        }\r\n        if (selectedChromaData.index === 1 && selectedLevelData.display_icon !== null && !(selectedSkinData.display_name.includes(\"Standard\"))) {\r\n            showLevelImage = true;\r\n        }\r\n        if (!showingVideo) {\r\n            return (\r\n                <Grow in>\r\n                    <img alt={selectedChromaData.display_name} src={showLevelImage ? selectedLevelData.display_icon : selectedChromaData.display_icon} style={{ maxWidth: \"90%\", maxHeight: \"85%\", objectFit: \"contain\", alignSelf: \"center\", overflow: \"hidden\" }} />\r\n                </Grow>\r\n            )\r\n        } else if (showingVideo && selectedLevelData.video_preview !== null) {\r\n            return (\r\n                <Grow in>\r\n                    <video src={showChromaVideo ? selectedChromaData.video_preview : selectedLevelData.video_preview} type=\"video/mp4\" controls={showingControls} autoPlay onEnded={() => { changeVideoState(false) }} style={{ width: \"auto\", height: \"100%\", overflow: \"hidden\", objectFit: \"contain\", flexGrow: 1, alignSelf: \"center\" }} />\r\n                </Grow>\r\n            )\r\n        } else {\r\n            changeVideoState(false);\r\n        }\r\n\r\n    }\r\n\r\n    function saveWeight(weight, total) {\r\n        setWeightDialogOpen(false);\r\n        selectedSkinData.weight = weight;\r\n        inventoryWeaponData.total_weights = total;\r\n        console.log(weight);\r\n    }\r\n\r\n\r\n    if (inventoryWeaponData == null && initSkinData == null) {\r\n\r\n        return (\r\n            null// TODO: THIS SHOULD RETURN SOME SORT OF ERROR\r\n        )\r\n\r\n    } else {\r\n\r\n        return (\r\n            <Backdrop open={open} className={classes.backdrop} style={{ zIndex: 4 }}>\r\n                <WeightDialog\r\n                    open={weightDialogOpen}\r\n                    close={setWeightDialogOpen}\r\n                    saveCallback={saveWeight}\r\n                    weight={selectedSkinData.weight}\r\n                    totalWeights={inventoryWeaponData.total_weights}\r\n                />\r\n                <Container maxWidth={\"lg\"}>\r\n                    <Paper className={classes.mainPaper} variant=\"outlined\">\r\n                        <div className={classes.paperOnTopContent}>\r\n\r\n                            <WeaponHeader\r\n                                selectedSkinData={selectedSkinData}\r\n                                inventoryWeaponData={inventoryWeaponData}\r\n                                saving={saving}\r\n                                saveCallback={save}\r\n                                isFavorite={isFavoriteSkin}\r\n                                favoriteCallback={toggleFavoritedSkin}\r\n                                isLocked={isLocked}\r\n                                lockCallback={toggleLock}\r\n                                weightCallback={setWeightDialogOpen}\r\n                            />\r\n\r\n                            <div style={{ width: \"100%\", display: \"flex\", flexDirection: \"row\" }}>\r\n\r\n                                <Paper variant=\"outlined\" outlinecolor=\"secondary\" className={classes.mainSkinMedia} style={{ height: (showingVideo ? \"35vh\" : \"125px\"), }}>\r\n                                    {getSkinMedia()}\r\n                                </Paper>\r\n\r\n                                <ActionsDrawer\r\n                                    hasAlternateMedia={hasAlternateMedia}\r\n                                    showingVideo={showingVideo}\r\n                                    changeVideoStateCallback={changeVideoState}\r\n                                    showingControls={showingControls}\r\n                                    changeControlsStateCallback={changeControlsState}\r\n                                    toggleFavoriteLevelCallback={toggleFavoritedLevel}\r\n                                    isFavoriteLevel={isFavoriteLevel}\r\n                                    toggleFavoriteChromaCallback={toggleFavoritedChroma}\r\n                                    isFavoriteChroma={isFavoriteChroma}\r\n                                    canFavoriteLevel={canFavoriteLevel}\r\n                                    canFavoriteChroma={canFavoriteChroma}\r\n                                />\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={classes.paperCustomizingContent}>\r\n\r\n                            <div className={classes.levelSelectors} style={{ height: (hasUpgrades ? \"45px\" : \"0px\") }}>\r\n                                <LevelSelector levelData={selectedSkinData.levels} selectedLevelIndex={selectedLevelData.index} selectedChromaIndex={selectedChromaData.index} setter={setselectedLevelData} />\r\n                                <ChromaSelector levelData={selectedSkinData.levels} chromaData={selectedSkinData.chromas} selectedLevelIndex={selectedLevelData.index} selectedChromaIndex={selectedChromaData.index} setter={setselectedChromaData} />\r\n                            </div>\r\n\r\n                            {hasUpgrades ? <Divider variant=\"middle\" /> : null}\r\n\r\n                            <div className={classes.skinSelector}>\r\n                                <Grid style={{ width: \"100%\", height: \"100%\", justifySelf: \"center\" }} container justifyContent=\"flex-start\" direction=\"row\" alignItems=\"center\" spacing={2}>\r\n\r\n                                    {Object.keys(skinsData).map(uuid => {\r\n                                        var data = skinsData[uuid];\r\n                                        return (\r\n                                            <Grid item key={data.display_name} xs={4}>\r\n                                                <Weapon skinData={data} weaponData={inventoryWeaponData} equip={equipSkin} selected={selectedSkinData} />\r\n                                            </Grid>\r\n                                        )\r\n                                    })}\r\n                                </Grid>\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n\r\n                    </Paper>\r\n                    </Container>\r\n            </Backdrop>\r\n        )\r\n    }\r\n}\r\n\r\nexport default WeaponEditor","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Grid, Grow, Typography, Paper, Fade, Collapse } from '@material-ui/core'\r\n\r\nconst stockImageSize = \"250px\";\r\n\r\nconst backup = { //unused backups which had true sizing instead of scaling with percentages\r\n    //fisrt num = base width, second num == number to add for larger width\r\n    \"29a0cfab-485b-f5d5-779a-b59f85e204a8\": [\"100px\", \"20px\"], //classic\r\n    \"42da8ccc-40d5-affc-beec-15aa47b42eda\": [\"130px\", \"30px\"], //shorty\r\n    \"44d4e95c-4157-0037-81b2-17841bf2e8e3\": [\"100px\", \"10px\"], //frenzy\r\n    \"1baa85b4-4c70-1284-64bb-6481dfc3bb4e\": [\"140px\", \"35px\"], //ghost\r\n    \"e336c6b8-418d-9340-d77f-7a9e4cfe0702\": [\"140px\", \"20px\"], //sheriff\r\n\r\n    \"f7e1b454-4ad4-1063-ec0a-159e56b58941\": [\"195px\", \"20px\"], //stinger\r\n    \"462080d1-4035-2937-7c09-27aa2a5c27a7\": [\"200px\", \"20px\"], //spectre\r\n\r\n    \"910be174-449b-c412-ab22-d0873436b21b\": [\"240px\", \"40px\"], //bucky\r\n    \"ec845bf4-4f79-ddda-a3da-0db3774b2794\": [\"240px\", \"30px\"], //judge\r\n\r\n    \"ae3de142-4d85-2547-dd26-4e90bed35cf7\": [\"240px\", \"20px\"], //bulldog\r\n    \"4ade7faa-4cf1-8376-95ef-39884480959b\": [\"240px\", \"60px\"], //guardian\r\n    \"ee8e8d15-496b-07ac-e5f6-8fae5d4c7b1a\": [\"250px\", \"30px\"], //phantom\r\n    \"9c82e19d-4575-0200-1a81-3eacf00cf872\": [\"240px\", \"30px\"], //vandal\r\n\r\n    \"c4883e50-4494-202c-3ec3-6b8a9284f00b\": [\"250px\", \"70px\"], //marshal\r\n    \"a03b24d3-4319-996d-0f8c-94bbfba1dfc7\": [\"240px\", \"100px\"], //operator\r\n\r\n    \"55d8a0f4-4274-ca67-fe2c-06ab45efdf58\": [\"260px\", \"80px\"], //ares\r\n    \"63e6c2b6-4a8e-869c-3d4c-e38355226584\": [\"270px\", \"40px\"], //odin\r\n\r\n    \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\": [\"auto\", \"20px\"], //melee\r\n}\r\n\r\nconst scaleOverrides = {\r\n    \"29a0cfab-485b-f5d5-779a-b59f85e204a8\": [\"45% auto\",], //classic\r\n    \"42da8ccc-40d5-affc-beec-15aa47b42eda\": [\"60% auto\",], //shorty\r\n    \"44d4e95c-4157-0037-81b2-17841bf2e8e3\": [\"45% auto\",], //frenzy\r\n    \"1baa85b4-4c70-1284-64bb-6481dfc3bb4e\": [\"65% auto\",], //ghost\r\n    \"e336c6b8-418d-9340-d77f-7a9e4cfe0702\": [\"60% auto\",], //sheriff\r\n\r\n    \"f7e1b454-4ad4-1063-ec0a-159e56b58941\": [\"52% auto\",], //stinger\r\n    \"462080d1-4035-2937-7c09-27aa2a5c27a7\": [\"55% auto\",], //spectre\r\n\r\n    \"910be174-449b-c412-ab22-d0873436b21b\": [\"75% auto\",], //bucky\r\n    \"ec845bf4-4f79-ddda-a3da-0db3774b2794\": [\"65% auto\",], //judge\r\n    \r\n    \"ae3de142-4d85-2547-dd26-4e90bed35cf7\": [\"65% auto\",], //bulldog\r\n    \"4ade7faa-4cf1-8376-95ef-39884480959b\": [\"75% auto\",], //guardian\r\n    \"ee8e8d15-496b-07ac-e5f6-8fae5d4c7b1a\": [\"73% auto\",], //phantom\r\n    \"9c82e19d-4575-0200-1a81-3eacf00cf872\": [\"65% auto\",], //vandal\r\n\r\n    \"c4883e50-4494-202c-3ec3-6b8a9284f00b\": [\"80% auto\",], //marshal\r\n    \"a03b24d3-4319-996d-0f8c-94bbfba1dfc7\": [\"80% auto\",], //operator\r\n\r\n    \"55d8a0f4-4274-ca67-fe2c-06ab45efdf58\": [\"80% auto\",], //ares\r\n    \"63e6c2b6-4a8e-869c-3d4c-e38355226584\": [\"80% auto\",], //odin\r\n\r\n    \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\": [\"80% auto\",], //melee\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    \"@global\": {\r\n        \"@keyframes fadeOut\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    weaponContainerVideo: {\r\n        position: \"absolute\",\r\n        objectFit: \"cover\",\r\n        width: \"auto\",\r\n        height: \"auto\",\r\n    },\r\n\r\n    weaponPaper: {\r\n        flexDirection: \"row\",\r\n        position: \"relative\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        background: \"transparent\",\r\n        transition: \".5s ease !important\",\r\n        \"&:hover\": {\r\n            border: `1px ${theme.palette.primary.main} solid`\r\n        },\r\n    },\r\n\r\n    weaponImage: {\r\n        zIndex: 1,\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        position: \"relative\",\r\n        backgroundPosition: \"center\",\r\n        backgroundRepeat: \"no-repeat\",\r\n        background: \"transparent\",\r\n        // transition: \".25s ease !important\",\r\n        backfaceVisibility: \"hidden\",\r\n    },\r\n\r\n    bottomGradient: {\r\n        //background: \"linear-gradient(to bottom, rgba(0,0,0,0) 60%,rgba(255,255,255,.15) 100%)\",\r\n        zIndex: 5,\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        top: \"-100%\",\r\n    },\r\n\r\n    dataContainer: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        display: \"flex\",\r\n        position: \"relative\",\r\n        top: \"-100%\"\r\n    },\r\n\r\n    textContainer: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"flex-end\",\r\n        backgroundPosition: \"center\",\r\n        overflow: \"visible\",\r\n        paddingLeft: \"12px\",\r\n        paddingBottom: \"8px\",\r\n        zIndex: 2,\r\n    },\r\n\r\n    buddyContainer: {\r\n        display: \"flex\",\r\n        maxWidth: \"100px\",\r\n        height: \"100%\",\r\n        position: \"relative\",\r\n        right: 0,\r\n        bottom: 7,\r\n        zIndex: 2,\r\n    },\r\n\r\n    buddyImage: {\r\n        width: \"100%\",\r\n        height: \"auto\",\r\n        objectFit: \"contain\",\r\n        position: \"relative\",\r\n        alignSelf: \"flex-end\",\r\n    },\r\n\r\n    weaponLabelHolder: {\r\n        display: \"flex\",\r\n        width: \"80%\",\r\n        height: \"25px\",\r\n        position: \"relative\",\r\n        alignSelf: \"flex-start\",\r\n    },\r\n\r\n    skinLabelHolder: {\r\n        width: \"80%\", \r\n        alignSelf: \"flex-start\", \r\n        position: \"relative\", \r\n    },\r\n\r\n    weaponLabel: {\r\n        textAlign: \"left\",\r\n        width: \"100%\",\r\n        flexGrow: 1,\r\n        position: \"relative\",\r\n        textOverflow: \"ellipsis\",\r\n        bottom: 0,\r\n    },\r\n\r\n}));\r\n\r\n\r\nfunction Weapon(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    var db = false;\r\n    const [isUpdatingImage, setUpdatingImage] = useState(true);\r\n    const [isUpdatingBuddy, setUpdatingBuddy] = useState(false);\r\n    const [skinData, updateSkinData] = useState({});\r\n    const [showSkinName, updateSkinNameVisibility] = useState(false);\r\n\r\n    const [weaponImage, setImage] = useState(\"\");\r\n\r\n    const favorite = props.data !== undefined ? props.data.favorite : \"\";\r\n    const locked = props.data !== undefined ? props.data.locked : \"\";\r\n\r\n    useEffect(() => {\r\n        if (props.data !== undefined) {\r\n            var comparisonTarget = skinData !== null ? skinData.skin_image : \"\"\r\n            if (db === false && props.data.skin_image !== comparisonTarget) {\r\n\r\n                setUpdatingImage(true)\r\n                setTimeout(() => {\r\n                    setImage(props.data.skin_image)\r\n                    updateSkinData(props.data);\r\n                    setUpdatingImage(false);\r\n                }, 300)\r\n\r\n            }\r\n\r\n            //update buddy\r\n            if (props.data.buddy_name !== skinData.buddy_name) {\r\n\r\n                setUpdatingBuddy(true);\r\n                setTimeout(() => {\r\n                    updateSkinData(props.data);\r\n                    setUpdatingBuddy(false);\r\n                }, 300);\r\n            }\r\n        }\r\n    }, [props.data]);\r\n\r\n    function onHover() {\r\n        updateSkinNameVisibility(true);\r\n    };\r\n\r\n    function offHover() {\r\n        updateSkinNameVisibility(false);\r\n    };\r\n\r\n    function select() {\r\n        props.weaponEditorCallback(props.uuid);\r\n    }\r\n\r\n    return (\r\n        <Fade in style={{ transitionDelay: '500ms' }}>\r\n            <Paper\r\n                className={classes.weaponPaper}\r\n                variant=\"outlined\"\r\n                onMouseEnter={onHover}\r\n                onMouseLeave={offHover}\r\n                onMouseDown={select}\r\n\r\n            >\r\n                <Fade in={!isUpdatingImage}>\r\n                    <div\r\n                        className={classes.weaponImage}\r\n                        style={{\r\n                            //backgroundPosition: props.uuid === \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\" ? \"50% 35%\" : (!props.useLargeWeaponImage ? \"50% 40%\" : \"50% 50%\"), \r\n                            backgroundPosition: \"50% 50%\",\r\n                            backgroundImage: skinData !== {} ? `url(${weaponImage})` : `url(\"https://media.valorant-api.com/weapons/${props.uuid}/displayicon.png\")`,\r\n                            backgroundSize: props.uuid !== \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\" ? (scaleOverrides[props.uuid]) : \"auto 75%\",\r\n                            //props.uuid !== \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\" ? (!props.useLargeWeaponImage ? `${props.uuid in scaleOverrides ? scaleOverrides[props.uuid][0] : stockImageSize} auto` : `calc(${scaleOverrides[props.uuid][0]} + ${scaleOverrides[props.uuid][1]}) auto`) : \"auto 80%\",\r\n                        }}\r\n                    />\r\n                </Fade>\r\n\r\n                {/* <div className={classes.bottomGradient} /> */}\r\n\r\n                <div className={classes.dataContainer}>\r\n                    <div className={classes.textContainer}>\r\n                        <div className={classes.weaponLabelHolder}>\r\n                            <Typography className={classes.weaponLabel} variant=\"overline\">{locked ? \" \" : null}{props.displayName}</Typography>\r\n                        </div>\r\n                        <div className={classes.skinLabelHolder}>\r\n                            <Collapse in={showSkinName}>\r\n                                <Typography className={classes.weaponLabel} variant=\"body1\" style={{ marginBottom: \"4px\" }}>{favorite ? \" \" : null}{skinData.skin_name}</Typography>\r\n                            </Collapse>\r\n                        </div>\r\n                    </div>\r\n                    <Grow in>\r\n                        <div className={classes.buddyContainer} style={{ width: props.isSidearm ? \"20%\" : \"14%\" }}>\r\n                            {props.uuid !== \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\" ?\r\n                                <img alt={skinData.buddy_name} className={classes.buddyImage} src={skinData.buddy_image !== \"\" ? skinData.buddy_image : null} />\r\n                                : <img alt=\"\" src=\"\" />\r\n                            }\r\n                        </div>\r\n                    </Grow>\r\n                </div>\r\n            </Paper>\r\n        </Fade>\r\n    )\r\n\r\n}\r\n\r\nexport default Weapon","import { useState, useEffect } from 'react';\r\n\r\nfunction getWindowDimensions() {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return {\r\n    width,\r\n    height\r\n  };\r\n}\r\n\r\nexport default function useWindowDimensions() {\r\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowDimensions(getWindowDimensions());\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return windowDimensions;\r\n}","import { React, useState, useRef, useEffect } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport Weapon from './sub/WeaponCollectionItem.js'\r\nimport { Grid, Container, Typography } from '@material-ui/core';\r\n\r\nimport useWindowDimensions from './sub/useWindowDimensions.js';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        margin: \"auto\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        flexGrow: 1,\r\n    },\r\n\r\n    collectionItem: {\r\n        display: \"flex\",\r\n        height: \"20%\",\r\n        minHeight: \"115px\",\r\n        flexGrow: 1,\r\n    },\r\n}));\r\n\r\n\r\nconst grid = [\r\n    [\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": true,\r\n            \"uuid\": \"29a0cfab-485b-f5d5-779a-b59f85e204a8\",\r\n            \"displayName\": \"Classic\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"f7e1b454-4ad4-1063-ec0a-159e56b58941\",\r\n            \"displayName\": \"Stinger\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"ae3de142-4d85-2547-dd26-4e90bed35cf7\",\r\n            \"displayName\": \"Bulldog\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"c4883e50-4494-202c-3ec3-6b8a9284f00b\",\r\n            \"displayName\": \"Marshal\",\r\n        },\r\n    ],\r\n    [\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": true,\r\n            \"uuid\": \"42da8ccc-40d5-affc-beec-15aa47b42eda\",\r\n            \"displayName\": \"Shorty\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"462080d1-4035-2937-7c09-27aa2a5c27a7\",\r\n            \"displayName\": \"Spectre\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"4ade7faa-4cf1-8376-95ef-39884480959b\",\r\n            \"displayName\": \"Guardian\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"a03b24d3-4319-996d-0f8c-94bbfba1dfc7\",\r\n            \"displayName\": \"Operator\",\r\n        },\r\n    ],\r\n    [\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": true,\r\n            \"uuid\": \"44d4e95c-4157-0037-81b2-17841bf2e8e3\",\r\n            \"displayName\": \"Frenzy\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"910be174-449b-c412-ab22-d0873436b21b\",\r\n            \"displayName\": \"Bucky\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"ee8e8d15-496b-07ac-e5f6-8fae5d4c7b1a\",\r\n            \"displayName\": \"Phantom\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"55d8a0f4-4274-ca67-fe2c-06ab45efdf58\",\r\n            \"displayName\": \"Ares\",\r\n        },\r\n    ],\r\n    [\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": true,\r\n            \"uuid\": \"1baa85b4-4c70-1284-64bb-6481dfc3bb4e\",\r\n            \"displayName\": \"Ghost\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"ec845bf4-4f79-ddda-a3da-0db3774b2794\",\r\n            \"displayName\": \"Judge\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"9c82e19d-4575-0200-1a81-3eacf00cf872\",\r\n            \"displayName\": \"Vandal\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"63e6c2b6-4a8e-869c-3d4c-e38355226584\",\r\n            \"displayName\": \"Odin\",\r\n        },\r\n    ],\r\n    [\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": true,\r\n            \"uuid\": \"e336c6b8-418d-9340-d77f-7a9e4cfe0702\",\r\n            \"displayName\": \"Sheriff\",\r\n        },\r\n        {\r\n            \"type\": \"placeholder\",\r\n        },\r\n        {\r\n            \"type\": \"weapon\",\r\n            \"sidearm\": false,\r\n            \"uuid\": \"2f59173c-4bed-b6c3-2191-dea9b58be9c7\",\r\n            \"displayName\": \"Melee\",\r\n        },\r\n    ],\r\n]\r\n\r\n\r\nfunction Collection(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    const { height, width } = useWindowDimensions();\r\n    \r\n    const [smallWindow, setSmallWindow] = useState(false);\r\n    const [useLargeWeaponImage, setUseLargeWeaponImage] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setSmallWindow(width < 960);\r\n        setUseLargeWeaponImage(width < 960 || width > 1300);\r\n    }, [width])\r\n\r\n    return (\r\n        <Grid className={classes.root} style={props.style} container justifyContent=\"center\" direction=\"row\" alignItems=\"center\" spacing={3}>\r\n            {grid.map(row => {\r\n                if (props.loadout !== null) {\r\n                    return (\r\n                        row.map(data => {\r\n                            if (data.type === \"weapon\") {\r\n                                return <Grid className={classes.collectionItem} item key={data.uuid} md={data.sidearm === true ? 2 : 3} sm={12} xs={12}><Weapon data={props.loadout[data.uuid]} uuid={data.uuid} displayName={data.displayName} useLargeWeaponImage={useLargeWeaponImage} weaponEditorCallback={props.weaponEditorCallback} isSidearm={data.sidearm} /></Grid>\r\n                            }\r\n                            else {\r\n                                return (!smallWindow ? <Grid key=\"placeholder\" className={classes.collectionItem} item md={6} sm={false} xs={false} /> : <br />);\r\n                            }\r\n                        })\r\n                    )\r\n                } else{\r\n                    return null;\r\n                }\r\n            })}\r\n        </Grid>\r\n    )\r\n}\r\n\r\n\r\nexport default Collection;","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport Header from '../components/misc/Header.js'\r\nimport Footer from '../components/misc/Footer.js'\r\nimport WeaponEditor from '../components/weaponEditor/WeaponEditor.js'\r\nimport Collection from '../components/collection/Collection.js'\r\n\r\nimport socket from \"../services/Socket\";\r\n\r\nimport { Grid, Container, Typography } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    root: {\r\n        height: \"100%\",\r\n        margin: \"auto\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"space-between\",\r\n        \r\n        overflow: \"auto\",\r\n    },\r\n}));\r\n\r\n\r\nfunction CollectionHome(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [loaded, setLoaded] = useState(false);\r\n    const [selectedUuid, changeSelectedUuid] = useState(\"\");\r\n    const [inventoryData, updateInventoryData] = useState({});\r\n    const [showWeaponEditor, setWeaponEditorState] = useState(false);\r\n    const [loadout, setLoadout] = useState({});\r\n    const [weaponEditor, setWeaponEditor] = useState();\r\n\r\n    useEffect(() => {\r\n        if (!loaded) {\r\n            load();\r\n            setLoaded(true);\r\n        }\r\n\r\n        function updatedLoadoutCallback(response) {\r\n            console.log(response);\r\n            setLoadout(response.loadout)\r\n        }\r\n        socket.subscribe(\"loadout_updated\", updatedLoadoutCallback)\r\n        //setInterval(() => updateInventory(), 5000); //might consider making this a manual refresh\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!showWeaponEditor) {\r\n            document.title = \"VSM // Collection\"\r\n        }\r\n    }, [showWeaponEditor])\r\n\r\n    function load() {\r\n        updateInventory();\r\n        updateLoadout();\r\n\r\n        //setInterval(() => updateLoadout(), 5000);\r\n    }\r\n\r\n    async function updateInventory() {\r\n        function callback(response) {\r\n            updateInventoryData(response.skins);\r\n        }\r\n        socket.request({ \"request\": \"fetch_inventory\" }, callback)\r\n    }\r\n\r\n    async function updateLoadout() {\r\n        function callback(response) {\r\n            setLoadout(response);\r\n        }\r\n        socket.request({ \"request\": \"fetch_loadout\" }, callback)\r\n    }\r\n\r\n    function modificationMenu(uuid) {\r\n        setWeaponEditorState(true);\r\n        setWeaponEditor(<WeaponEditor weaponUuid={uuid} initialSkinData={loadout[uuid]} inventoryData={inventoryData} loadoutWeaponData={loadout[uuid]} saveCallback={saveCallback} closeEditor={closeEditor} />)\r\n    };\r\n\r\n    async function saveCallback(payload, sameSkin) {\r\n        return new Promise((resolve, reject) => {\r\n\r\n            function inventoryCallback(response) {\r\n                updateInventoryData(response);\r\n                resolve();\r\n            }\r\n\r\n            function putCallback(response) {\r\n                console.log(\"put\")\r\n                setLoadout(response);\r\n            }\r\n\r\n            socket.request({ \"request\": \"update_inventory\", \"args\": { \"payload\": payload } }, inventoryCallback);\r\n            if (!sameSkin) {\r\n                socket.request({ \"request\": \"put_weapon\", \"args\": { \"payload\": payload } }, putCallback);\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n\r\n    function closeEditor() {\r\n        setWeaponEditorState(false);\r\n        setWeaponEditor(null);\r\n    }\r\n\r\n    return (\r\n        <div style={{height: \"100vh\", width: \"100vw\", display: \"flex\", overflow: \"auto\"}}>\r\n            <div className={classes.root} style={{flexGrow: 1}}>\r\n                <Header />\r\n                <Container maxWidth={false} style={{ display: \"flex\", height: \"auto\", flexGrow: 1 }}>\r\n                    {weaponEditor}\r\n                    <Collection style={{padding: \"20px 0px 20px 0px\"}} weaponEditorCallback={modificationMenu} loadout={loadout} setLoadout={setLoadout} />\r\n                </Container>\r\n                <Footer />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default CollectionHome","import { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport Header from '../components/misc/Header.js'\r\nimport Footer from '../components/misc/Footer.js'\r\n\r\nimport { socket } from \"../services/Socket\"; \r\n\r\nimport { Grid, Container, Typography } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    footer: {\r\n        height: \"25vh\"\r\n    },\r\n\r\n    root: {\r\n        height: \"80vh\",\r\n        margin: \"auto\",\r\n        display: \"flex\",\r\n        padding: 0,\r\n        flexGrow: 1,\r\n    },\r\n}));\r\n\r\n\r\nfunction CollectionHome(props) {\r\n    \r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <Footer />\r\n        </>\r\n    ) \r\n}\r\n\r\n\r\nexport default CollectionHome","\r\n\r\nimport {React, useEffect, useState} from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Step, Stepper, StepLabel, Typography, Toolbar, IconButton, Container, Paper } from '@material-ui/core'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({    \r\n    stepper: {\r\n        \r\n    }\r\n}));\r\n\r\nconst steps = [\r\n    \"Hello!\",\r\n    \"VALORANT Account\",\r\n    \"Settings\",\r\n]\r\n\r\n\r\nfunction OnboardingStepper(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const activeStep = props.activeStep;\r\n\r\n\r\n    return (\r\n        <Stepper activeStep={activeStep} className={classes.stepper}>\r\n            {steps.map((label, index) => {\r\n                return (\r\n                    <Step key={label}>\r\n                        <StepLabel>{label}</StepLabel>\r\n                    </Step>\r\n                );\r\n            })}\r\n        </Stepper>\r\n    )\r\n}\r\n\r\nexport default OnboardingStepper ","\r\n\r\nimport { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { List, ListItem, ListItemText, Typography, Divider, Button, Container, Paper } from '@material-ui/core'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    headerText: {\r\n        justifySelf: \"center\",\r\n        textAlign: \"center\",\r\n        background: \"linear-gradient(90deg, rgba(255,190,190,1) 0%, rgba(250,117,129,1) 50%, rgba(255,190,190,1) 100%)\",\r\n        WebkitBackgroundClip: \"text\",\r\n        WebkitTextFillColor: \"transparent\",\r\n    },\r\n\r\n    bodyText: {\r\n        marginTop: \"3px\",\r\n        justifySelf: \"center\",\r\n        textAlign: \"center\",\r\n    },\r\n\r\n    list: {\r\n        width: \"400px\",\r\n        justifySelf: \"center\",\r\n        alignSelf: \"center\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        paddingTop: \"0px\",\r\n    },\r\n\r\n    listItem: {\r\n        justifySelf: \"center\",\r\n        textAlign: \"center\",\r\n        padding: \"2px\",\r\n    },\r\n\r\n    buttonDiv: {\r\n        display: \"flex\",\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        marginTop: \"5px\",\r\n        justifyContent: \"flex-end\",\r\n    },\r\n\r\n    startButton: {\r\n        width: \"100%\",\r\n        height: \"37px\",\r\n        alignSelf: \"center\",\r\n        marginBottom: \"15px\",\r\n    }\r\n}));\r\n\r\n\r\nfunction WelcomePage(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const features = [\r\n        \"improved skin selection\",\r\n        \"favorites system\",\r\n        \"skin randomizer\",\r\n        \"automatic randomization\",\r\n    ]\r\n\r\n    const style = props.pageStyle\r\n\r\n    return (\r\n        <div style={style}>\r\n            <div style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"center\", alignItems: \"flex-end\", height: \"100%\" }}>\r\n                <Typography variant=\"h2\" className={classes.headerText}>\r\n                    <strong>VSM</strong>\r\n                </Typography>\r\n                <Typography variant=\"subtitle2\" style={{ alignSelf: \"flex-end\" }} >\r\n                    v1.0.0\r\n                </Typography>\r\n            </div>\r\n            <Typography variant=\"body1\" className={classes.bodyText}>\r\n                VALORANT inventory management, expanded\r\n            </Typography>\r\n\r\n            <Divider variant=\"middle\" style={{ margin: \"10px\", }} />\r\n\r\n            <List className={classes.list} dense>\r\n                {features.map((feature) => (\r\n                    <ListItem key={feature} className={classes.listItem}>\r\n                        <ListItemText\r\n                            primary={feature}\r\n                        />\r\n                    </ListItem>\r\n                ))}\r\n            </List>\r\n\r\n            <div className={classes.buttonDiv}>\r\n                <Button variant=\"outlined\" color=\"primary\" onClick={props.nextCallback} className={classes.startButton}>\r\n                    Get Started\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WelcomePage","\r\n\r\nimport { React, useEffect, useState } from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { List, ListItem, ListItemText, ListItemAvatar, Avatar, Typography, Collapse, Button, Grow, Fade, Paper } from '@material-ui/core'\r\n\r\nimport { Place, Public, Person, Autorenew } from '@material-ui/icons';\r\n\r\nimport socket from \"../../services/Socket\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    \"@global\": {\r\n        \"@keyframes spin\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    start: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n    },\r\n\r\n    gameNotRunning: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n    },\r\n\r\n    autodetectClient: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n    },\r\n\r\n    accountDataList: {\r\n        flexGrow: 0,\r\n        marginBottom: \"5px\",\r\n    },\r\n\r\n    loading: {\r\n        animation: \"spin 4s linear infinite\",\r\n    },\r\n\r\n    buttons: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        justifyContent: \"flex-end\",\r\n    },\r\n\r\n    nextButton: {\r\n        width: \"100%\",\r\n        height: \"37px\",\r\n        marginBottom: \"15px\",\r\n    }\r\n\r\n}));\r\n\r\n\r\nfunction AccountPage(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const style = props.pageStyle\r\n\r\n    const [gameRunning, setGameRunning] = useState(false)\r\n    const [enableGameStartButton, setEnableGameStartButton] = useState(true)\r\n    const [ready, setReady] = useState(false)\r\n\r\n    const [accountRetrieved, setaccountRetrieved] = useState(false)\r\n    const [accountData, setAccountData] = useState({})\r\n\r\n    function startGame() {\r\n        setEnableGameStartButton(false);\r\n        socket.request({ \"socket.request\": \"start_game\" })\r\n            .then(data => {\r\n                if (data.response === true) {\r\n                    setGameRunning(true);\r\n                }\r\n            })\r\n    }\r\n\r\n    function autodetectAccount() {\r\n        socket.request({ \"socket.request\": \"autodetect_account\" })\r\n            .then(data => {\r\n                if (data.success === true) {\r\n                    setaccountRetrieved(true);\r\n                    setAccountData(data.response)\r\n                }\r\n            })\r\n    }\r\n\r\n    function isGameRunning() {\r\n        socket.request({\"socket.request\": \"get_running_state\"})\r\n        .then(data => {\r\n            if(data.success === true){\r\n                setGameRunning(data.response)\r\n                setReady(true)\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(!ready){\r\n            isGameRunning();\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (gameRunning && !accountRetrieved) {\r\n            autodetectAccount();\r\n        }\r\n    }, [gameRunning])\r\n\r\n    return (\r\n        <div style={style}>\r\n\r\n            <div className={classes.start}>\r\n                <Typography variant=\"h4\">Let's get started</Typography>\r\n\r\n                <Fade in={!gameRunning && ready} unmountOnExit mountOnEnter>\r\n                    <div className={classes.gameNotRunning}>\r\n                        <Typography style={{ marginTop: \"12px\", marginBottom: \"10px\" }} variant=\"body2\">It looks like VALORANT isn't open. VALORANT needs to be open to set up VSM.</Typography>\r\n                        <Button variant=\"outlined\" color=\"primary\" disabled={!enableGameStartButton} className={classes.startButton} onClick={startGame}>\r\n                            {enableGameStartButton ? \"Launch VALORANT\" : <Autorenew className={classes.loading}/>}\r\n                        </Button>\r\n                    </div>\r\n                </Fade>\r\n\r\n                <Fade in={gameRunning} style={{ transitionDelay: \"200ms\" }} unmountOnExit mountOnEnter>\r\n                    <div className={classes.autodetectClient}>\r\n                        <Typography style={{ marginTop: \"12px\", marginBottom: \"5px\" }} variant=\"body2\">{accountRetrieved ? \"Discovered the following account data:\" : \"Attempting to autodetect your VALORANT account.\"}</Typography>\r\n\r\n                        <Fade in={accountRetrieved} mountOnEnter unmountOnExit>\r\n                            <List className={classes.accountDataList}>\r\n                                <ListItem>\r\n                                    <ListItemAvatar>\r\n                                        <Avatar>\r\n                                            <Person />\r\n                                        </Avatar>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText primary={`${accountData.game_name}#${accountData.game_tag}`} />\r\n                                </ListItem>\r\n                                <ListItem>\r\n                                    <ListItemAvatar>\r\n                                        <Avatar>\r\n                                            <Place />\r\n                                        </Avatar>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText primary={`Region: ${accountData.region}`} />\r\n                                </ListItem>\r\n                                <ListItem>\r\n                                    <ListItemAvatar>\r\n                                        <Avatar>\r\n                                            <Public />\r\n                                        </Avatar>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText primary={`Shard: ${accountData.shard}`} />\r\n                                </ListItem>\r\n                            </List>\r\n                        </Fade>\r\n\r\n                        <Fade in={accountRetrieved} style={{ transitionDelay: \"500ms\" }} mountOnEnter unmountOnExit>\r\n                            <div className={classes.buttons}> \r\n                                <Button variant=\"outlined\" color=\"primary\" onClick={props.nextCallback} className={classes.nextButton}>\r\n                                    Next\r\n                                </Button>\r\n                            </div>\r\n                        </Fade>\r\n\r\n                    </div>\r\n                </Fade>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AccountPage","import {React, useEffect, useState} from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Step, Stepper, StepLabel, Typography, Toolbar, Grow, Container, Paper } from '@material-ui/core'\r\nimport OnboardingStepper from \"../components/onboarding/Stepper\";\r\nimport WelcomePage from \"../components/onboarding/WelcomePage\";\r\nimport AccountPage from \"../components/onboarding/AccountPage\";\r\n\r\n//icons\r\nimport { Settings, Shuffle, Autorenew } from '@material-ui/icons';\r\n\r\nimport { request } from \"../services/Socket\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    paper: {\r\n        width: \"500px\",\r\n        height: \"400px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n    },\r\n\r\n    pageContent: {\r\n        display: \"flex\",\r\n        flexGrow: 1,\r\n        alignItems: \"center\",\r\n        flexDirection: \"column\",\r\n    }\r\n\r\n}));\r\n\r\nconst pageStyle = {\r\n    width: \"90%\",\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    flexGrow: 1,\r\n}\r\n\r\n\r\nfunction Onboarding(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    \r\n    const pages = [\r\n        <WelcomePage pageStyle={pageStyle} nextCallback={nextStep}/>,\r\n        <AccountPage pageStyle={pageStyle} nextCallback={nextStep}/>,\r\n    ]\r\n\r\n    const [activeStep, setActiveStep] = useState(0);\r\n\r\n    function nextStep(){\r\n        setActiveStep(activeStep + 1);\r\n    }\r\n\r\n\r\n    return (\r\n        <Container maxWidth=\"xl\" className={classes.root}>\r\n            <Grow in>\r\n                <Paper variant=\"outlined\" className={classes.paper}>\r\n                    <OnboardingStepper activeStep={activeStep}/>\r\n                    <div className={classes.pageContent}>\r\n                        {pages[activeStep]}\r\n                    </div>\r\n                </Paper>\r\n            </Grow>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Onboarding","import {React, useEffect, useState} from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Step, Stepper, StepLabel, Typography, Button, Grow, Backdrop, Paper } from '@material-ui/core'\r\n\r\n//icons\r\nimport { Settings, Shuffle, Autorenew } from '@material-ui/icons';\r\n\r\nimport { socket } from \"../../services/Socket\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        backgroundColor: theme.palette.background.default,\r\n        zIndex: 100,\r\n    },\r\n\r\n    main: {\r\n        width: \"300px\",\r\n        height: \"200px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    content: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    retryButton: {\r\n        alignSelf: \"center\",\r\n        height: \"45px\",\r\n        width: \"80%\",\r\n    },\r\n\r\n    buttons: {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        justifyContent: \"center\",\r\n    }\r\n\r\n}));\r\n\r\n\r\nfunction ConnectionFailed(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    return (\r\n        <Backdrop open className={classes.root}>\r\n            <Grow in>\r\n                <div className={classes.main}>\r\n                    <div className={classes.content}>\r\n                        <Typography variant=\"h4\">Connection failed</Typography>\r\n                        <Typography variant=\"body1\" style={{textAlign: \"center\", marginTop: \"10px\",}}>Couldn't connect to your computer. Is the VSM client companion running?</Typography>\r\n\r\n                        <div className={classes.buttons}> \r\n                            <Button variant=\"outlined\" color=\"primary\" onClick={props.retry} className={classes.retryButton}>\r\n                                Retry\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </Grow>\r\n        </Backdrop>\r\n    )\r\n}\r\n\r\nexport default ConnectionFailed","import {React, useEffect, useState} from 'react';\r\n\r\n//utilities\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Step, Stepper, StepLabel, Typography, Button, Grow, Backdrop, Paper } from '@material-ui/core'\r\n\r\n//icons\r\nimport { Settings, Shuffle, Autorenew, TramRounded, ContactsOutlined } from '@material-ui/icons';\r\n\r\nimport socket from \"../../services/Socket\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \"@global\": {\r\n        \"@keyframes spin\": {\r\n            \"0%\": {\r\n                transform: \"rotate(-360deg)\"\r\n            },\r\n            \"100%\": {\r\n                transform: \"rotate(0deg)\"\r\n            }\r\n        }\r\n    },\r\n\r\n    root: {\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        backgroundColor: theme.palette.background.default,\r\n        zIndex: 100,\r\n    },\r\n\r\n    main: {\r\n        width: \"400px\",\r\n        height: \"200px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    content: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    retryButton: {\r\n        alignSelf: \"center\",\r\n        height: \"45px\",\r\n        width: \"80%\",\r\n    },\r\n\r\n    buttons: {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        flexDirection: \"column\",\r\n        flexGrow: 1,\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n    loading: {\r\n        animation: \"spin 4s linear infinite\",\r\n    },\r\n\r\n}));\r\n\r\n\r\nfunction GameNotRunning(props) {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [enableGameStartButton, setEnableGameStartButton] = useState(true);\r\n    const [open, setOpen] = useState(true)\r\n\r\n    function launch() {\r\n        setEnableGameStartButton(false);\r\n        function launchCallback(response){\r\n            console.log(\"launched!\")\r\n            if (response === true){\r\n                setOpen(false)\r\n                props.callback();\r\n            }\r\n        }\r\n        socket.request({\"request\": \"start_game\"}, launchCallback)\r\n    }\r\n\r\n    return (\r\n        <Backdrop open className={classes.root}>\r\n            <Grow in={open}>\r\n                <div className={classes.main}>\r\n                    <div className={classes.content}>\r\n                        <Typography variant=\"h4\">VALORANT not open</Typography>\r\n                        <Typography variant=\"body1\" style={{textAlign: \"center\", marginTop: \"10px\",}}>Couldn't detect VALORANT running on your computer.</Typography>\r\n\r\n                        <div className={classes.buttons}> \r\n                            <Button variant=\"outlined\" color=\"primary\" onClick={launch} disabled={!enableGameStartButton} className={classes.retryButton}>\r\n                                {enableGameStartButton ? \"Launch VALORANT\" : <Autorenew className={classes.loading}/>}\r\n\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </Grow>\r\n        </Backdrop>\r\n    )\r\n}\r\n\r\nexport default GameNotRunning","import {React, useEffect, useState} from 'react';\r\n\r\n//utilities\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n//components\r\nimport { Backdrop, CircularProgress, Typography, Box, Container, ThemeProvider } from '@material-ui/core'\r\n\r\n//icons\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        color: \"#fff\",\r\n    }\r\n\r\n}));\r\n\r\n\r\nfunction WebsocketHandshake(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Backdrop className={classes.backdrop} open={props.open}>\r\n            <Box>\r\n                <CircularProgress color=\"#ffffff\"/>\r\n            </Box>\r\n        </Backdrop>\r\n    )\r\n}\r\n\r\nexport default WebsocketHandshake","import { useEffect, useState, useRef } from \"react\";\r\n\r\n//utilities\r\nimport { ThemeProvider, createTheme } from \"@material-ui/core/styles\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport { BrowserRouter as Switch, Route, HashRouter, Redirect } from \"react-router-dom\";\r\nimport socket from \"./services/Socket\";\r\nimport { Config, setVersion, } from \"./services/ClientConfig\"\r\n\r\n\r\n//pages\r\nimport CollectionHome from \"./pages/CollectionHome\"\r\nimport BuddiesHome from \"./pages/BuddiesHome\"\r\nimport Onboarding from \"./pages/Onboarding\"\r\nimport ConnectionFailed from \"./components/errors/ConnectionFailed.js\"\r\nimport GameNotRunning from \"./components/errors/GameNotRunning.js\"\r\n\r\n//components\r\nimport WebsocketHandshake from \"./components/misc/WebsocketHandshake\";\r\n\r\nconst mainTheme = createTheme({\r\n    palette: {\r\n        type: \"dark\",\r\n        primary: {\r\n            main: \"#fa7581\",\r\n        },\r\n        secondary: {\r\n            main: \"#454545\",\r\n        },\r\n    },\r\n    typography: {\r\n        fontFamily: [\r\n            'Chivo',\r\n            '-apple-system',\r\n            'BlinkMacSystemFont',\r\n            '\"Segoe UI\"',\r\n            'Roboto',\r\n            '\"Helvetica Neue\"',\r\n            'Arial',\r\n            'sans-serif',\r\n            '\"Apple Color Emoji\"',\r\n            '\"Segoe UI Emoji\"',\r\n            '\"Segoe UI Symbol\"',\r\n        ].join(','),\r\n    },\r\n    overrides: {\r\n        MuiCssBaseline: {\r\n            // this is fine for now but perhaps make the background transparent in the future\r\n            \"@global\": {\r\n                body: {\r\n                    \"&::-webkit-scrollbar\": {\r\n                        width: 6,\r\n                    },\r\n                    \"&::-webkit-scrollbar-track\": {\r\n                        boxShadow: `inset 0 0 6px rgba(0, 0, 0, 0.3)`,\r\n                    },\r\n                    \"&::-webkit-scrollbar-thumb\": {\r\n                        backgroundColor: \"darkgrey\",\r\n                        outline: `1px solid slategrey`,\r\n                    },\r\n                },\r\n            },\r\n        },\r\n    },\r\n})\r\n\r\n\r\nfunction App(props) {\r\n    const [isLoading, setLoading] = useState(true);\r\n    const [showLoad, setShowLoad] = useState(true);\r\n\r\n    const [connected, setConnected] = useState(false);\r\n\r\n    const [onboardingCompleted, setOnboardingCompleted] = useState(false);\r\n    const [gameRunning, setGameRunning] = useState(false);\r\n\r\n    const [ready, setReady] = useState(false);\r\n\r\n    const [errorPage, setErrorPage] = useState(null);\r\n\r\n    // WEBSOCKETS MAKE ME WANT TO KILL MYSELF (9/6/2021)\r\n    //----------------------------------------------------------------------------------\r\n\r\n    //connect socket -> check for onboarding -> set ready true\r\n\r\n    useEffect(() => {\r\n        connectSocket()\r\n        socket.subscribe(\"onclose\", disconnect, false, \"onclose\");\r\n        socket.subscribe(\"game_not_running\", gameClosed, false)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (connected && !ready) {\r\n            getStates()\r\n        }\r\n    }, [connected])\r\n\r\n    useEffect(() => {\r\n        console.log(\"checking if ready\")\r\n        if (onboardingCompleted && gameRunning) {\r\n            console.log(\"ready\")\r\n            setReady(true)\r\n        }\r\n    }, [onboardingCompleted, gameRunning])\r\n\r\n    function stopLoading(success) {\r\n        setShowLoad(false)\r\n        setTimeout(() => {\r\n            setLoading(false);\r\n        }, 300)\r\n    }\r\n\r\n    async function connectSocket() {\r\n\r\n        //reset all states\r\n        setLoading(true);\r\n        setShowLoad(true);\r\n        setReady(false);\r\n        setConnected(false);\r\n        setErrorPage(null);\r\n        setOnboardingCompleted(false);\r\n        setGameRunning(false)\r\n\r\n        socket.connect()\r\n            .then((response) => {\r\n                console.log(\"done\")\r\n                setConnected(true);\r\n                stopLoading();\r\n            })\r\n            .catch(() => {\r\n                console.log(\"caught something\")\r\n                setConnected(false);\r\n                stopLoading();\r\n                setErrorPage(<ConnectionFailed retry={connectSocket} />)\r\n            })\r\n\r\n    }\r\n\r\n    function gameStarted() {\r\n        setTimeout(() => {\r\n            setGameRunning(true)\r\n            setErrorPage(null)\r\n        }, 500)\r\n    }\r\n\r\n    function getStates() {\r\n        function onboardingCallback(response) {\r\n            if (Config.BYPASS_ONBOARDING === false) {\r\n                console.log(`onboarded: ${response}`)\r\n                setOnboardingCompleted(response);\r\n            } else {\r\n                setOnboardingCompleted(true)\r\n            }\r\n        }\r\n        socket.request({ \"request\": \"get_onboarding_state\" }, onboardingCallback)\r\n\r\n        function gameRunningCallback(response) {\r\n            console.log(`game running: ${response}`)\r\n            setGameRunning(response)\r\n            if (response === false) {\r\n                setErrorPage(<GameNotRunning callback={gameStarted} />)\r\n            }\r\n        }\r\n        socket.request({ \"request\": \"get_running_state\" }, gameRunningCallback)\r\n\r\n        function serverVersionCallback(response) {\r\n            console.log(`version: ${response}`)\r\n            setVersion(response)\r\n        }\r\n        socket.request({ \"request\": \"get_server_version\" }, serverVersionCallback)\r\n    }\r\n\r\n\r\n    function startupLoading() {\r\n        if (isLoading) {\r\n            return (<WebsocketHandshake open={showLoad} />)\r\n        }\r\n    }\r\n\r\n    function disconnect() {\r\n        console.log(\"disconnected\")\r\n        setConnected(false);\r\n        setReady(false)\r\n        setErrorPage(<ConnectionFailed retry={connectSocket} />)\r\n    }\r\n\r\n    function gameClosed() {\r\n        setGameRunning(false)\r\n        setReady(false)\r\n        setErrorPage(<GameNotRunning callback={gameStarted} />)\r\n    }\r\n\r\n    return (\r\n        <ThemeProvider theme={mainTheme}>\r\n            <CssBaseline />\r\n            {/* <AnimatedCursor\r\n                color=\"255,255,255\"\r\n                innerSize={12}\r\n                outerSize={18}\r\n                outerScale={1.5}\r\n                trailingSpeed={4}\r\n            /> */}\r\n\r\n            {errorPage}\r\n\r\n            {startupLoading()}\r\n\r\n            {ready ?\r\n                <HashRouter basename=\"/\">\r\n                    <Route exact path=\"/\">\r\n                        {onboardingCompleted ? <Redirect to=\"/collection\" /> : <Redirect to=\"/onboarding\" />}\r\n                    </Route>\r\n                    <Route path=\"/collection\">\r\n                        <CollectionHome />\r\n                    </Route>\r\n                    <Route path=\"/onboarding\">\r\n                        <Onboarding />\r\n                    </Route>\r\n                    <Route path=\"/buddies\">\r\n                        <BuddiesHome />\r\n                    </Route>\r\n                </HashRouter>\r\n                : null}\r\n\r\n\r\n        </ThemeProvider>\r\n    );\r\n}\r\n\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();"],"sourceRoot":""}